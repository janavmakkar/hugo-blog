<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Comprehensive Python Cheatsheet | IT is fun</title>
<meta name="keywords" content="python, cheatsheet">
<meta name="description" content="1. Collections: List , Dictionary , Set , Tuple , Range , Enumerate , Iterator , Generator .
2. Types: Type , String , Regular_Exp , Format , Numbers , Combinatorics , Datetime .
3. Syntax: Args , Inline , Import , Decorator , Class , Duck_Types , Enum , Exception .
4. System: Exit , Print , Input , Command_Line_Arguments , Open , Path , OS_Commands .
5. Data: JSON , Pickle , CSV , SQLite , Bytes , Struct , Array , Memory_View , Deque .">
<meta name="author" content="">
<link rel="canonical" href="http://janavmakkar.com/tutorial/cheatsheet/python-cheatsheet/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.bccfefac377bc340f06c260aed1bddf49a4354816d7c570d6aac75a997986c95.css" integrity="sha256-vM/vrDd7w0DwbCYK7Rvd9JpDVIFtfFcNaqx1qZeYbJU=" rel="preload stylesheet" as="style">
<script defer crossorigin="anonymous" src="/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js" integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG&#43;9vmJ0cTS&#43;ovo0FeA="
    onload="hljs.initHighlightingOnLoad();"></script>
<link rel="icon" href="http://janavmakkar.com/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="http://janavmakkar.com/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://janavmakkar.com/favicon-32x32.png">
<link rel="apple-touch-icon" href="http://janavmakkar.com/apple-touch-icon.png">
<link rel="mask-icon" href="http://janavmakkar.com/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-T92C1K135S"></script>
<script>
var doNotTrack = false;
if (!doNotTrack) {
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'G-T92C1K135S', { 'anonymize_ip': false });
}
</script>
<meta property="og:title" content="Comprehensive Python Cheatsheet" />
<meta property="og:description" content="1. Collections: List , Dictionary , Set , Tuple , Range , Enumerate , Iterator , Generator .
2. Types: Type , String , Regular_Exp , Format , Numbers , Combinatorics , Datetime .
3. Syntax: Args , Inline , Import , Decorator , Class , Duck_Types , Enum , Exception .
4. System: Exit , Print , Input , Command_Line_Arguments , Open , Path , OS_Commands .
5. Data: JSON , Pickle , CSV , SQLite , Bytes , Struct , Array , Memory_View , Deque ." />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://janavmakkar.com/tutorial/cheatsheet/python-cheatsheet/" />
<meta property="og:image" content="http://janavmakkar.com/anaconda2.jpg" /><meta property="article:section" content="tutorial" />
<meta property="article:published_time" content="2021-04-06T21:54:57+05:30" />
<meta property="article:modified_time" content="2021-04-06T21:54:57+05:30" />

<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="http://janavmakkar.com/anaconda2.jpg" />
<meta name="twitter:title" content="Comprehensive Python Cheatsheet"/>
<meta name="twitter:description" content="1. Collections: List , Dictionary , Set , Tuple , Range , Enumerate , Iterator , Generator .
2. Types: Type , String , Regular_Exp , Format , Numbers , Combinatorics , Datetime .
3. Syntax: Args , Inline , Import , Decorator , Class , Duck_Types , Enum , Exception .
4. System: Exit , Print , Input , Command_Line_Arguments , Open , Path , OS_Commands .
5. Data: JSON , Pickle , CSV , SQLite , Bytes , Struct , Array , Memory_View , Deque ."/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Tutorials",
      "item": "http://janavmakkar.com/tutorial/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Comprehensive Python Cheatsheet",
      "item": "http://janavmakkar.com/tutorial/cheatsheet/python-cheatsheet/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Comprehensive Python Cheatsheet",
  "name": "Comprehensive Python Cheatsheet",
  "description": "1. Collections: List , Dictionary , Set , Tuple , Range , Enumerate , Iterator , Generator .\n2. Types: Type , String , Regular_Exp , Format , Numbers , Combinatorics , Datetime .\n3. Syntax: Args , Inline , Import , Decorator , Class , Duck_Types , Enum , Exception .\n4. System: Exit , Print , Input , Command_Line_Arguments , Open , Path , OS_Commands .\n5. Data: JSON , Pickle , CSV , SQLite , Bytes , Struct , Array , Memory_View , Deque .",
  "keywords": [
    "python", "cheatsheet"
  ],
  "articleBody": " 1. Collections: List , Dictionary , Set , Tuple , Range , Enumerate , Iterator , Generator .\n2. Types: Type , String , Regular_Exp , Format , Numbers , Combinatorics , Datetime .\n3. Syntax: Args , Inline , Import , Decorator , Class , Duck_Types , Enum , Exception .\n4. System: Exit , Print , Input , Command_Line_Arguments , Open , Path , OS_Commands .\n5. Data: JSON , Pickle , CSV , SQLite , Bytes , Struct , Array , Memory_View , Deque .\n6. Advanced: Threading , Operator , Introspection , Metaprograming , Eval , Coroutines .\n7. Libraries: Progress_Bar , Plot , Table , Curses , Logging , Scraping , Web , Profile ,\nNumPy , Image , Audio , Games , Data .\nMain if __name__ == '__main__': # Runs main() if file wasn't imported. main() List \u003clist\u003e = \u003clist\u003e[\u003cslice\u003e] # Or: [from_inclusive : to_exclusive : ¬±step] \u003clist\u003e.append(\u003cel\u003e) # Or: += [] \u003clist\u003e.extend(\u003ccollection\u003e) # Or: += \u003clist\u003e.sort() # Sorts in ascending order. \u003clist\u003e.reverse() # Reverses the list in-place. \u003clist\u003e = sorted(\u003ccollection\u003e) # Returns a new sorted list. \u003citer\u003e = reversed(\u003clist\u003e) # Returns reversed iterator. sum_of_elements = sum(\u003ccollection\u003e) elementwise_sum = [sum(pair) for pair in zip(list_a, list_b)] sorted_by_second = sorted(\u003ccollection\u003e, key=lambda el: el[1]) sorted_by_both = sorted(\u003ccollection\u003e, key=lambda el: (el[1], el[0])) flatter_list = list(itertools.chain.from_iterable(\u003clist\u003e)) product_of_elems = functools.reduce(lambda out, el: out * el, \u003ccollection\u003e) list_of_chars = list(\u003cstr\u003e) For details about sorted(), min() and max() see sortable. Module operator provides functions itemgetter() and mul() that offer the same functionality as lambda expressions above. \u003clist\u003e.insert(\u003cint\u003e, \u003cel\u003e) # Inserts item at index and moves the rest to the right. \u003cel\u003e = \u003clist\u003e.pop([\u003cint\u003e]) # Removes and returns item at index or from the end. \u003cint\u003e = \u003clist\u003e.count(\u003cel\u003e) # Returns number of occurrences. Also works on strings. \u003cint\u003e = \u003clist\u003e.index(\u003cel\u003e) # Returns index of the first occurrence or raises ValueError. \u003clist\u003e.remove(\u003cel\u003e) # Removes first occurrence of the item or raises ValueError. \u003clist\u003e.clear() # Removes all items. Also works on dictionary and set. Dictionary \u003cview\u003e = \u003cdict\u003e.keys() # Coll. of keys that reflects changes. \u003cview\u003e = \u003cdict\u003e.values() # Coll. of values that reflects changes. \u003cview\u003e = \u003cdict\u003e.items() # Coll. of key-value tuples that reflects chgs. value = \u003cdict\u003e.get(key, default=None) # Returns default if key is missing. value = \u003cdict\u003e.setdefault(key, default=None) # Returns and writes default if key is missing. \u003cdict\u003e = collections.defaultdict(\u003ctype\u003e) # Creates a dict with default value of type. \u003cdict\u003e = collections.defaultdict(lambda: 1) # Creates a dict with default value 1. \u003cdict\u003e = dict(\u003ccollection\u003e) # Creates a dict from coll. of key-value pairs. \u003cdict\u003e = dict(zip(keys, values)) # Creates a dict from two collections. \u003cdict\u003e = dict.fromkeys(keys [, value]) # Creates a dict from collection of keys. \u003cdict\u003e.update(\u003cdict\u003e) # Adds items. Replaces ones with matching keys. value = \u003cdict\u003e.pop(key) # Removes item or raises KeyError. {k for k, v in \u003cdict\u003e.items() if v == value} # Returns set of keys that point to the value. {k: v for k, v in \u003cdict\u003e.items() if k in keys} # Returns a dictionary, filtered by keys. Counter \u003e\u003e\u003e from collections import Counter \u003e\u003e\u003e colors = ['blue', 'blue', 'blue', 'red', 'red'] \u003e\u003e\u003e counter = Counter(colors) \u003e\u003e\u003e counter['yellow'] += 1 Counter({'blue': 3, 'red': 2, 'yellow': 1}) \u003e\u003e\u003e counter.most_common()[0] ('blue', 3) Set \u003cset\u003e = set() \u003cset\u003e.add(\u003cel\u003e) # Or: |= {} \u003cset\u003e.update(\u003ccollection\u003e [, ...]) # Or: |= \u003cset\u003e = \u003cset\u003e.union(\u003ccoll.\u003e) # Or: | \u003cset\u003e = \u003cset\u003e.intersection(\u003ccoll.\u003e) # Or: \u0026 \u003cset\u003e = \u003cset\u003e.difference(\u003ccoll.\u003e) # Or: - \u003cset\u003e = \u003cset\u003e.symmetric_difference(\u003ccoll.\u003e) # Or: ^ \u003cbool\u003e = \u003cset\u003e.issubset(\u003ccoll.\u003e) # Or: \u003c= \u003cbool\u003e = \u003cset\u003e.issuperset(\u003ccoll.\u003e) # Or: \u003e= \u003cel\u003e = \u003cset\u003e.pop() # Raises KeyError if empty. \u003cset\u003e.remove(\u003cel\u003e) # Raises KeyError if missing. \u003cset\u003e.discard(\u003cel\u003e) # Doesn't raise an error. Frozen Set Is immutable and hashable. That means it can be used as a key in a dictionary or as an element in a set. \u003cfrozenset\u003e = frozenset(\u003ccollection\u003e) Tuple Tuple is an immutable and hashable list.\n\u003ctuple\u003e = () \u003ctuple\u003e = (\u003cel\u003e,) # Or: , \u003ctuple\u003e = (\u003cel_1\u003e, \u003cel_2\u003e [, ...]) # Or: , [, ...] Named Tuple Tuple‚Äôs subclass with named elements.\n\u003e\u003e\u003e from collections import namedtuple \u003e\u003e\u003e Point = namedtuple('Point', 'x y') \u003e\u003e\u003e p = Point(1, y=2) Point(x=1, y=2) \u003e\u003e\u003e p[0] 1 \u003e\u003e\u003e p.x 1 \u003e\u003e\u003e getattr(p, 'y') 2 \u003e\u003e\u003e p._fields # Or: Point._fields ('x', 'y') Range \u003crange\u003e = range(to_exclusive) \u003crange\u003e = range(from_inclusive, to_exclusive) \u003crange\u003e = range(from_inclusive, to_exclusive, ¬±step_size) from_inclusive = \u003crange\u003e.start to_exclusive = \u003crange\u003e.stop Enumerate for i, el in enumerate(\u003ccollection\u003e [, i_start]): ... Iterator \u003citer\u003e = iter(\u003ccollection\u003e) # `iter()` returns unmodified iterator. \u003citer\u003e = iter(\u003cfunction\u003e, to_exclusive) # A sequence of return values until 'to_exclusive'. \u003cel\u003e = next(\u003citer\u003e [, default]) # Raises StopIteration or returns 'default' on end. \u003clist\u003e = list(\u003citer\u003e) # Returns a list of iterator's remaining elements. Itertools from itertools import count, repeat, cycle, chain, islice \u003citer\u003e = count(start=0, step=1) # Returns updated value endlessly. Accepts floats. \u003citer\u003e = repeat(\u003cel\u003e [, times]) # Returns element endlessly or 'times' times. \u003citer\u003e = cycle(\u003ccollection\u003e) # Repeats the sequence endlessly. \u003citer\u003e = chain(\u003ccoll_1\u003e, \u003ccoll_2\u003e [, ...]) # Empties collections in order (figuratively). \u003citer\u003e = chain.from_iterable(\u003ccollection\u003e) # Empties collections inside a collection in order. \u003citer\u003e = islice(\u003ccoll\u003e, to_exclusive) # Only returns first 'to_exclusive' elements. \u003citer\u003e = islice(\u003ccoll\u003e, from_inclusive, ‚Ä¶) # `to_exclusive, step_size`. Generator Any function that contains a yield statement returns a generator. Generators and iterators are interchangeable. def count(start, step): while True: yield start start += step \u003e\u003e\u003e counter = count(10, 2) \u003e\u003e\u003e next(counter), next(counter), next(counter) (10, 12, 14) Type Everything is an object. Every object has a type. Type and class are synonymous. \u003ctype\u003e = type(\u003cel\u003e) # Or: .__class__ \u003cbool\u003e = isinstance(\u003cel\u003e, \u003ctype\u003e) # Or: issubclass(type(), ) \u003e\u003e\u003e type('a'), 'a'.__class__, str (\u003cclass 'str'\u003e, ",
  "wordCount" : "14666",
  "inLanguage": "en",
  "image":"http://janavmakkar.com/anaconda2.jpg","datePublished": "2021-04-06T21:54:57+05:30",
  "dateModified": "2021-04-06T21:54:57+05:30",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "http://janavmakkar.com/tutorial/cheatsheet/python-cheatsheet/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "IT is fun",
    "logo": {
      "@type": "ImageObject",
      "url": "http://janavmakkar.com/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://janavmakkar.com/" accesskey="h" title="IT is fun (Alt + H)">IT is fun</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="http://janavmakkar.com/how-to/" title="How-To&#39;sü§î">
                    <span>How-To&#39;sü§î</span>
                </a>
            </li>
            <li>
                <a href="http://janavmakkar.com/cheatsheet/" title="Cheatsheetsüìú">
                    <span>Cheatsheetsüìú</span>
                </a>
            </li>
            <li>
                <a href="http://janavmakkar.com/tags/" title="Tagsüè∑Ô∏è">
                    <span>Tagsüè∑Ô∏è</span>
                </a>
            </li>
            <li>
                <a href="http://janavmakkar.com/categories/" title="Categoriesüß∫">
                    <span>Categoriesüß∫</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="http://janavmakkar.com/">Home</a>&nbsp;¬ª&nbsp;<a href="http://janavmakkar.com/tutorial/">Tutorials</a></div>
    <h1 class="post-title">
      Comprehensive Python Cheatsheet
    </h1>
    <div class="post-meta"><span title='2021-04-06 21:54:57 +0530 IST'>April 6, 2021</span>

</div>
  </header> 
<figure class="entry-cover"><img loading="lazy" src="http://janavmakkar.com/anaconda2.jpg" alt="python">
        
</figure><div class="toc">
    <details >
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">Table of Contents</span>
        </summary>

        <div class="inner"><ul><ul>
                <li>
                    <a href="#main" aria-label="Main">Main</a></li>
                <li>
                    <a href="#list" aria-label="List">List</a></li>
                <li>
                    <a href="#dictionary" aria-label="Dictionary">Dictionary</a><ul>
                        
                <li>
                    <a href="#counter" aria-label="Counter">Counter</a></li></ul>
                </li>
                <li>
                    <a href="#set" aria-label="Set">Set</a><ul>
                        
                <li>
                    <a href="#frozen-set" aria-label="Frozen Set">Frozen Set</a></li></ul>
                </li>
                <li>
                    <a href="#tuple" aria-label="Tuple">Tuple</a><ul>
                        
                <li>
                    <a href="#named-tuple" aria-label="Named Tuple">Named Tuple</a></li></ul>
                </li>
                <li>
                    <a href="#range" aria-label="Range">Range</a></li>
                <li>
                    <a href="#enumerate" aria-label="Enumerate">Enumerate</a></li>
                <li>
                    <a href="#iterator" aria-label="Iterator">Iterator</a><ul>
                        
                <li>
                    <a href="#itertools" aria-label="Itertools">Itertools</a></li></ul>
                </li>
                <li>
                    <a href="#generator" aria-label="Generator">Generator</a></li>
                <li>
                    <a href="#type" aria-label="Type">Type</a><ul>
                        <ul>
                        
                <li>
                    <a href="#some-types-do-not-have-built-in-names-so-they-must-be-imported" aria-label="Some types do not have built-in names, so they must be imported:">Some types do not have built-in names, so they must be imported:</a></li></ul>
                    
                <li>
                    <a href="#abstract-base-classes" aria-label="Abstract Base Classes">Abstract Base Classes</a></li></ul>
                </li>
                <li>
                    <a href="#string" aria-label="String">String</a><ul>
                        
                <li>
                    <a href="#property-methods" aria-label="Property Methods">Property Methods</a></li></ul>
                </li>
                <li>
                    <a href="#regex" aria-label="Regex">Regex</a><ul>
                        
                <li>
                    <a href="#match-object" aria-label="Match Object">Match Object</a></li>
                <li>
                    <a href="#special-sequences" aria-label="Special Sequences">Special Sequences</a></li></ul>
                </li>
                <li>
                    <a href="#format" aria-label="Format">Format</a><ul>
                        
                <li>
                    <a href="#attributes" aria-label="Attributes">Attributes</a></li>
                <li>
                    <a href="#general-options" aria-label="General Options">General Options</a></li>
                <li>
                    <a href="#strings" aria-label="Strings">Strings</a></li>
                <li>
                    <a href="#numbers" aria-label="Numbers">Numbers</a></li>
                <li>
                    <a href="#floats" aria-label="Floats">Floats</a><ul>
                        
                <li>
                    <a href="#comparison-of-presentation-types" aria-label="Comparison of presentation types:">Comparison of presentation types:</a></li></ul>
                </li>
                <li>
                    <a href="#ints" aria-label="Ints">Ints</a></li></ul>
                </li>
                <li>
                    <a href="#numbers-1" aria-label="Numbers">Numbers</a><ul>
                        
                <li>
                    <a href="#basic-functions" aria-label="Basic Functions">Basic Functions</a></li>
                <li>
                    <a href="#math" aria-label="Math">Math</a></li>
                <li>
                    <a href="#statistics" aria-label="Statistics">Statistics</a></li>
                <li>
                    <a href="#random" aria-label="Random">Random</a></li>
                <li>
                    <a href="#bin-hex" aria-label="Bin, Hex">Bin, Hex</a></li>
                <li>
                    <a href="#bitwise-operators" aria-label="Bitwise Operators">Bitwise Operators</a></li></ul>
                </li>
                <li>
                    <a href="#combinatorics" aria-label="Combinatorics">Combinatorics</a></li>
                <li>
                    <a href="#datetime" aria-label="Datetime">Datetime</a><ul>
                        
                <li>
                    <a href="#constructors" aria-label="Constructors">Constructors</a></li>
                <li>
                    <a href="#now" aria-label="Now">Now</a></li>
                <li>
                    <a href="#timezone" aria-label="Timezone">Timezone</a></li>
                <li>
                    <a href="#encode" aria-label="Encode">Encode</a></li>
                <li>
                    <a href="#decode" aria-label="Decode">Decode</a></li>
                <li>
                    <a href="#format-1" aria-label="Format">Format</a></li>
                <li>
                    <a href="#arithmetics" aria-label="Arithmetics">Arithmetics</a></li></ul>
                </li>
                <li>
                    <a href="#arguments" aria-label="Arguments">Arguments</a><ul>
                        
                <li>
                    <a href="#inside-function-call" aria-label="Inside Function Call">Inside Function Call</a></li>
                <li>
                    <a href="#inside-function-definition" aria-label="Inside Function Definition">Inside Function Definition</a></li></ul>
                </li>
                <li>
                    <a href="#splat-operator" aria-label="Splat Operator">Splat Operator</a><ul>
                        
                <li>
                    <a href="#inside-function-call-1" aria-label="Inside Function Call">Inside Function Call</a><ul>
                        
                <li>
                    <a href="#is-the-same-as" aria-label="Is the same as:">Is the same as:</a></li></ul>
                </li>
                <li>
                    <a href="#inside-function-definition-1" aria-label="Inside Function Definition">Inside Function Definition</a><ul>
                        
                <li>
                    <a href="#legal-argument-combinations" aria-label="Legal argument combinations:">Legal argument combinations:</a></li></ul>
                </li>
                <li>
                    <a href="#other-uses" aria-label="Other Uses">Other Uses</a></li></ul>
                </li>
                <li>
                    <a href="#inline" aria-label="Inline">Inline</a><ul>
                        
                <li>
                    <a href="#lambda" aria-label="Lambda">Lambda</a></li>
                <li>
                    <a href="#comprehensions" aria-label="Comprehensions">Comprehensions</a></li>
                <li>
                    <a href="#map-filter-reduce" aria-label="Map, Filter, Reduce">Map, Filter, Reduce</a></li>
                <li>
                    <a href="#any-all" aria-label="Any, All">Any, All</a></li>
                <li>
                    <a href="#conditional-expression" aria-label="Conditional Expression">Conditional Expression</a></li>
                <li>
                    <a href="#named-tuple-enum-dataclass" aria-label="Named Tuple, Enum, Dataclass">Named Tuple, Enum, Dataclass</a></li></ul>
                </li>
                <li>
                    <a href="#imports" aria-label="Imports">Imports</a></li>
                <li>
                    <a href="#closure" aria-label="Closure">Closure</a><ul>
                        
                <li>
                    <a href="#partial" aria-label="Partial">Partial</a></li>
                <li>
                    <a href="#non-local" aria-label="Non-Local">Non-Local</a></li></ul>
                </li>
                <li>
                    <a href="#decorator" aria-label="Decorator">Decorator</a><ul>
                        
                <li>
                    <a href="#debugger-example" aria-label="Debugger Example">Debugger Example</a></li>
                <li>
                    <a href="#lru-cache" aria-label="LRU Cache">LRU Cache</a></li>
                <li>
                    <a href="#parametrized-decorator" aria-label="Parametrized Decorator">Parametrized Decorator</a></li></ul>
                </li>
                <li>
                    <a href="#class" aria-label="Class">Class</a><ul>
                        <ul>
                        
                <li>
                    <a href="#str-use-cases" aria-label="Str() use cases:">Str() use cases:</a></li>
                <li>
                    <a href="#repr-use-cases" aria-label="Repr() use cases:">Repr() use cases:</a></li></ul>
                    
                <li>
                    <a href="#constructor-overloading" aria-label="Constructor Overloading">Constructor Overloading</a></li>
                <li>
                    <a href="#inheritance" aria-label="Inheritance">Inheritance</a></li>
                <li>
                    <a href="#multiple-inheritance" aria-label="Multiple Inheritance">Multiple Inheritance</a></li>
                <li>
                    <a href="#property" aria-label="Property">Property</a></li>
                <li>
                    <a href="#dataclass" aria-label="Dataclass">Dataclass</a><ul>
                        
                <li>
                    <a href="#inline-1" aria-label="Inline:">Inline:</a></li>
                <li>
                    <a href="#rest-of-type-annotations-cpython-interpreter-ignores-them-all" aria-label="Rest of type annotations (CPython interpreter ignores them all):">Rest of type annotations (CPython interpreter ignores them all):</a></li></ul>
                </li>
                <li>
                    <a href="#slots" aria-label="Slots">Slots</a></li>
                <li>
                    <a href="#copy" aria-label="Copy">Copy</a></li></ul>
                </li>
                <li>
                    <a href="#duck-types" aria-label="Duck Types">Duck Types</a><ul>
                        
                <li>
                    <a href="#comparable" aria-label="Comparable">Comparable</a></li>
                <li>
                    <a href="#hashable" aria-label="Hashable">Hashable</a></li>
                <li>
                    <a href="#sortable" aria-label="Sortable">Sortable</a></li>
                <li>
                    <a href="#iterator-1" aria-label="Iterator">Iterator</a><ul>
                        
                <li>
                    <a href="#python-has-many-different-iterator-objects" aria-label="Python has many different iterator objects:">Python has many different iterator objects:</a></li></ul>
                </li>
                <li>
                    <a href="#callable" aria-label="Callable">Callable</a></li>
                <li>
                    <a href="#context-manager" aria-label="Context Manager">Context Manager</a></li></ul>
                </li>
                <li>
                    <a href="#iterable-duck-types" aria-label="Iterable Duck Types">Iterable Duck Types</a><ul>
                        
                <li>
                    <a href="#iterable" aria-label="Iterable">Iterable</a></li>
                <li>
                    <a href="#collection" aria-label="Collection">Collection</a></li>
                <li>
                    <a href="#sequence" aria-label="Sequence">Sequence</a><ul>
                        
                <li>
                    <a href="#discrepancies-between-glossary-definitions-and-abstract-base-classes" aria-label="Discrepancies between glossary definitions and abstract base classes:">Discrepancies between glossary definitions and abstract base classes:</a></li></ul>
                </li>
                <li>
                    <a href="#abc-sequence" aria-label="ABC Sequence">ABC Sequence</a><ul>
                        
                <li>
                    <a href="#table-of-required-and-automatically-available-special-methods" aria-label="Table of required and automatically available special methods:">Table of required and automatically available special methods:</a></li></ul>
                </li></ul>
                </li>
                <li>
                    <a href="#enum" aria-label="Enum">Enum</a><ul>
                        
                <li>
                    <a href="#inline-2" aria-label="Inline">Inline</a><ul>
                        
                <li>
                    <a href="#user-defined-functions-cannot-be-values-so-they-must-be-wrapped" aria-label="User-defined functions cannot be values, so they must be wrapped:">User-defined functions cannot be values, so they must be wrapped:</a></li></ul>
                </li></ul>
                </li>
                <li>
                    <a href="#exceptions" aria-label="Exceptions">Exceptions</a><ul>
                        
                <li>
                    <a href="#basic-example" aria-label="Basic Example">Basic Example</a></li>
                <li>
                    <a href="#complex-example" aria-label="Complex Example">Complex Example</a></li>
                <li>
                    <a href="#catching-exceptions" aria-label="Catching Exceptions">Catching Exceptions</a></li>
                <li>
                    <a href="#raising-exceptions" aria-label="Raising Exceptions">Raising Exceptions</a><ul>
                        
                <li>
                    <a href="#re-raising-caught-exception" aria-label="Re-raising caught exception:">Re-raising caught exception:</a></li></ul>
                </li>
                <li>
                    <a href="#exception-object" aria-label="Exception Object">Exception Object</a></li>
                <li>
                    <a href="#built-in-exceptions" aria-label="Built-in Exceptions">Built-in Exceptions</a><ul>
                        
                <li>
                    <a href="#collections-and-their-exceptions" aria-label="Collections and their exceptions:">Collections and their exceptions:</a></li>
                <li>
                    <a href="#useful-built-in-exceptions" aria-label="Useful built-in exceptions:">Useful built-in exceptions:</a></li></ul>
                </li>
                <li>
                    <a href="#user-defined-exceptions" aria-label="User-defined Exceptions">User-defined Exceptions</a></li></ul>
                </li>
                <li>
                    <a href="#exit" aria-label="Exit">Exit</a></li>
                <li>
                    <a href="#print" aria-label="Print">Print</a><ul>
                        
                <li>
                    <a href="#pretty-print" aria-label="Pretty Print">Pretty Print</a></li></ul>
                </li>
                <li>
                    <a href="#input" aria-label="Input">Input</a></li>
                <li>
                    <a href="#command-line-arguments" aria-label="Command Line Arguments">Command Line Arguments</a><ul>
                        
                <li>
                    <a href="#argument-parser" aria-label="Argument Parser">Argument Parser</a></li></ul>
                </li>
                <li>
                    <a href="#open" aria-label="Open">Open</a><ul>
                        
                <li>
                    <a href="#modes" aria-label="Modes">Modes</a></li>
                <li>
                    <a href="#exceptions-1" aria-label="Exceptions">Exceptions</a></li>
                <li>
                    <a href="#file-object" aria-label="File Object">File Object</a></li>
                <li>
                    <a href="#read-text-from-file" aria-label="Read Text from File">Read Text from File</a></li>
                <li>
                    <a href="#write-text-to-file" aria-label="Write Text to File">Write Text to File</a></li></ul>
                </li>
                <li>
                    <a href="#paths" aria-label="Paths">Paths</a><ul>
                        
                <li>
                    <a href="#direntry" aria-label="DirEntry">DirEntry</a></li>
                <li>
                    <a href="#path-object" aria-label="Path Object">Path Object</a></li></ul>
                </li>
                <li>
                    <a href="#os-commands" aria-label="OS Commands">OS Commands</a><ul>
                        
                <li>
                    <a href="#shell-commands" aria-label="Shell Commands">Shell Commands</a><ul>
                        
                <li>
                    <a href="#sends-1--1-to-the-basic-calculator-and-captures-its-output" aria-label="Sends &amp;lsquo;1 &#43; 1&amp;rsquo; to the basic calculator and captures its output:">Sends &lsquo;1 + 1&rsquo; to the basic calculator and captures its output:</a></li>
                <li>
                    <a href="#sends-testin-to-the-basic-calculator-running-in-standard-mode-and-saves-its-output-to-testout" aria-label="Sends test.in to the basic calculator running in standard mode and saves its output to test.out:">Sends test.in to the basic calculator running in standard mode and saves its output to test.out:</a></li></ul>
                </li></ul>
                </li>
                <li>
                    <a href="#json" aria-label="JSON">JSON</a><ul>
                        
                <li>
                    <a href="#read-object-from-json-file" aria-label="Read Object from JSON File">Read Object from JSON File</a></li>
                <li>
                    <a href="#write-object-to-json-file" aria-label="Write Object to JSON File">Write Object to JSON File</a></li></ul>
                </li>
                <li>
                    <a href="#pickle" aria-label="Pickle">Pickle</a><ul>
                        
                <li>
                    <a href="#read-object-from-file" aria-label="Read Object from File">Read Object from File</a></li>
                <li>
                    <a href="#write-object-to-file" aria-label="Write Object to File">Write Object to File</a></li></ul>
                </li>
                <li>
                    <a href="#csv" aria-label="CSV">CSV</a><ul>
                        
                <li>
                    <a href="#read" aria-label="Read">Read</a></li>
                <li>
                    <a href="#write" aria-label="Write">Write</a></li>
                <li>
                    <a href="#parameters" aria-label="Parameters">Parameters</a></li>
                <li>
                    <a href="#dialects" aria-label="Dialects">Dialects</a></li>
                <li>
                    <a href="#read-rows-from-csv-file" aria-label="Read Rows from CSV File">Read Rows from CSV File</a></li>
                <li>
                    <a href="#write-rows-to-csv-file" aria-label="Write Rows to CSV File">Write Rows to CSV File</a></li></ul>
                </li>
                <li>
                    <a href="#sqlite" aria-label="SQLite">SQLite</a><ul>
                        
                <li>
                    <a href="#connect" aria-label="Connect">Connect</a></li>
                <li>
                    <a href="#read-1" aria-label="Read">Read</a></li>
                <li>
                    <a href="#write-1" aria-label="Write">Write</a><ul>
                        
                <li>
                    <a href="#or" aria-label="Or:">Or:</a></li></ul>
                </li>
                <li>
                    <a href="#placeholders" aria-label="Placeholders">Placeholders</a></li>
                <li>
                    <a href="#example" aria-label="Example">Example</a></li>
                <li>
                    <a href="#mysql" aria-label="MySQL">MySQL</a></li></ul>
                </li>
                <li>
                    <a href="#bytes" aria-label="Bytes">Bytes</a><ul>
                        
                <li>
                    <a href="#encode-1" aria-label="Encode">Encode</a></li>
                <li>
                    <a href="#decode-1" aria-label="Decode">Decode</a></li>
                <li>
                    <a href="#read-bytes-from-file" aria-label="Read Bytes from File">Read Bytes from File</a></li>
                <li>
                    <a href="#write-bytes-to-file" aria-label="Write Bytes to File">Write Bytes to File</a></li></ul>
                </li>
                <li>
                    <a href="#struct" aria-label="Struct">Struct</a><ul>
                        
                <li>
                    <a href="#format-2" aria-label="Format">Format</a><ul>
                        
                <li>
                    <a href="#for-standard-type-sizes-and-manual-alignment-padding-start-format-string-with" aria-label="For standard type sizes and manual alignment (padding) start format string with:">For standard type sizes and manual alignment (padding) start format string with:</a></li>
                <li>
                    <a href="#besides-numbers-pack-and-unpack-also-support-bytes-objects-as-part-of-the-seqence" aria-label="Besides numbers, pack() and unpack() also support bytes objects as part of the seqence:">Besides numbers, pack() and unpack() also support bytes objects as part of the seqence:</a></li>
                <li>
                    <a href="#integer-types-use-a-capital-letter-for-unsigned-type-minimum-and-standard-sizes-are-in-brackets" aria-label="Integer types. Use a capital letter for unsigned type. Minimum and standard sizes are in brackets:">Integer types. Use a capital letter for unsigned type. Minimum and standard sizes are in brackets:</a></li>
                <li>
                    <a href="#floating-point-types" aria-label="Floating point types:">Floating point types:</a></li></ul>
                </li></ul>
                </li>
                <li>
                    <a href="#array" aria-label="Array">Array</a></li>
                <li>
                    <a href="#memory-view" aria-label="Memory View">Memory View</a><ul>
                        
                <li>
                    <a href="#decode-2" aria-label="Decode">Decode</a></li></ul>
                </li>
                <li>
                    <a href="#deque" aria-label="Deque">Deque</a></li>
                <li>
                    <a href="#threading" aria-label="Threading">Threading</a><ul>
                        
                <li>
                    <a href="#thread" aria-label="Thread">Thread</a></li>
                <li>
                    <a href="#lock" aria-label="Lock">Lock</a><ul>
                        
                <li>
                    <a href="#or-1" aria-label="Or:">Or:</a></li></ul>
                </li>
                <li>
                    <a href="#semaphore-event-barrier" aria-label="Semaphore, Event, Barrier">Semaphore, Event, Barrier</a></li>
                <li>
                    <a href="#thread-pool-executor" aria-label="Thread Pool Executor">Thread Pool Executor</a></li>
                <li>
                    <a href="#queue" aria-label="Queue">Queue</a></li></ul>
                </li>
                <li>
                    <a href="#operator" aria-label="Operator">Operator</a></li>
                <li>
                    <a href="#introspection" aria-label="Introspection">Introspection</a><ul>
                        
                <li>
                    <a href="#variables" aria-label="Variables">Variables</a></li>
                <li>
                    <a href="#attributes-1" aria-label="Attributes">Attributes</a></li>
                <li>
                    <a href="#parameters-1" aria-label="Parameters">Parameters</a></li></ul>
                </li>
                <li>
                    <a href="#metaprogramming" aria-label="Metaprogramming">Metaprogramming</a><ul>
                        
                <li>
                    <a href="#type-1" aria-label="Type">Type</a></li>
                <li>
                    <a href="#meta-class" aria-label="Meta Class">Meta Class</a><ul>
                        
                <li>
                    <a href="#or-2" aria-label="Or:">Or:</a></li></ul>
                </li>
                <li>
                    <a href="#metaclass-attribute" aria-label="Metaclass Attribute">Metaclass Attribute</a></li>
                <li>
                    <a href="#type-diagram" aria-label="Type Diagram">Type Diagram</a></li>
                <li>
                    <a href="#inheritance-diagram" aria-label="Inheritance Diagram">Inheritance Diagram</a></li></ul>
                </li>
                <li>
                    <a href="#eval" aria-label="Eval">Eval</a></li>
                <li>
                    <a href="#coroutines" aria-label="Coroutines">Coroutines</a><ul>
                        <ul>
                        
                <li>
                    <a href="#runs-a-terminal-game-where-you-control-an-asterisk-that-must-avoid-numbers" aria-label="Runs a terminal game where you control an asterisk that must avoid numbers:">Runs a terminal game where you control an asterisk that must avoid numbers:</a></li></ul>
                    </ul>
                </li></ul>
                    
                <li>
                    <a href="#libraries" aria-label="Libraries">Libraries</a><ul>
                        
                <li>
                    <a href="#progress-bar" aria-label="Progress Bar">Progress Bar</a></li>
                <li>
                    <a href="#plot" aria-label="Plot">Plot</a></li>
                <li>
                    <a href="#table" aria-label="Table">Table</a><ul>
                        <ul>
                        
                <li>
                    <a href="#prints-a-csv-file-as-an-ascii-table" aria-label="Prints a CSV file as an ASCII table:">Prints a CSV file as an ASCII table:</a></li></ul>
                    </ul>
                </li>
                <li>
                    <a href="#curses" aria-label="Curses">Curses</a><ul>
                        <ul>
                        
                <li>
                    <a href="#runs-a-basic-file-explorer-in-the-terminal" aria-label="Runs a basic file explorer in the terminal:">Runs a basic file explorer in the terminal:</a></li></ul>
                    </ul>
                </li>
                <li>
                    <a href="#logging" aria-label="Logging">Logging</a><ul>
                        
                <li>
                    <a href="#exceptions-2" aria-label="Exceptions">Exceptions</a></li>
                <li>
                    <a href="#rotation" aria-label="Rotation">Rotation</a></li>
                <li>
                    <a href="#retention" aria-label="Retention">Retention</a></li></ul>
                </li>
                <li>
                    <a href="#scraping" aria-label="Scraping">Scraping</a><ul>
                        <ul>
                        
                <li>
                    <a href="#scrapes-pythons-url-version-number-and-logo-from-its-wikipedia-page" aria-label="Scrapes Python&amp;rsquo;s URL, version number and logo from its Wikipedia page:">Scrapes Python&rsquo;s URL, version number and logo from its Wikipedia page:</a></li></ul>
                    </ul>
                </li>
                <li>
                    <a href="#web" aria-label="Web">Web</a><ul>
                        
                <li>
                    <a href="#run" aria-label="Run">Run</a></li>
                <li>
                    <a href="#static-request" aria-label="Static Request">Static Request</a></li>
                <li>
                    <a href="#dynamic-request" aria-label="Dynamic Request">Dynamic Request</a></li>
                <li>
                    <a href="#rest-request" aria-label="REST Request">REST Request</a><ul>
                        
                <li>
                    <a href="#test" aria-label="Test:">Test:</a></li></ul>
                </li></ul>
                </li>
                <li>
                    <a href="#profiling" aria-label="Profiling">Profiling</a><ul>
                        
                <li>
                    <a href="#stopwatch" aria-label="Stopwatch">Stopwatch</a><ul>
                        
                <li>
                    <a href="#high-performance" aria-label="High performance:">High performance:</a></li></ul>
                </li>
                <li>
                    <a href="#timing-a-snippet" aria-label="Timing a Snippet">Timing a Snippet</a></li>
                <li>
                    <a href="#profiling-by-line" aria-label="Profiling by Line">Profiling by Line</a></li>
                <li>
                    <a href="#call-graph" aria-label="Call Graph">Call Graph</a><ul>
                        
                <li>
                    <a href="#generates-a-png-image-of-the-call-graph-with-highlighted-bottlenecks" aria-label="Generates a PNG image of the call graph with highlighted bottlenecks:">Generates a PNG image of the call graph with highlighted bottlenecks:</a></li></ul>
                </li></ul>
                </li>
                <li>
                    <a href="#numpy" aria-label="NumPy">NumPy</a><ul>
                        
                <li>
                    <a href="#indexing" aria-label="Indexing">Indexing</a></li>
                <li>
                    <a href="#broadcasting" aria-label="Broadcasting">Broadcasting</a><ul>
                        
                <li>
                    <a href="#1-if-array-shapes-differ-in-length-left-pad-the-shorter-shape-with-ones" aria-label="1. If array shapes differ in length, left-pad the shorter shape with ones:">1. If array shapes differ in length, left-pad the shorter shape with ones:</a></li>
                <li>
                    <a href="#2-if-any-dimensions-differ-in-size-expand-the-ones-that-have-size-1-by-duplicating-their-elements" aria-label="2. If any dimensions differ in size, expand the ones that have size 1 by duplicating their elements:">2. If any dimensions differ in size, expand the ones that have size 1 by duplicating their elements:</a></li>
                <li>
                    <a href="#3-if-neither-non-matching-dimension-has-size-1-raise-an-error" aria-label="3. If neither non-matching dimension has size 1, raise an error.">3. If neither non-matching dimension has size 1, raise an error.</a></li></ul>
                </li>
                <li>
                    <a href="#example-1" aria-label="Example">Example</a><ul>
                        
                <li>
                    <a href="#for-each-point-returns-index-of-its-nearest-point-01-06-08--1-2-1" aria-label="For each point returns index of its nearest point ([0.1, 0.6, 0.8] =&amp;gt; [1, 2, 1]):">For each point returns index of its nearest point (<code>[0.1, 0.6, 0.8] =&gt; [1, 2, 1]</code>):</a></li></ul>
                </li></ul>
                </li>
                <li>
                    <a href="#image" aria-label="Image">Image</a><ul>
                        
                <li>
                    <a href="#modes-1" aria-label="Modes">Modes</a></li>
                <li>
                    <a href="#examples" aria-label="Examples">Examples</a><ul>
                        
                <li>
                    <a href="#creates-a-png-image-of-a-rainbow-gradient" aria-label="Creates a PNG image of a rainbow gradient:">Creates a PNG image of a rainbow gradient:</a></li>
                <li>
                    <a href="#adds-noise-to-a-png-image" aria-label="Adds noise to a PNG image:">Adds noise to a PNG image:</a></li></ul>
                </li>
                <li>
                    <a href="#image-draw" aria-label="Image Draw">Image Draw</a></li></ul>
                </li>
                <li>
                    <a href="#animation" aria-label="Animation">Animation</a><ul>
                        <ul>
                        
                <li>
                    <a href="#creates-a-gif-of-a-bouncing-ball" aria-label="Creates a GIF of a bouncing ball:">Creates a GIF of a bouncing ball:</a></li></ul>
                    </ul>
                </li>
                <li>
                    <a href="#audio" aria-label="Audio">Audio</a><ul>
                        
                <li>
                    <a href="#sample-values" aria-label="Sample Values">Sample Values</a></li>
                <li>
                    <a href="#read-float-samples-from-wav-file" aria-label="Read Float Samples from WAV File">Read Float Samples from WAV File</a></li>
                <li>
                    <a href="#write-float-samples-to-wav-file" aria-label="Write Float Samples to WAV File">Write Float Samples to WAV File</a></li>
                <li>
                    <a href="#examples-1" aria-label="Examples">Examples</a><ul>
                        
                <li>
                    <a href="#saves-a-440-hz-sine-wave-to-a-mono-wav-file" aria-label="Saves a 440 Hz sine wave to a mono WAV file:">Saves a 440 Hz sine wave to a mono WAV file:</a></li>
                <li>
                    <a href="#adds-noise-to-a-mono-wav-file" aria-label="Adds noise to a mono WAV file:">Adds noise to a mono WAV file:</a></li>
                <li>
                    <a href="#plays-a-wav-file" aria-label="Plays a WAV file:">Plays a WAV file:</a></li></ul>
                </li>
                <li>
                    <a href="#text-to-speech" aria-label="Text to Speech">Text to Speech</a></li></ul>
                </li>
                <li>
                    <a href="#synthesizer" aria-label="Synthesizer">Synthesizer</a><ul>
                        <ul>
                        
                <li>
                    <a href="#plays-popcorn-by-gershon-kingsley" aria-label="Plays Popcorn by Gershon Kingsley:">Plays Popcorn by Gershon Kingsley:</a></li></ul>
                    </ul>
                </li>
                <li>
                    <a href="#pygame" aria-label="Pygame">Pygame</a><ul>
                        
                <li>
                    <a href="#basic-example-1" aria-label="Basic Example">Basic Example</a></li>
                <li>
                    <a href="#rectangle" aria-label="Rectangle">Rectangle</a></li>
                <li>
                    <a href="#surface" aria-label="Surface">Surface</a></li>
                <li>
                    <a href="#font" aria-label="Font">Font</a></li>
                <li>
                    <a href="#sound" aria-label="Sound">Sound</a></li>
                <li>
                    <a href="#basic-mario-brothers-example" aria-label="Basic Mario Brothers Example">Basic Mario Brothers Example</a></li></ul>
                </li>
                <li>
                    <a href="#pandas" aria-label="Pandas">Pandas</a><ul>
                        
                <li>
                    <a href="#series" aria-label="Series">Series</a><ul>
                        
                <li>
                    <a href="#series--aggregate-transform-map" aria-label="Series ‚Äî Aggregate, Transform, Map:">Series ‚Äî Aggregate, Transform, Map:</a></li></ul>
                </li>
                <li>
                    <a href="#dataframe" aria-label="DataFrame">DataFrame</a><ul>
                        
                <li>
                    <a href="#dataframe--merge-join-concat" aria-label="DataFrame ‚Äî Merge, Join, Concat:">DataFrame ‚Äî Merge, Join, Concat:</a></li>
                <li>
                    <a href="#dataframe--aggregate-transform-map" aria-label="DataFrame ‚Äî Aggregate, Transform, Map:">DataFrame ‚Äî Aggregate, Transform, Map:</a></li>
                <li>
                    <a href="#dataframe--plot-encode-decode" aria-label="DataFrame ‚Äî Plot, Encode, Decode:">DataFrame ‚Äî Plot, Encode, Decode:</a></li></ul>
                </li>
                <li>
                    <a href="#groupby" aria-label="GroupBy">GroupBy</a><ul>
                        
                <li>
                    <a href="#groupby--aggregate-transform-map" aria-label="GroupBy ‚Äî Aggregate, Transform, Map:">GroupBy ‚Äî Aggregate, Transform, Map:</a></li></ul>
                </li>
                <li>
                    <a href="#rolling" aria-label="Rolling">Rolling</a></li></ul>
                </li>
                <li>
                    <a href="#plotly" aria-label="Plotly">Plotly</a><ul>
                        <ul>
                        
                <li>
                    <a href="#covid-deaths-by-continent" aria-label="Covid deaths by continent:">Covid deaths by continent:</a></li>
                <li>
                    <a href="#confirmed-covid-cases-dow-jones-gold-and-bitcoin-price" aria-label="Confirmed covid cases, Dow Jones, Gold, and Bitcoin price:">Confirmed covid cases, Dow Jones, Gold, and Bitcoin price:</a></li></ul>
                    </ul>
                </li>
                <li>
                    <a href="#pysimplegui" aria-label="PySimpleGUI">PySimpleGUI</a></li>
                <li>
                    <a href="#appendix" aria-label="Appendix">Appendix</a><ul>
                        
                <li>
                    <a href="#cython" aria-label="Cython">Cython</a><ul>
                        
                <li>
                    <a href="#definitions" aria-label="Definitions:">Definitions:</a></li></ul>
                </li>
                <li>
                    <a href="#pyinstaller" aria-label="PyInstaller">PyInstaller</a></li>
                <li>
                    <a href="#basic-script-template" aria-label="Basic Script Template">Basic Script Template</a></li></ul>
                </li>
                <li>
                    <a href="#index" aria-label="Index">Index</a>
                </li>
            </ul>
            </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<p><strong>¬†¬†¬†</strong> <strong>1. Collections:</strong> <strong>¬†</strong> <strong><a href="#list"><code>List</code></a></strong> <strong>,</strong> <strong><a href="#dictionary"><code>Dictionary</code></a></strong> <strong>,</strong> <strong><a href="#set"><code>Set</code></a></strong> <strong>,</strong> <strong><a href="#tuple"><code>Tuple</code></a></strong> <strong>,</strong> <strong><a href="#range"><code>Range</code></a></strong> <strong>,</strong> <strong><a href="#enumerate"><code>Enumerate</code></a></strong> <strong>,</strong> <strong><a href="#iterator"><code>Iterator</code></a></strong> <strong>,</strong> <strong><a href="#generator"><code>Generator</code></a></strong> <strong>.</strong><br>
<strong>¬†¬†¬†</strong> <strong>2. Types:</strong> <strong>¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†</strong> <strong><a href="#type"><code>Type</code></a></strong> <strong>,</strong> <strong><a href="#string"><code>String</code></a></strong> <strong>,</strong> <strong><a href="#regex"><code>Regular_Exp</code></a></strong> <strong>,</strong> <strong><a href="#format"><code>Format</code></a></strong> <strong>,</strong> <strong><a href="#numbers-1"><code>Numbers</code></a></strong> <strong>,</strong> <strong><a href="#combinatorics"><code>Combinatorics</code></a></strong> <strong>,</strong> <strong><a href="#datetime"><code>Datetime</code></a></strong> <strong>.</strong><br>
<strong>¬†¬†¬†</strong> <strong>3. Syntax:</strong> <strong>¬†¬†¬†¬†¬†¬†¬†¬†¬†</strong> <strong><a href="#arguments"><code>Args</code></a></strong> <strong>,</strong> <strong><a href="#inline"><code>Inline</code></a></strong> <strong>,</strong> <strong><a href="#imports"><code>Import</code></a></strong> <strong>,</strong> <strong><a href="#decorator"><code>Decorator</code></a></strong> <strong>,</strong> <strong><a href="#class"><code>Class</code></a></strong> <strong>,</strong> <strong><a href="#duck-types"><code>Duck_Types</code></a></strong> <strong>,</strong> <strong><a href="#enum"><code>Enum</code></a></strong> <strong>,</strong> <strong><a href="#exceptions"><code>Exception</code></a></strong> <strong>.</strong><br>
<strong>¬†¬†¬†</strong> <strong>4. System:</strong> <strong>¬†¬†¬†¬†¬†¬†¬†¬†</strong> <strong><a href="#exit"><code>Exit</code></a></strong> <strong>,</strong> <strong><a href="#print"><code>Print</code></a></strong> <strong>,</strong> <strong><a href="#input"><code>Input</code></a></strong> <strong>,</strong> <strong><a href="#command-line-arguments"><code>Command_Line_Arguments</code></a></strong> <strong>,</strong> <strong><a href="#open"><code>Open</code></a></strong> <strong>,</strong> <strong><a href="#paths"><code>Path</code></a></strong> <strong>,</strong> <strong><a href="#os-commands"><code>OS_Commands</code></a></strong> <strong>.</strong><br>
<strong>¬†¬†¬†</strong> <strong>5. Data:</strong> <strong>¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†</strong> <strong><a href="#json"><code>JSON</code></a></strong> <strong>,</strong> <strong><a href="#pickle"><code>Pickle</code></a></strong> <strong>,</strong> <strong><a href="#csv"><code>CSV</code></a></strong> <strong>,</strong> <strong><a href="#sqlite"><code>SQLite</code></a></strong> <strong>,</strong> <strong><a href="#bytes"><code>Bytes</code></a></strong> <strong>,</strong> <strong><a href="#struct"><code>Struct</code></a></strong> <strong>,</strong> <strong><a href="#array"><code>Array</code></a></strong> <strong>,</strong> <strong><a href="#memory-view"><code>Memory_View</code></a></strong> <strong>,</strong> <strong><a href="#deque"><code>Deque</code></a></strong> <strong>.</strong><br>
<strong>¬†¬†¬†</strong> <strong>6. Advanced:</strong> <strong>¬†¬†¬†</strong> <strong><a href="#threading"><code>Threading</code></a></strong> <strong>,</strong> <strong><a href="#operator"><code>Operator</code></a></strong> <strong>,</strong> <strong><a href="#introspection"><code>Introspection</code></a></strong> <strong>,</strong> <strong><a href="#metaprogramming"><code>Metaprograming</code></a></strong> <strong>,</strong> <strong><a href="#eval"><code>Eval</code></a></strong> <strong>,</strong> <strong><a href="#coroutines"><code>Coroutines</code></a></strong> <strong>.</strong><br>
<strong>¬†¬†¬†</strong> <strong>7. Libraries:</strong> <strong>¬†¬†¬†¬†¬†¬†</strong> <strong><a href="#progress-bar"><code>Progress_Bar</code></a></strong> <strong>,</strong> <strong><a href="#plot"><code>Plot</code></a></strong> <strong>,</strong> <strong><a href="#table"><code>Table</code></a></strong> <strong>,</strong> <strong><a href="#curses"><code>Curses</code></a></strong> <strong>,</strong> <strong><a href="#logging"><code>Logging</code></a></strong> <strong>,</strong> <strong><a href="#scraping"><code>Scraping</code></a></strong> <strong>,</strong> <strong><a href="#web"><code>Web</code></a></strong> <strong>,</strong> <strong><a href="#profiling"><code>Profile</code></a></strong> <strong>,</strong><br>
<strong>¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†</strong> <strong><a href="#numpy"><code>NumPy</code></a></strong> <strong>,</strong> <strong><a href="#image"><code>Image</code></a></strong> <strong>,</strong> <strong><a href="#audio"><code>Audio</code></a></strong> <strong>,</strong> <strong><a href="#pygame"><code>Games</code></a></strong> <strong>,</strong> <strong><a href="#pandas"><code>Data</code></a></strong> <strong>.</strong></p>
<h2 id="main">Main<a hidden class="anchor" aria-hidden="true" href="#main">#</a></h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">if</span> __name__ <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;__main__&#39;</span>:     <span style="color:#75715e"># Runs main() if file wasn&#39;t imported.</span>
</span></span><span style="display:flex;"><span>    main()
</span></span></code></pre></div><h2 id="list">List<a hidden class="anchor" aria-hidden="true" href="#list">#</a></h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>list<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>list<span style="color:#f92672">&gt;</span>[<span style="color:#f92672">&lt;</span>slice<span style="color:#f92672">&gt;</span>]       <span style="color:#75715e"># Or: &lt;list&gt;[from_inclusive : to_exclusive : ¬±step]</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>list<span style="color:#f92672">&gt;.</span>append(<span style="color:#f92672">&lt;</span>el<span style="color:#f92672">&gt;</span>)            <span style="color:#75715e"># Or: &lt;list&gt; += [&lt;el&gt;]</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>list<span style="color:#f92672">&gt;.</span>extend(<span style="color:#f92672">&lt;</span>collection<span style="color:#f92672">&gt;</span>)    <span style="color:#75715e"># Or: &lt;list&gt; += &lt;collection&gt;</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>list<span style="color:#f92672">&gt;.</span>sort()                  <span style="color:#75715e"># Sorts in ascending order.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>list<span style="color:#f92672">&gt;.</span>reverse()               <span style="color:#75715e"># Reverses the list in-place.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>list<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> sorted(<span style="color:#f92672">&lt;</span>collection<span style="color:#f92672">&gt;</span>)  <span style="color:#75715e"># Returns a new sorted list.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>iter<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> reversed(<span style="color:#f92672">&lt;</span>list<span style="color:#f92672">&gt;</span>)      <span style="color:#75715e"># Returns reversed iterator.</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>sum_of_elements  <span style="color:#f92672">=</span> sum(<span style="color:#f92672">&lt;</span>collection<span style="color:#f92672">&gt;</span>)
</span></span><span style="display:flex;"><span>elementwise_sum  <span style="color:#f92672">=</span> [sum(pair) <span style="color:#66d9ef">for</span> pair <span style="color:#f92672">in</span> zip(list_a, list_b)]
</span></span><span style="display:flex;"><span>sorted_by_second <span style="color:#f92672">=</span> sorted(<span style="color:#f92672">&lt;</span>collection<span style="color:#f92672">&gt;</span>, key<span style="color:#f92672">=</span><span style="color:#66d9ef">lambda</span> el: el[<span style="color:#ae81ff">1</span>])
</span></span><span style="display:flex;"><span>sorted_by_both   <span style="color:#f92672">=</span> sorted(<span style="color:#f92672">&lt;</span>collection<span style="color:#f92672">&gt;</span>, key<span style="color:#f92672">=</span><span style="color:#66d9ef">lambda</span> el: (el[<span style="color:#ae81ff">1</span>], el[<span style="color:#ae81ff">0</span>]))
</span></span><span style="display:flex;"><span>flatter_list     <span style="color:#f92672">=</span> list(itertools<span style="color:#f92672">.</span>chain<span style="color:#f92672">.</span>from_iterable(<span style="color:#f92672">&lt;</span>list<span style="color:#f92672">&gt;</span>))
</span></span><span style="display:flex;"><span>product_of_elems <span style="color:#f92672">=</span> functools<span style="color:#f92672">.</span>reduce(<span style="color:#66d9ef">lambda</span> out, el: out <span style="color:#f92672">*</span> el, <span style="color:#f92672">&lt;</span>collection<span style="color:#f92672">&gt;</span>)
</span></span><span style="display:flex;"><span>list_of_chars    <span style="color:#f92672">=</span> list(<span style="color:#f92672">&lt;</span>str<span style="color:#f92672">&gt;</span>)
</span></span></code></pre></div><ul>
<li><strong>For details about sorted(), min() and max() see <a href="#sortable">sortable</a>.</strong></li>
<li><strong>Module <a href="#operator">operator</a> provides functions itemgetter() and mul() that offer the same functionality as <a href="#lambda">lambda</a> expressions above.</strong></li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>list<span style="color:#f92672">&gt;.</span>insert(<span style="color:#f92672">&lt;</span>int<span style="color:#f92672">&gt;</span>, <span style="color:#f92672">&lt;</span>el<span style="color:#f92672">&gt;</span>)     <span style="color:#75715e"># Inserts item at index and moves the rest to the right.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>el<span style="color:#f92672">&gt;</span>  <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>list<span style="color:#f92672">&gt;.</span>pop([<span style="color:#f92672">&lt;</span>int<span style="color:#f92672">&gt;</span>])    <span style="color:#75715e"># Removes and returns item at index or from the end.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>int<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>list<span style="color:#f92672">&gt;.</span>count(<span style="color:#f92672">&lt;</span>el<span style="color:#f92672">&gt;</span>)     <span style="color:#75715e"># Returns number of occurrences. Also works on strings.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>int<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>list<span style="color:#f92672">&gt;.</span>index(<span style="color:#f92672">&lt;</span>el<span style="color:#f92672">&gt;</span>)     <span style="color:#75715e"># Returns index of the first occurrence or raises ValueError.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>list<span style="color:#f92672">&gt;.</span>remove(<span style="color:#f92672">&lt;</span>el<span style="color:#f92672">&gt;</span>)            <span style="color:#75715e"># Removes first occurrence of the item or raises ValueError.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>list<span style="color:#f92672">&gt;.</span>clear()                 <span style="color:#75715e"># Removes all items. Also works on dictionary and set.</span>
</span></span></code></pre></div><h2 id="dictionary">Dictionary<a hidden class="anchor" aria-hidden="true" href="#dictionary">#</a></h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>view<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>dict<span style="color:#f92672">&gt;.</span>keys()                          <span style="color:#75715e"># Coll. of keys that reflects changes.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>view<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>dict<span style="color:#f92672">&gt;.</span>values()                        <span style="color:#75715e"># Coll. of values that reflects changes.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>view<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>dict<span style="color:#f92672">&gt;.</span>items()                         <span style="color:#75715e"># Coll. of key-value tuples that reflects chgs.</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>value  <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>dict<span style="color:#f92672">&gt;.</span>get(key, default<span style="color:#f92672">=</span><span style="color:#66d9ef">None</span>)          <span style="color:#75715e"># Returns default if key is missing.</span>
</span></span><span style="display:flex;"><span>value  <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>dict<span style="color:#f92672">&gt;.</span>setdefault(key, default<span style="color:#f92672">=</span><span style="color:#66d9ef">None</span>)   <span style="color:#75715e"># Returns and writes default if key is missing.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>dict<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> collections<span style="color:#f92672">.</span>defaultdict(<span style="color:#f92672">&lt;</span>type<span style="color:#f92672">&gt;</span>)        <span style="color:#75715e"># Creates a dict with default value of type.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>dict<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> collections<span style="color:#f92672">.</span>defaultdict(<span style="color:#66d9ef">lambda</span>: <span style="color:#ae81ff">1</span>)     <span style="color:#75715e"># Creates a dict with default value 1.</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>dict<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> dict(<span style="color:#f92672">&lt;</span>collection<span style="color:#f92672">&gt;</span>)                     <span style="color:#75715e"># Creates a dict from coll. of key-value pairs.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>dict<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> dict(zip(keys, values))                <span style="color:#75715e"># Creates a dict from two collections.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>dict<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> dict<span style="color:#f92672">.</span>fromkeys(keys [, value])          <span style="color:#75715e"># Creates a dict from collection of keys.</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>dict<span style="color:#f92672">&gt;.</span>update(<span style="color:#f92672">&lt;</span>dict<span style="color:#f92672">&gt;</span>)                           <span style="color:#75715e"># Adds items. Replaces ones with matching keys.</span>
</span></span><span style="display:flex;"><span>value <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>dict<span style="color:#f92672">&gt;.</span>pop(key)                         <span style="color:#75715e"># Removes item or raises KeyError.</span>
</span></span><span style="display:flex;"><span>{k <span style="color:#66d9ef">for</span> k, v <span style="color:#f92672">in</span> <span style="color:#f92672">&lt;</span>dict<span style="color:#f92672">&gt;.</span>items() <span style="color:#66d9ef">if</span> v <span style="color:#f92672">==</span> value}    <span style="color:#75715e"># Returns set of keys that point to the value.</span>
</span></span><span style="display:flex;"><span>{k: v <span style="color:#66d9ef">for</span> k, v <span style="color:#f92672">in</span> <span style="color:#f92672">&lt;</span>dict<span style="color:#f92672">&gt;.</span>items() <span style="color:#66d9ef">if</span> k <span style="color:#f92672">in</span> keys}  <span style="color:#75715e"># Returns a dictionary, filtered by keys.</span>
</span></span></code></pre></div><h3 id="counter">Counter<a hidden class="anchor" aria-hidden="true" href="#counter">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> <span style="color:#f92672">from</span> collections <span style="color:#f92672">import</span> Counter
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> colors <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;blue&#39;</span>, <span style="color:#e6db74">&#39;blue&#39;</span>, <span style="color:#e6db74">&#39;blue&#39;</span>, <span style="color:#e6db74">&#39;red&#39;</span>, <span style="color:#e6db74">&#39;red&#39;</span>]
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> counter <span style="color:#f92672">=</span> Counter(colors)
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> counter[<span style="color:#e6db74">&#39;yellow&#39;</span>] <span style="color:#f92672">+=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>Counter({<span style="color:#e6db74">&#39;blue&#39;</span>: <span style="color:#ae81ff">3</span>, <span style="color:#e6db74">&#39;red&#39;</span>: <span style="color:#ae81ff">2</span>, <span style="color:#e6db74">&#39;yellow&#39;</span>: <span style="color:#ae81ff">1</span>})
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> counter<span style="color:#f92672">.</span>most_common()[<span style="color:#ae81ff">0</span>]
</span></span><span style="display:flex;"><span>(<span style="color:#e6db74">&#39;blue&#39;</span>, <span style="color:#ae81ff">3</span>)
</span></span></code></pre></div><h2 id="set">Set<a hidden class="anchor" aria-hidden="true" href="#set">#</a></h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>set<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> set()
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>set<span style="color:#f92672">&gt;.</span>add(<span style="color:#f92672">&lt;</span>el<span style="color:#f92672">&gt;</span>)                                 <span style="color:#75715e"># Or: &lt;set&gt; |= {&lt;el&gt;}</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>set<span style="color:#f92672">&gt;.</span>update(<span style="color:#f92672">&lt;</span>collection<span style="color:#f92672">&gt;</span> [, <span style="color:#f92672">...</span>])              <span style="color:#75715e"># Or: &lt;set&gt; |= &lt;set&gt;</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>set<span style="color:#f92672">&gt;</span>  <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>set<span style="color:#f92672">&gt;.</span>union(<span style="color:#f92672">&lt;</span>coll<span style="color:#f92672">.&gt;</span>)                   <span style="color:#75715e"># Or: &lt;set&gt; | &lt;set&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>set<span style="color:#f92672">&gt;</span>  <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>set<span style="color:#f92672">&gt;.</span>intersection(<span style="color:#f92672">&lt;</span>coll<span style="color:#f92672">.&gt;</span>)            <span style="color:#75715e"># Or: &lt;set&gt; &amp; &lt;set&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>set<span style="color:#f92672">&gt;</span>  <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>set<span style="color:#f92672">&gt;.</span>difference(<span style="color:#f92672">&lt;</span>coll<span style="color:#f92672">.&gt;</span>)              <span style="color:#75715e"># Or: &lt;set&gt; - &lt;set&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>set<span style="color:#f92672">&gt;</span>  <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>set<span style="color:#f92672">&gt;.</span>symmetric_difference(<span style="color:#f92672">&lt;</span>coll<span style="color:#f92672">.&gt;</span>)    <span style="color:#75715e"># Or: &lt;set&gt; ^ &lt;set&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>bool<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>set<span style="color:#f92672">&gt;.</span>issubset(<span style="color:#f92672">&lt;</span>coll<span style="color:#f92672">.&gt;</span>)                <span style="color:#75715e"># Or: &lt;set&gt; &lt;= &lt;set&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>bool<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>set<span style="color:#f92672">&gt;.</span>issuperset(<span style="color:#f92672">&lt;</span>coll<span style="color:#f92672">.&gt;</span>)              <span style="color:#75715e"># Or: &lt;set&gt; &gt;= &lt;set&gt;</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>el<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>set<span style="color:#f92672">&gt;.</span>pop()                              <span style="color:#75715e"># Raises KeyError if empty.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>set<span style="color:#f92672">&gt;.</span>remove(<span style="color:#f92672">&lt;</span>el<span style="color:#f92672">&gt;</span>)                              <span style="color:#75715e"># Raises KeyError if missing.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>set<span style="color:#f92672">&gt;.</span>discard(<span style="color:#f92672">&lt;</span>el<span style="color:#f92672">&gt;</span>)                             <span style="color:#75715e"># Doesn&#39;t raise an error.</span>
</span></span></code></pre></div><h3 id="frozen-set">Frozen Set<a hidden class="anchor" aria-hidden="true" href="#frozen-set">#</a></h3>
<ul>
<li><strong>Is immutable and hashable.</strong></li>
<li><strong>That means it can be used as a key in a dictionary or as an element in a set.</strong></li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>frozenset<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> frozenset(<span style="color:#f92672">&lt;</span>collection<span style="color:#f92672">&gt;</span>)
</span></span></code></pre></div><h2 id="tuple">Tuple<a hidden class="anchor" aria-hidden="true" href="#tuple">#</a></h2>
<p><strong>Tuple is an immutable and hashable list.</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>tuple<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> ()
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>tuple<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> (<span style="color:#f92672">&lt;</span>el<span style="color:#f92672">&gt;</span>,)                           <span style="color:#75715e"># Or: &lt;el&gt;,</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>tuple<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> (<span style="color:#f92672">&lt;</span>el_1<span style="color:#f92672">&gt;</span>, <span style="color:#f92672">&lt;</span>el_2<span style="color:#f92672">&gt;</span> [, <span style="color:#f92672">...</span>])          <span style="color:#75715e"># Or: &lt;el_1&gt;, &lt;el_2&gt; [, ...]</span>
</span></span></code></pre></div><h3 id="named-tuple">Named Tuple<a hidden class="anchor" aria-hidden="true" href="#named-tuple">#</a></h3>
<p><strong>Tuple&rsquo;s subclass with named elements.</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> <span style="color:#f92672">from</span> collections <span style="color:#f92672">import</span> namedtuple
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> Point <span style="color:#f92672">=</span> namedtuple(<span style="color:#e6db74">&#39;Point&#39;</span>, <span style="color:#e6db74">&#39;x y&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> p <span style="color:#f92672">=</span> Point(<span style="color:#ae81ff">1</span>, y<span style="color:#f92672">=</span><span style="color:#ae81ff">2</span>)
</span></span><span style="display:flex;"><span>Point(x<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>, y<span style="color:#f92672">=</span><span style="color:#ae81ff">2</span>)
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> p[<span style="color:#ae81ff">0</span>]
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> p<span style="color:#f92672">.</span>x
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> getattr(p, <span style="color:#e6db74">&#39;y&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">2</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> p<span style="color:#f92672">.</span>_fields  <span style="color:#75715e"># Or: Point._fields</span>
</span></span><span style="display:flex;"><span>(<span style="color:#e6db74">&#39;x&#39;</span>, <span style="color:#e6db74">&#39;y&#39;</span>)
</span></span></code></pre></div><h2 id="range">Range<a hidden class="anchor" aria-hidden="true" href="#range">#</a></h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>range<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> range(to_exclusive)
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>range<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> range(from_inclusive, to_exclusive)
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>range<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> range(from_inclusive, to_exclusive, <span style="color:#960050;background-color:#1e0010">¬±</span>step_size)
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>from_inclusive <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>range<span style="color:#f92672">&gt;.</span>start
</span></span><span style="display:flex;"><span>to_exclusive   <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>range<span style="color:#f92672">&gt;.</span>stop
</span></span></code></pre></div><h2 id="enumerate">Enumerate<a hidden class="anchor" aria-hidden="true" href="#enumerate">#</a></h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">for</span> i, el <span style="color:#f92672">in</span> enumerate(<span style="color:#f92672">&lt;</span>collection<span style="color:#f92672">&gt;</span> [, i_start]):
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">...</span>
</span></span></code></pre></div><h2 id="iterator">Iterator<a hidden class="anchor" aria-hidden="true" href="#iterator">#</a></h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>iter<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> iter(<span style="color:#f92672">&lt;</span>collection<span style="color:#f92672">&gt;</span>)                 <span style="color:#75715e"># `iter(&lt;iter&gt;)` returns unmodified iterator.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>iter<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> iter(<span style="color:#f92672">&lt;</span>function<span style="color:#f92672">&gt;</span>, to_exclusive)     <span style="color:#75715e"># A sequence of return values until &#39;to_exclusive&#39;.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>el<span style="color:#f92672">&gt;</span>   <span style="color:#f92672">=</span> next(<span style="color:#f92672">&lt;</span>iter<span style="color:#f92672">&gt;</span> [, default])           <span style="color:#75715e"># Raises StopIteration or returns &#39;default&#39; on end.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>list<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> list(<span style="color:#f92672">&lt;</span>iter<span style="color:#f92672">&gt;</span>)                       <span style="color:#75715e"># Returns a list of iterator&#39;s remaining elements.</span>
</span></span></code></pre></div><h3 id="itertools">Itertools<a hidden class="anchor" aria-hidden="true" href="#itertools">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> itertools <span style="color:#f92672">import</span> count, repeat, cycle, chain, islice
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>iter<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> count(start<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>, step<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>)             <span style="color:#75715e"># Returns updated value endlessly. Accepts floats.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>iter<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> repeat(<span style="color:#f92672">&lt;</span>el<span style="color:#f92672">&gt;</span> [, times])             <span style="color:#75715e"># Returns element endlessly or &#39;times&#39; times.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>iter<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> cycle(<span style="color:#f92672">&lt;</span>collection<span style="color:#f92672">&gt;</span>)                <span style="color:#75715e"># Repeats the sequence endlessly.</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>iter<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> chain(<span style="color:#f92672">&lt;</span>coll_1<span style="color:#f92672">&gt;</span>, <span style="color:#f92672">&lt;</span>coll_2<span style="color:#f92672">&gt;</span> [, <span style="color:#f92672">...</span>])  <span style="color:#75715e"># Empties collections in order (figuratively).</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>iter<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> chain<span style="color:#f92672">.</span>from_iterable(<span style="color:#f92672">&lt;</span>collection<span style="color:#f92672">&gt;</span>)  <span style="color:#75715e"># Empties collections inside a collection in order.</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>iter<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> islice(<span style="color:#f92672">&lt;</span>coll<span style="color:#f92672">&gt;</span>, to_exclusive)       <span style="color:#75715e"># Only returns first &#39;to_exclusive&#39; elements.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>iter<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> islice(<span style="color:#f92672">&lt;</span>coll<span style="color:#f92672">&gt;</span>, from_inclusive, <span style="color:#960050;background-color:#1e0010">‚Ä¶</span>)  <span style="color:#75715e"># `to_exclusive, step_size`.</span>
</span></span></code></pre></div><h2 id="generator">Generator<a hidden class="anchor" aria-hidden="true" href="#generator">#</a></h2>
<ul>
<li><strong>Any function that contains a yield statement returns a generator.</strong></li>
<li><strong>Generators and iterators are interchangeable.</strong></li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">count</span>(start, step):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span> <span style="color:#66d9ef">True</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">yield</span> start
</span></span><span style="display:flex;"><span>        start <span style="color:#f92672">+=</span> step
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> counter <span style="color:#f92672">=</span> count(<span style="color:#ae81ff">10</span>, <span style="color:#ae81ff">2</span>)
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> next(counter), next(counter), next(counter)
</span></span><span style="display:flex;"><span>(<span style="color:#ae81ff">10</span>, <span style="color:#ae81ff">12</span>, <span style="color:#ae81ff">14</span>)
</span></span></code></pre></div><h2 id="type">Type<a hidden class="anchor" aria-hidden="true" href="#type">#</a></h2>
<ul>
<li><strong>Everything is an object.</strong></li>
<li><strong>Every object has a type.</strong></li>
<li><strong>Type and class are synonymous.</strong></li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>type<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> type(<span style="color:#f92672">&lt;</span>el<span style="color:#f92672">&gt;</span>)                          <span style="color:#75715e"># Or: &lt;el&gt;.__class__</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>bool<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> isinstance(<span style="color:#f92672">&lt;</span>el<span style="color:#f92672">&gt;</span>, <span style="color:#f92672">&lt;</span>type<span style="color:#f92672">&gt;</span>)            <span style="color:#75715e"># Or: issubclass(type(&lt;el&gt;), &lt;type&gt;)</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> type(<span style="color:#e6db74">&#39;a&#39;</span>), <span style="color:#e6db74">&#39;a&#39;</span><span style="color:#f92672">.</span>__class__, str
</span></span><span style="display:flex;"><span>(<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">class</span> <span style="color:#960050;background-color:#1e0010">&#39;</span><span style="color:#a6e22e">str</span><span style="color:#e6db74">&#39;&gt;, &lt;class &#39;</span>str<span style="color:#e6db74">&#39;&gt;, &lt;class &#39;</span>str<span style="color:#e6db74">&#39;&gt;)</span>
</span></span></code></pre></div><h4 id="some-types-do-not-have-built-in-names-so-they-must-be-imported">Some types do not have built-in names, so they must be imported:<a hidden class="anchor" aria-hidden="true" href="#some-types-do-not-have-built-in-names-so-they-must-be-imported">#</a></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> types <span style="color:#f92672">import</span> FunctionType, MethodType, LambdaType, GeneratorType, ModuleType
</span></span></code></pre></div><h3 id="abstract-base-classes">Abstract Base Classes<a hidden class="anchor" aria-hidden="true" href="#abstract-base-classes">#</a></h3>
<p><strong>Each abstract base class specifies a set of virtual subclasses. These classes are then recognized by isinstance() and issubclass() as subclasses of the ABC, although they are really not. ABC can also manually decide whether or not a specific class is its virtual subclass, usually based on which methods the class has implemented. For instance, Iterable ABC looks for method iter(), while Collection ABC looks for iter(), contains() and len().</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> <span style="color:#f92672">from</span> collections.abc <span style="color:#f92672">import</span> Iterable, Collection, Sequence
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> isinstance([<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>], Iterable)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">True</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>+------------------+------------+------------+------------+
</span></span><span style="display:flex;"><span>|                  |  Iterable  | Collection |  Sequence  |
</span></span><span style="display:flex;"><span>+------------------+------------+------------+------------+
</span></span><span style="display:flex;"><span>| list, range, str |    yes     |    yes     |    yes     |
</span></span><span style="display:flex;"><span>| dict, set        |    yes     |    yes     |            |
</span></span><span style="display:flex;"><span>| iter             |    yes     |            |            |
</span></span><span style="display:flex;"><span>+------------------+------------+------------+------------+
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> <span style="color:#f92672">from</span> numbers <span style="color:#f92672">import</span> Number, Complex, Real, Rational, Integral
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> isinstance(<span style="color:#ae81ff">123</span>, Number)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">True</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>+--------------------+----------+----------+----------+----------+----------+
</span></span><span style="display:flex;"><span>|                    |  Number  |  Complex |   Real   | Rational | Integral |
</span></span><span style="display:flex;"><span>+--------------------+----------+----------+----------+----------+----------+
</span></span><span style="display:flex;"><span>| int                |   yes    |   yes    |   yes    |   yes    |   yes    |
</span></span><span style="display:flex;"><span>| fractions.Fraction |   yes    |   yes    |   yes    |   yes    |          |
</span></span><span style="display:flex;"><span>| float              |   yes    |   yes    |   yes    |          |          |
</span></span><span style="display:flex;"><span>| complex            |   yes    |   yes    |          |          |          |
</span></span><span style="display:flex;"><span>| decimal.Decimal    |   yes    |          |          |          |          |
</span></span><span style="display:flex;"><span>+--------------------+----------+----------+----------+----------+----------+
</span></span></code></pre></div><h2 id="string">String<a hidden class="anchor" aria-hidden="true" href="#string">#</a></h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>str<span style="color:#f92672">&gt;</span>  <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>str<span style="color:#f92672">&gt;.</span>strip()                       <span style="color:#75715e"># Strips all whitespace characters from both ends.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>str<span style="color:#f92672">&gt;</span>  <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>str<span style="color:#f92672">&gt;.</span>strip(<span style="color:#e6db74">&#39;&lt;chars&gt;&#39;</span>)              <span style="color:#75715e"># Strips all passed characters from both ends.</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>list<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>str<span style="color:#f92672">&gt;.</span>split()                       <span style="color:#75715e"># Splits on one or more whitespace characters.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>list<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>str<span style="color:#f92672">&gt;.</span>split(sep<span style="color:#f92672">=</span><span style="color:#66d9ef">None</span>, maxsplit<span style="color:#f92672">=-</span><span style="color:#ae81ff">1</span>)  <span style="color:#75715e"># Splits on &#39;sep&#39; str at most &#39;maxsplit&#39; times.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>list<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>str<span style="color:#f92672">&gt;.</span>splitlines(keepends<span style="color:#f92672">=</span><span style="color:#66d9ef">False</span>)    <span style="color:#75715e"># On [\n\r\f\v\x1c-\x1e\x85\u2028\u2029] and \r\n.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>str<span style="color:#f92672">&gt;</span>  <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>str<span style="color:#f92672">&gt;.</span>join(<span style="color:#f92672">&lt;</span>coll_of_strings<span style="color:#f92672">&gt;</span>)       <span style="color:#75715e"># Joins elements using string as a separator.</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>bool<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>sub_str<span style="color:#f92672">&gt;</span> <span style="color:#f92672">in</span> <span style="color:#f92672">&lt;</span>str<span style="color:#f92672">&gt;</span>                  <span style="color:#75715e"># Checks if string contains a substring.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>bool<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>str<span style="color:#f92672">&gt;.</span>startswith(<span style="color:#f92672">&lt;</span>sub_str<span style="color:#f92672">&gt;</span>)         <span style="color:#75715e"># Pass tuple of strings for multiple options.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>bool<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>str<span style="color:#f92672">&gt;.</span>endswith(<span style="color:#f92672">&lt;</span>sub_str<span style="color:#f92672">&gt;</span>)           <span style="color:#75715e"># Pass tuple of strings for multiple options.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>int<span style="color:#f92672">&gt;</span>  <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>str<span style="color:#f92672">&gt;.</span>find(<span style="color:#f92672">&lt;</span>sub_str<span style="color:#f92672">&gt;</span>)               <span style="color:#75715e"># Returns start index of the first match or -1.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>int<span style="color:#f92672">&gt;</span>  <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>str<span style="color:#f92672">&gt;.</span>index(<span style="color:#f92672">&lt;</span>sub_str<span style="color:#f92672">&gt;</span>)              <span style="color:#75715e"># Same, but raises ValueError if missing.</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>str<span style="color:#f92672">&gt;</span>  <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>str<span style="color:#f92672">&gt;.</span>replace(old, new [, count])   <span style="color:#75715e"># Replaces &#39;old&#39; with &#39;new&#39; at most &#39;count&#39; times.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>str<span style="color:#f92672">&gt;</span>  <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>str<span style="color:#f92672">&gt;.</span>translate(<span style="color:#f92672">&lt;</span>table<span style="color:#f92672">&gt;</span>)            <span style="color:#75715e"># Use `str.maketrans(&lt;dict&gt;)` to generate table.</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>str<span style="color:#f92672">&gt;</span>  <span style="color:#f92672">=</span> chr(<span style="color:#f92672">&lt;</span>int<span style="color:#f92672">&gt;</span>)                          <span style="color:#75715e"># Converts int to Unicode character.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>int<span style="color:#f92672">&gt;</span>  <span style="color:#f92672">=</span> ord(<span style="color:#f92672">&lt;</span>str<span style="color:#f92672">&gt;</span>)                          <span style="color:#75715e"># Converts Unicode character to int.</span>
</span></span></code></pre></div><ul>
<li><strong>Also: <code>'lstrip()'</code>, <code>'rstrip()'</code> and <code>'rsplit()'</code>.</strong></li>
<li><strong>Also: <code>'lower()'</code>, <code>'upper()'</code>, <code>'capitalize()'</code> and <code>'title()'</code>.</strong></li>
</ul>
<h3 id="property-methods">Property Methods<a hidden class="anchor" aria-hidden="true" href="#property-methods">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>+---------------+----------+----------+----------+----------+----------+
</span></span><span style="display:flex;"><span>|               | [ !#$%‚Ä¶] | [a-zA-Z] |  [¬º¬Ω¬æ]   |  [¬≤¬≥¬π]   |  [0-9]   |
</span></span><span style="display:flex;"><span>+---------------+----------+----------+----------+----------+----------+
</span></span><span style="display:flex;"><span>| isprintable() |   yes    |   yes    |   yes    |   yes    |   yes    |
</span></span><span style="display:flex;"><span>| isalnum()     |          |   yes    |   yes    |   yes    |   yes    |
</span></span><span style="display:flex;"><span>| isnumeric()   |          |          |   yes    |   yes    |   yes    |
</span></span><span style="display:flex;"><span>| isdigit()     |          |          |          |   yes    |   yes    |
</span></span><span style="display:flex;"><span>| isdecimal()   |          |          |          |          |   yes    |
</span></span><span style="display:flex;"><span>+---------------+----------+----------+----------+----------+----------+
</span></span></code></pre></div><ul>
<li><strong>Also: <code>'isspace()'</code> checks for <code>'[ \t\n\r\f\v\x1c-\x1f\x85‚Ä¶]'</code>.</strong></li>
</ul>
<h2 id="regex">Regex<a hidden class="anchor" aria-hidden="true" href="#regex">#</a></h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> re
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>str<span style="color:#f92672">&gt;</span>   <span style="color:#f92672">=</span> re<span style="color:#f92672">.</span>sub(<span style="color:#f92672">&lt;</span>regex<span style="color:#f92672">&gt;</span>, new, text, count<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>)  <span style="color:#75715e"># Substitutes all occurrences with &#39;new&#39;.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>list<span style="color:#f92672">&gt;</span>  <span style="color:#f92672">=</span> re<span style="color:#f92672">.</span>findall(<span style="color:#f92672">&lt;</span>regex<span style="color:#f92672">&gt;</span>, text)            <span style="color:#75715e"># Returns all occurrences as strings.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>list<span style="color:#f92672">&gt;</span>  <span style="color:#f92672">=</span> re<span style="color:#f92672">.</span>split(<span style="color:#f92672">&lt;</span>regex<span style="color:#f92672">&gt;</span>, text, maxsplit<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>)  <span style="color:#75715e"># Use brackets in regex to include the matches.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Match<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> re<span style="color:#f92672">.</span>search(<span style="color:#f92672">&lt;</span>regex<span style="color:#f92672">&gt;</span>, text)             <span style="color:#75715e"># Searches for first occurrence of the pattern.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Match<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> re<span style="color:#f92672">.</span>match(<span style="color:#f92672">&lt;</span>regex<span style="color:#f92672">&gt;</span>, text)              <span style="color:#75715e"># Searches only at the beginning of the text.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>iter<span style="color:#f92672">&gt;</span>  <span style="color:#f92672">=</span> re<span style="color:#f92672">.</span>finditer(<span style="color:#f92672">&lt;</span>regex<span style="color:#f92672">&gt;</span>, text)           <span style="color:#75715e"># Returns all occurrences as Match objects.</span>
</span></span></code></pre></div><ul>
<li><strong>Argument &rsquo;new&rsquo; can be a function that accepts a Match object and returns a string.</strong></li>
<li><strong>Search() and match() return None if they can&rsquo;t find a match.</strong></li>
<li><strong>Argument <code>'flags=re.IGNORECASE'</code> can be used with all functions.</strong></li>
<li><strong>Argument <code>'flags=re.MULTILINE'</code> makes <code>'^'</code> and <code>'$'</code> match the start/end of each line.</strong></li>
<li><strong>Argument <code>'flags=re.DOTALL'</code> makes dot also accept the <code>'\n'</code>.</strong></li>
<li><strong>Use <code>r'\1'</code> or <code>'\\1'</code> for backreference (<code>'\1'</code> returns a character with octal code 1).</strong></li>
<li><strong>Add <code>'?'</code> after <code>'*'</code> and <code>'+'</code> to make them non-greedy.</strong></li>
</ul>
<h3 id="match-object">Match Object<a hidden class="anchor" aria-hidden="true" href="#match-object">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>str<span style="color:#f92672">&gt;</span>   <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>Match<span style="color:#f92672">&gt;.</span>group()                      <span style="color:#75715e"># Returns the whole match. Also group(0).</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>str<span style="color:#f92672">&gt;</span>   <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>Match<span style="color:#f92672">&gt;.</span>group(<span style="color:#ae81ff">1</span>)                     <span style="color:#75715e"># Returns part in the first bracket.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>tuple<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>Match<span style="color:#f92672">&gt;.</span>groups()                     <span style="color:#75715e"># Returns all bracketed parts.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>int<span style="color:#f92672">&gt;</span>   <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>Match<span style="color:#f92672">&gt;.</span>start()                      <span style="color:#75715e"># Returns start index of the match.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>int<span style="color:#f92672">&gt;</span>   <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>Match<span style="color:#f92672">&gt;.</span>end()                        <span style="color:#75715e"># Returns exclusive end index of the match.</span>
</span></span></code></pre></div><h3 id="special-sequences">Special Sequences<a hidden class="anchor" aria-hidden="true" href="#special-sequences">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;\d&#39;</span> <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;[0-9]&#39;</span>                                <span style="color:#75715e"># Matches decimal characters.</span>
</span></span><span style="display:flex;"><span><span style="color:#e6db74">&#39;\w&#39;</span> <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;[a-zA-Z0-9_]&#39;</span>                         <span style="color:#75715e"># Matches alphanumerics and underscore.</span>
</span></span><span style="display:flex;"><span><span style="color:#e6db74">&#39;\s&#39;</span> <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;[ </span><span style="color:#ae81ff">\t\n\r\f\v</span><span style="color:#e6db74">]&#39;</span>                        <span style="color:#75715e"># Matches whitespaces.</span>
</span></span></code></pre></div><ul>
<li><strong>By default, decimal characters, alphanumerics and whitespaces from all alphabets are matched unless <code>'flags=re.ASCII'</code> argument is used.</strong></li>
<li><strong>As shown above, it restricts all special sequence matches to the first 128 characters and prevents <code>'\s'</code> from accepting <code>'[\x1c-\x1f]'</code> (the so-called separator characters).</strong></li>
<li><strong>Use a capital letter for negation (all non-ASCII characters will be matched when used in combination with ASCII flag).</strong></li>
</ul>
<h2 id="format">Format<a hidden class="anchor" aria-hidden="true" href="#format">#</a></h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>str<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">{</span><span style="color:#f92672">&lt;</span>el_1<span style="color:#f92672">&gt;</span><span style="color:#e6db74">}</span><span style="color:#e6db74">, </span><span style="color:#e6db74">{</span><span style="color:#f92672">&lt;</span>el_2<span style="color:#f92672">&gt;</span><span style="color:#e6db74">}</span><span style="color:#e6db74">&#39;</span>            <span style="color:#75715e"># Or: &#39;{}, {}&#39;.format(&lt;el_1&gt;, &lt;el_2&gt;)</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>str<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;</span><span style="color:#e6db74">%s</span><span style="color:#e6db74">, </span><span style="color:#e6db74">%s</span><span style="color:#e6db74">&#39;</span> <span style="color:#f92672">%</span> (<span style="color:#f92672">&lt;</span>el_1<span style="color:#f92672">&gt;</span>, <span style="color:#f92672">&lt;</span>el_2<span style="color:#f92672">&gt;</span>)      <span style="color:#75715e"># Redundant and inferior C style formatting.</span>
</span></span></code></pre></div><h3 id="attributes">Attributes<a hidden class="anchor" aria-hidden="true" href="#attributes">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> <span style="color:#f92672">from</span> collections <span style="color:#f92672">import</span> namedtuple
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> Person <span style="color:#f92672">=</span> namedtuple(<span style="color:#e6db74">&#39;Person&#39;</span>, <span style="color:#e6db74">&#39;name height&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> person <span style="color:#f92672">=</span> Person(<span style="color:#e6db74">&#39;Jean-Luc&#39;</span>, <span style="color:#ae81ff">187</span>)
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> <span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">{</span>person<span style="color:#f92672">.</span>height<span style="color:#e6db74">}</span><span style="color:#e6db74">&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#e6db74">&#39;187&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> <span style="color:#e6db74">&#39;</span><span style="color:#e6db74">{p.height}</span><span style="color:#e6db74">&#39;</span><span style="color:#f92672">.</span>format(p<span style="color:#f92672">=</span>person)
</span></span><span style="display:flex;"><span><span style="color:#e6db74">&#39;187&#39;</span>
</span></span></code></pre></div><h3 id="general-options">General Options<a hidden class="anchor" aria-hidden="true" href="#general-options">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>{<span style="color:#f92672">&lt;</span>el<span style="color:#f92672">&gt;</span>:<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">10</span>}                               <span style="color:#75715e"># &#39;&lt;el&gt;      &#39;</span>
</span></span><span style="display:flex;"><span>{<span style="color:#f92672">&lt;</span>el<span style="color:#f92672">&gt;</span>:<span style="color:#f92672">^</span><span style="color:#ae81ff">10</span>}                               <span style="color:#75715e"># &#39;   &lt;el&gt;   &#39;</span>
</span></span><span style="display:flex;"><span>{<span style="color:#f92672">&lt;</span>el<span style="color:#f92672">&gt;</span>:<span style="color:#f92672">&gt;</span><span style="color:#ae81ff">10</span>}                               <span style="color:#75715e"># &#39;      &lt;el&gt;&#39;</span>
</span></span><span style="display:flex;"><span>{<span style="color:#f92672">&lt;</span>el<span style="color:#f92672">&gt;</span>:<span style="color:#f92672">.&lt;</span><span style="color:#ae81ff">10</span>}                              <span style="color:#75715e"># &#39;&lt;el&gt;......&#39;</span>
</span></span><span style="display:flex;"><span>{<span style="color:#f92672">&lt;</span>el<span style="color:#f92672">&gt;</span>:<span style="color:#ae81ff">0</span>}                                 <span style="color:#75715e"># &#39;&lt;el&gt;&#39;</span>
</span></span></code></pre></div><ul>
<li><strong>Options can be generated dynamically: <code>f'{&lt;el&gt;:{&lt;str/int&gt;}[‚Ä¶]}'</code>.</strong></li>
<li><strong>Adding <code>'!r'</code> before the colon converts object to string by calling its <a href="#class">repr()</a> method.</strong></li>
</ul>
<h3 id="strings">Strings<a hidden class="anchor" aria-hidden="true" href="#strings">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>{<span style="color:#e6db74">&#39;abcde&#39;</span>:<span style="color:#ae81ff">10</span>}                             <span style="color:#75715e"># &#39;abcde     &#39;</span>
</span></span><span style="display:flex;"><span>{<span style="color:#e6db74">&#39;abcde&#39;</span>:<span style="color:#ae81ff">10.3</span>}                           <span style="color:#75715e"># &#39;abc       &#39;</span>
</span></span><span style="display:flex;"><span>{<span style="color:#e6db74">&#39;abcde&#39;</span>:<span style="color:#ae81ff">.3</span>}                             <span style="color:#75715e"># &#39;abc&#39;</span>
</span></span><span style="display:flex;"><span>{<span style="color:#e6db74">&#39;abcde&#39;</span><span style="color:#960050;background-color:#1e0010">!</span>r:<span style="color:#ae81ff">10</span>}                           <span style="color:#75715e"># &#34;&#39;abcde&#39;   &#34;</span>
</span></span></code></pre></div><h3 id="numbers">Numbers<a hidden class="anchor" aria-hidden="true" href="#numbers">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>{<span style="color:#ae81ff">123456</span>:<span style="color:#ae81ff">10</span>}                              <span style="color:#75715e"># &#39;    123456&#39;</span>
</span></span><span style="display:flex;"><span>{<span style="color:#ae81ff">123456</span>:<span style="color:#ae81ff">10</span>,}                             <span style="color:#75715e"># &#39;   123,456&#39;</span>
</span></span><span style="display:flex;"><span>{<span style="color:#ae81ff">123456</span>:<span style="color:#ae81ff">10</span>_}                             <span style="color:#75715e"># &#39;   123_456&#39;</span>
</span></span><span style="display:flex;"><span>{<span style="color:#ae81ff">123456</span>:<span style="color:#f92672">+</span><span style="color:#ae81ff">10</span>}                             <span style="color:#75715e"># &#39;   +123456&#39;</span>
</span></span><span style="display:flex;"><span>{<span style="color:#ae81ff">123456</span><span style="color:#f92672">:=+</span><span style="color:#ae81ff">10</span>}                            <span style="color:#75715e"># &#39;+   123456&#39;</span>
</span></span><span style="display:flex;"><span>{<span style="color:#ae81ff">123456</span>: }                               <span style="color:#75715e"># &#39; 123456&#39;</span>
</span></span><span style="display:flex;"><span>{<span style="color:#f92672">-</span><span style="color:#ae81ff">123456</span>: }                              <span style="color:#75715e"># &#39;-123456&#39;</span>
</span></span></code></pre></div><h3 id="floats">Floats<a hidden class="anchor" aria-hidden="true" href="#floats">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>{<span style="color:#ae81ff">1.23456</span>:<span style="color:#ae81ff">10.3</span>}                           <span style="color:#75715e"># &#39;      1.23&#39;</span>
</span></span><span style="display:flex;"><span>{<span style="color:#ae81ff">1.23456</span>:<span style="color:#ae81ff">10.3</span>f}                          <span style="color:#75715e"># &#39;     1.235&#39;</span>
</span></span><span style="display:flex;"><span>{<span style="color:#ae81ff">1.23456</span>:<span style="color:#ae81ff">10.3</span>e}                          <span style="color:#75715e"># &#39; 1.235e+00&#39;</span>
</span></span><span style="display:flex;"><span>{<span style="color:#ae81ff">1.23456</span>:<span style="color:#ae81ff">10.3</span><span style="color:#f92672">%</span>}                          <span style="color:#75715e"># &#39;  123.456%&#39;</span>
</span></span></code></pre></div><h4 id="comparison-of-presentation-types">Comparison of presentation types:<a hidden class="anchor" aria-hidden="true" href="#comparison-of-presentation-types">#</a></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>+--------------+----------------+----------------+----------------+----------------+
</span></span><span style="display:flex;"><span>|              |    {&lt;float&gt;}   |   {&lt;float&gt;:f}  |   {&lt;float&gt;:e}  |   {&lt;float&gt;:%}  |
</span></span><span style="display:flex;"><span>+--------------+----------------+----------------+----------------+----------------+
</span></span><span style="display:flex;"><span>|  0.000056789 |   &#39;5.6789e-05&#39; |    &#39;0.000057&#39;  | &#39;5.678900e-05&#39; |    &#39;0.005679%&#39; |
</span></span><span style="display:flex;"><span>|  0.00056789  |   &#39;0.00056789&#39; |    &#39;0.000568&#39;  | &#39;5.678900e-04&#39; |    &#39;0.056789%&#39; |
</span></span><span style="display:flex;"><span>|  0.0056789   |   &#39;0.0056789&#39;  |    &#39;0.005679&#39;  | &#39;5.678900e-03&#39; |    &#39;0.567890%&#39; |
</span></span><span style="display:flex;"><span>|  0.056789    |   &#39;0.056789&#39;   |    &#39;0.056789&#39;  | &#39;5.678900e-02&#39; |    &#39;5.678900%&#39; |
</span></span><span style="display:flex;"><span>|  0.56789     |   &#39;0.56789&#39;    |    &#39;0.567890&#39;  | &#39;5.678900e-01&#39; |   &#39;56.789000%&#39; |
</span></span><span style="display:flex;"><span>|  5.6789      |   &#39;5.6789&#39;     |    &#39;5.678900&#39;  | &#39;5.678900e+00&#39; |  &#39;567.890000%&#39; |
</span></span><span style="display:flex;"><span>| 56.789       |  &#39;56.789&#39;      |   &#39;56.789000&#39;  | &#39;5.678900e+01&#39; | &#39;5678.900000%&#39; |
</span></span><span style="display:flex;"><span>+--------------+----------------+----------------+----------------+----------------+
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>+--------------+----------------+----------------+----------------+----------------+
</span></span><span style="display:flex;"><span>|              |  {&lt;float&gt;:.2}  |  {&lt;float&gt;:.2f} |  {&lt;float&gt;:.2e} |  {&lt;float&gt;:.2%} |
</span></span><span style="display:flex;"><span>+--------------+----------------+----------------+----------------+----------------+
</span></span><span style="display:flex;"><span>|  0.000056789 |    &#39;5.7e-05&#39;   |      &#39;0.00&#39;    |   &#39;5.68e-05&#39;   |      &#39;0.01%&#39;   |
</span></span><span style="display:flex;"><span>|  0.00056789  |    &#39;0.00057&#39;   |      &#39;0.00&#39;    |   &#39;5.68e-04&#39;   |      &#39;0.06%&#39;   |
</span></span><span style="display:flex;"><span>|  0.0056789   |    &#39;0.0057&#39;    |      &#39;0.01&#39;    |   &#39;5.68e-03&#39;   |      &#39;0.57%&#39;   |
</span></span><span style="display:flex;"><span>|  0.056789    |    &#39;0.057&#39;     |      &#39;0.06&#39;    |   &#39;5.68e-02&#39;   |      &#39;5.68%&#39;   |
</span></span><span style="display:flex;"><span>|  0.56789     |    &#39;0.57&#39;      |      &#39;0.57&#39;    |   &#39;5.68e-01&#39;   |     &#39;56.79%&#39;   |
</span></span><span style="display:flex;"><span>|  5.6789      |    &#39;5.7&#39;       |      &#39;5.68&#39;    |   &#39;5.68e+00&#39;   |    &#39;567.89%&#39;   |
</span></span><span style="display:flex;"><span>| 56.789       |    &#39;5.7e+01&#39;   |     &#39;56.79&#39;    |   &#39;5.68e+01&#39;   |   &#39;5678.90%&#39;   |
</span></span><span style="display:flex;"><span>+--------------+----------------+----------------+----------------+----------------+
</span></span></code></pre></div><ul>
<li><strong>When both rounding up and rounding down are possible, the one that returns result with even last digit is chosen. That makes <code>'{6.5:.0f}'</code> a <code>'6'</code> and <code>'{7.5:.0f}'</code> an <code>'8'</code>.</strong></li>
<li><strong>This rule only effects numbers that can be represented exactly by a float (<code>.5</code>, <code>.25</code>, ‚Ä¶).</strong></li>
</ul>
<h3 id="ints">Ints<a hidden class="anchor" aria-hidden="true" href="#ints">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>{<span style="color:#ae81ff">90</span>:c}                                   <span style="color:#75715e"># &#39;Z&#39;</span>
</span></span><span style="display:flex;"><span>{<span style="color:#ae81ff">90</span>:b}                                   <span style="color:#75715e"># &#39;1011010&#39;</span>
</span></span><span style="display:flex;"><span>{<span style="color:#ae81ff">90</span>:X}                                   <span style="color:#75715e"># &#39;5A&#39;</span>
</span></span></code></pre></div><h2 id="numbers-1">Numbers<a hidden class="anchor" aria-hidden="true" href="#numbers-1">#</a></h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>int<span style="color:#f92672">&gt;</span>      <span style="color:#f92672">=</span> int(<span style="color:#f92672">&lt;</span>float<span style="color:#f92672">/</span>str<span style="color:#f92672">/</span>bool<span style="color:#f92672">&gt;</span>)       <span style="color:#75715e"># Or: math.floor(&lt;float&gt;)</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>float<span style="color:#f92672">&gt;</span>    <span style="color:#f92672">=</span> float(<span style="color:#f92672">&lt;</span>int<span style="color:#f92672">/</span>str<span style="color:#f92672">/</span>bool<span style="color:#f92672">&gt;</span>)       <span style="color:#75715e"># Or: &lt;real&gt;e¬±&lt;int&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>complex<span style="color:#f92672">&gt;</span>  <span style="color:#f92672">=</span> complex(real<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>, imag<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>)     <span style="color:#75715e"># Or: &lt;real&gt; ¬± &lt;real&gt;j</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Fraction<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> fractions<span style="color:#f92672">.</span>Fraction(<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">1</span>)    <span style="color:#75715e"># Or: Fraction(numerator=0, denominator=1)</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Decimal<span style="color:#f92672">&gt;</span>  <span style="color:#f92672">=</span> decimal<span style="color:#f92672">.</span>Decimal(<span style="color:#f92672">&lt;</span>str<span style="color:#f92672">/</span>int<span style="color:#f92672">&gt;</span>)  <span style="color:#75715e"># Or: Decimal((sign, digits, exponent))</span>
</span></span></code></pre></div><ul>
<li><strong><code>'int(&lt;str&gt;)'</code> and <code>'float(&lt;str&gt;)'</code> raise ValueError on malformed strings.</strong></li>
<li><strong>Decimal numbers are stored exactly, unlike most floats where <code>'1.1 + 2.2 != 3.3'</code>.</strong></li>
<li><strong>Floats can be compared with: <code>'math.isclose(&lt;float&gt;, &lt;float&gt;)'</code>.</strong></li>
<li><strong>Precision of decimal operations is set with: <code>'decimal.getcontext().prec = &lt;int&gt;'</code>.</strong></li>
</ul>
<h3 id="basic-functions">Basic Functions<a hidden class="anchor" aria-hidden="true" href="#basic-functions">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>num<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> pow(<span style="color:#f92672">&lt;</span>num<span style="color:#f92672">&gt;</span>, <span style="color:#f92672">&lt;</span>num<span style="color:#f92672">&gt;</span>)                <span style="color:#75715e"># Or: &lt;num&gt; ** &lt;num&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>num<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> abs(<span style="color:#f92672">&lt;</span>num<span style="color:#f92672">&gt;</span>)                       <span style="color:#75715e"># &lt;float&gt; = abs(&lt;complex&gt;)</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>num<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> round(<span style="color:#f92672">&lt;</span>num<span style="color:#f92672">&gt;</span> [, <span style="color:#960050;background-color:#1e0010">¬±</span>ndigits])        <span style="color:#75715e"># `round(126, -1) == 130`</span>
</span></span></code></pre></div><h3 id="math">Math<a hidden class="anchor" aria-hidden="true" href="#math">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> math <span style="color:#f92672">import</span> e, pi, inf, nan, isinf, isnan
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> math <span style="color:#f92672">import</span> sin, cos, tan, asin, acos, atan, degrees, radians
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> math <span style="color:#f92672">import</span> log, log10, log2
</span></span></code></pre></div><h3 id="statistics">Statistics<a hidden class="anchor" aria-hidden="true" href="#statistics">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> statistics <span style="color:#f92672">import</span> mean, median, variance, stdev, quantiles, groupby
</span></span></code></pre></div><h3 id="random">Random<a hidden class="anchor" aria-hidden="true" href="#random">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> random <span style="color:#f92672">import</span> random, randint, choice, shuffle, gauss, seed
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>float<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> random()                       <span style="color:#75715e"># A float inside [0, 1).</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>int<span style="color:#f92672">&gt;</span>   <span style="color:#f92672">=</span> randint(from_inc, to_inc)      <span style="color:#75715e"># An int inside [from_inc, to_inc].</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>el<span style="color:#f92672">&gt;</span>    <span style="color:#f92672">=</span> choice(<span style="color:#f92672">&lt;</span>sequence<span style="color:#f92672">&gt;</span>)             <span style="color:#75715e"># Keeps the sequence intact.</span>
</span></span></code></pre></div><h3 id="bin-hex">Bin, Hex<a hidden class="anchor" aria-hidden="true" href="#bin-hex">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>int<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#960050;background-color:#1e0010">¬±</span><span style="color:#ae81ff">0</span>b<span style="color:#f92672">&lt;</span>bin<span style="color:#f92672">&gt;</span>                         <span style="color:#75715e"># Or: ¬±0x&lt;hex&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>int<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> int(<span style="color:#e6db74">&#39;¬±&lt;bin&gt;&#39;</span>, <span style="color:#ae81ff">2</span>)                 <span style="color:#75715e"># Or: int(&#39;¬±&lt;hex&gt;&#39;, 16)</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>int<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> int(<span style="color:#e6db74">&#39;¬±0b&lt;bin&gt;&#39;</span>, <span style="color:#ae81ff">0</span>)               <span style="color:#75715e"># Or: int(&#39;¬±0x&lt;hex&gt;&#39;, 0)</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>str<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> bin(<span style="color:#f92672">&lt;</span>int<span style="color:#f92672">&gt;</span>)                       <span style="color:#75715e"># Returns &#39;[-]0b&lt;bin&gt;&#39;.</span>
</span></span></code></pre></div><h3 id="bitwise-operators">Bitwise Operators<a hidden class="anchor" aria-hidden="true" href="#bitwise-operators">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>int<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>int<span style="color:#f92672">&gt;</span> <span style="color:#f92672">&amp;</span> <span style="color:#f92672">&lt;</span>int<span style="color:#f92672">&gt;</span>                    <span style="color:#75715e"># And (0b1100 &amp; 0b1010 == 0b1000).</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>int<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>int<span style="color:#f92672">&gt;</span> <span style="color:#f92672">|</span> <span style="color:#f92672">&lt;</span>int<span style="color:#f92672">&gt;</span>                    <span style="color:#75715e"># Or  (0b1100 | 0b1010 == 0b1110).</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>int<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>int<span style="color:#f92672">&gt;</span> <span style="color:#f92672">^</span> <span style="color:#f92672">&lt;</span>int<span style="color:#f92672">&gt;</span>                    <span style="color:#75715e"># Xor (0b1100 ^ 0b1010 == 0b0110).</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>int<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>int<span style="color:#f92672">&gt;</span> <span style="color:#f92672">&lt;&lt;</span> n_bits                  <span style="color:#75715e"># Left shift. Use &gt;&gt; for right.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>int<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">~&lt;</span>int<span style="color:#f92672">&gt;</span>                           <span style="color:#75715e"># Not. Also -&lt;int&gt; - 1.</span>
</span></span></code></pre></div><h2 id="combinatorics">Combinatorics<a hidden class="anchor" aria-hidden="true" href="#combinatorics">#</a></h2>
<ul>
<li><strong>Every function returns an iterator.</strong></li>
<li><strong>If you want to print the iterator, you need to pass it to the list() function first!</strong></li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> itertools <span style="color:#f92672">import</span> product, combinations, combinations_with_replacement, permutations
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> product([<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">1</span>], repeat<span style="color:#f92672">=</span><span style="color:#ae81ff">3</span>)
</span></span><span style="display:flex;"><span>[(<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>), (<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">1</span>), (<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">0</span>), (<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">1</span>), <span style="color:#f92672">...</span>, (<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">1</span>)]
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> product(<span style="color:#e6db74">&#39;abc&#39;</span>, <span style="color:#e6db74">&#39;abc&#39;</span>)                    <span style="color:#75715e">#   a  b  c</span>
</span></span><span style="display:flex;"><span>[(<span style="color:#e6db74">&#39;a&#39;</span>, <span style="color:#e6db74">&#39;a&#39;</span>), (<span style="color:#e6db74">&#39;a&#39;</span>, <span style="color:#e6db74">&#39;b&#39;</span>), (<span style="color:#e6db74">&#39;a&#39;</span>, <span style="color:#e6db74">&#39;c&#39;</span>),         <span style="color:#75715e"># a x  x  x</span>
</span></span><span style="display:flex;"><span> (<span style="color:#e6db74">&#39;b&#39;</span>, <span style="color:#e6db74">&#39;a&#39;</span>), (<span style="color:#e6db74">&#39;b&#39;</span>, <span style="color:#e6db74">&#39;b&#39;</span>), (<span style="color:#e6db74">&#39;b&#39;</span>, <span style="color:#e6db74">&#39;c&#39;</span>),         <span style="color:#75715e"># b x  x  x</span>
</span></span><span style="display:flex;"><span> (<span style="color:#e6db74">&#39;c&#39;</span>, <span style="color:#e6db74">&#39;a&#39;</span>), (<span style="color:#e6db74">&#39;c&#39;</span>, <span style="color:#e6db74">&#39;b&#39;</span>), (<span style="color:#e6db74">&#39;c&#39;</span>, <span style="color:#e6db74">&#39;c&#39;</span>)]         <span style="color:#75715e"># c x  x  x</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> combinations(<span style="color:#e6db74">&#39;abc&#39;</span>, <span style="color:#ae81ff">2</span>)                   <span style="color:#75715e">#   a  b  c</span>
</span></span><span style="display:flex;"><span>[(<span style="color:#e6db74">&#39;a&#39;</span>, <span style="color:#e6db74">&#39;b&#39;</span>), (<span style="color:#e6db74">&#39;a&#39;</span>, <span style="color:#e6db74">&#39;c&#39;</span>),                     <span style="color:#75715e"># a .  x  x</span>
</span></span><span style="display:flex;"><span> (<span style="color:#e6db74">&#39;b&#39;</span>, <span style="color:#e6db74">&#39;c&#39;</span>)]                                 <span style="color:#75715e"># b .  .  x</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> combinations_with_replacement(<span style="color:#e6db74">&#39;abc&#39;</span>, <span style="color:#ae81ff">2</span>)  <span style="color:#75715e">#   a  b  c</span>
</span></span><span style="display:flex;"><span>[(<span style="color:#e6db74">&#39;a&#39;</span>, <span style="color:#e6db74">&#39;a&#39;</span>), (<span style="color:#e6db74">&#39;a&#39;</span>, <span style="color:#e6db74">&#39;b&#39;</span>), (<span style="color:#e6db74">&#39;a&#39;</span>, <span style="color:#e6db74">&#39;c&#39;</span>),         <span style="color:#75715e"># a x  x  x</span>
</span></span><span style="display:flex;"><span> (<span style="color:#e6db74">&#39;b&#39;</span>, <span style="color:#e6db74">&#39;b&#39;</span>), (<span style="color:#e6db74">&#39;b&#39;</span>, <span style="color:#e6db74">&#39;c&#39;</span>),                     <span style="color:#75715e"># b .  x  x</span>
</span></span><span style="display:flex;"><span> (<span style="color:#e6db74">&#39;c&#39;</span>, <span style="color:#e6db74">&#39;c&#39;</span>)]                                 <span style="color:#75715e"># c .  .  x</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> permutations(<span style="color:#e6db74">&#39;abc&#39;</span>, <span style="color:#ae81ff">2</span>)                   <span style="color:#75715e">#   a  b  c</span>
</span></span><span style="display:flex;"><span>[(<span style="color:#e6db74">&#39;a&#39;</span>, <span style="color:#e6db74">&#39;b&#39;</span>), (<span style="color:#e6db74">&#39;a&#39;</span>, <span style="color:#e6db74">&#39;c&#39;</span>),                     <span style="color:#75715e"># a .  x  x</span>
</span></span><span style="display:flex;"><span> (<span style="color:#e6db74">&#39;b&#39;</span>, <span style="color:#e6db74">&#39;a&#39;</span>), (<span style="color:#e6db74">&#39;b&#39;</span>, <span style="color:#e6db74">&#39;c&#39;</span>),                     <span style="color:#75715e"># b x  .  x</span>
</span></span><span style="display:flex;"><span> (<span style="color:#e6db74">&#39;c&#39;</span>, <span style="color:#e6db74">&#39;a&#39;</span>), (<span style="color:#e6db74">&#39;c&#39;</span>, <span style="color:#e6db74">&#39;b&#39;</span>)]                     <span style="color:#75715e"># c x  x  .</span>
</span></span></code></pre></div><h2 id="datetime">Datetime<a hidden class="anchor" aria-hidden="true" href="#datetime">#</a></h2>
<ul>
<li><strong>Module &lsquo;datetime&rsquo; provides &lsquo;date&rsquo; <code>&lt;D&gt;</code>, &rsquo;time&rsquo; <code>&lt;T&gt;</code>, &lsquo;datetime&rsquo; <code>&lt;DT&gt;</code> and &rsquo;timedelta&rsquo; <code>&lt;TD&gt;</code> classes. All are immutable and hashable.</strong></li>
<li><strong>Time and datetime objects can be &lsquo;aware&rsquo; <code>&lt;a&gt;</code>, meaning they have defined timezone, or &rsquo;naive&rsquo; <code>&lt;n&gt;</code>, meaning they don&rsquo;t.</strong></li>
<li><strong>If object is naive, it is presumed to be in the system&rsquo;s timezone.</strong></li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> datetime <span style="color:#f92672">import</span> date, time, datetime, timedelta
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> dateutil.tz <span style="color:#f92672">import</span> UTC, tzlocal, gettz, datetime_exists, resolve_imaginary
</span></span></code></pre></div><h3 id="constructors">Constructors<a hidden class="anchor" aria-hidden="true" href="#constructors">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>D<span style="color:#f92672">&gt;</span>  <span style="color:#f92672">=</span> date(year, month, day)
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>T<span style="color:#f92672">&gt;</span>  <span style="color:#f92672">=</span> time(hour<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>, minute<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>, second<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>, microsecond<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>, tzinfo<span style="color:#f92672">=</span><span style="color:#66d9ef">None</span>, fold<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>DT<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> datetime(year, month, day, hour<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>, minute<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>, second<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>, <span style="color:#f92672">...</span>)
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>TD<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> timedelta(weeks<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>, days<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>, hours<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>, minutes<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>, seconds<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>, <span style="color:#f92672">...</span>)
</span></span></code></pre></div><ul>
<li><strong>Use <code>'&lt;D/DT&gt;.weekday()'</code> to get the day of the week as an int, with Monday being 0.</strong></li>
<li><strong><code>'fold=1'</code> means the second pass in case of time jumping back for one hour.</strong></li>
<li><strong>Timedelta normalizes arguments to ¬±days, seconds (&lt; 86‚ÄØ400) and microseconds (&lt; 1M).</strong></li>
</ul>
<h3 id="now">Now<a hidden class="anchor" aria-hidden="true" href="#now">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>D<span style="color:#f92672">/</span>DTn<span style="color:#f92672">&gt;</span>  <span style="color:#f92672">=</span> D<span style="color:#f92672">/</span>DT<span style="color:#f92672">.</span>today()                     <span style="color:#75715e"># Current local date or naive datetime.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>DTn<span style="color:#f92672">&gt;</span>    <span style="color:#f92672">=</span> DT<span style="color:#f92672">.</span>utcnow()                      <span style="color:#75715e"># Naive datetime from current UTC time.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>DTa<span style="color:#f92672">&gt;</span>    <span style="color:#f92672">=</span> DT<span style="color:#f92672">.</span>now(<span style="color:#f92672">&lt;</span>tzinfo<span style="color:#f92672">&gt;</span>)                 <span style="color:#75715e"># Aware datetime from current tz time.</span>
</span></span></code></pre></div><ul>
<li><strong>To extract time use <code>'&lt;DTn&gt;.time()'</code>, <code>'&lt;DTa&gt;.time()'</code> or <code>'&lt;DTa&gt;.timetz()'</code>.</strong></li>
</ul>
<h3 id="timezone">Timezone<a hidden class="anchor" aria-hidden="true" href="#timezone">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>tzinfo<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> UTC                              <span style="color:#75715e"># UTC timezone. London without DST.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>tzinfo<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> tzlocal()                        <span style="color:#75715e"># Local timezone. Also gettz().</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>tzinfo<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> gettz(<span style="color:#e6db74">&#39;&lt;Continent&gt;/&lt;City&gt;&#39;</span>)      <span style="color:#75715e"># &#39;Continent/City_Name&#39; timezone or None.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>DTa<span style="color:#f92672">&gt;</span>    <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>DT<span style="color:#f92672">&gt;.</span>astimezone(<span style="color:#f92672">&lt;</span>tzinfo<span style="color:#f92672">&gt;</span>)        <span style="color:#75715e"># Datetime, converted to the passed timezone.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Ta<span style="color:#f92672">/</span>DTa<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>T<span style="color:#f92672">/</span>DT<span style="color:#f92672">&gt;.</span>replace(tzinfo<span style="color:#f92672">=&lt;</span>tzinfo<span style="color:#f92672">&gt;</span>)  <span style="color:#75715e"># Unconverted object with a new timezone.</span>
</span></span></code></pre></div><h3 id="encode">Encode<a hidden class="anchor" aria-hidden="true" href="#encode">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>D<span style="color:#f92672">/</span>T<span style="color:#f92672">/</span>DT<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> D<span style="color:#f92672">/</span>T<span style="color:#f92672">/</span>DT<span style="color:#f92672">.</span>fromisoformat(<span style="color:#e6db74">&#39;&lt;iso&gt;&#39;</span>)    <span style="color:#75715e"># Object from ISO string. Raises ValueError.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>DT<span style="color:#f92672">&gt;</span>     <span style="color:#f92672">=</span> DT<span style="color:#f92672">.</span>strptime(<span style="color:#f92672">&lt;</span>str<span style="color:#f92672">&gt;</span>, <span style="color:#e6db74">&#39;&lt;format&gt;&#39;</span>)   <span style="color:#75715e"># Datetime from str, according to format.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>D<span style="color:#f92672">/</span>DTn<span style="color:#f92672">&gt;</span>  <span style="color:#f92672">=</span> D<span style="color:#f92672">/</span>DT<span style="color:#f92672">.</span>fromordinal(<span style="color:#f92672">&lt;</span>int<span style="color:#f92672">&gt;</span>)          <span style="color:#75715e"># D/DTn from days since the Gregorian NYE 1.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>DTn<span style="color:#f92672">&gt;</span>    <span style="color:#f92672">=</span> DT<span style="color:#f92672">.</span>fromtimestamp(<span style="color:#f92672">&lt;</span>real<span style="color:#f92672">&gt;</span>)         <span style="color:#75715e"># Local time DTn from seconds since the Epoch.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>DTa<span style="color:#f92672">&gt;</span>    <span style="color:#f92672">=</span> DT<span style="color:#f92672">.</span>fromtimestamp(<span style="color:#f92672">&lt;</span>real<span style="color:#f92672">&gt;</span>, <span style="color:#f92672">&lt;</span>tz<span style="color:#f92672">.&gt;</span>)  <span style="color:#75715e"># Aware datetime from seconds since the Epoch.</span>
</span></span></code></pre></div><ul>
<li><strong>ISO strings come in following forms: <code>'YYYY-MM-DD'</code>, <code>'HH:MM:SS.mmmuuu[¬±HH:MM]'</code>, or both separated by an arbitrary character. All parts following hours are optional.</strong></li>
<li><strong>Python uses the Unix Epoch: <code>'1970-01-01 00:00 UTC'</code>, <code>'1970-01-01 01:00 CET'</code>, &hellip;</strong></li>
</ul>
<h3 id="decode">Decode<a hidden class="anchor" aria-hidden="true" href="#decode">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>str<span style="color:#f92672">&gt;</span>    <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>D<span style="color:#f92672">/</span>T<span style="color:#f92672">/</span>DT<span style="color:#f92672">&gt;.</span>isoformat(sep<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;T&#39;</span>)      <span style="color:#75715e"># Also timespec=&#39;auto/hours/minutes/seconds/‚Ä¶&#39;.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>str<span style="color:#f92672">&gt;</span>    <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>D<span style="color:#f92672">/</span>T<span style="color:#f92672">/</span>DT<span style="color:#f92672">&gt;.</span>strftime(<span style="color:#e6db74">&#39;&lt;format&gt;&#39;</span>)    <span style="color:#75715e"># Custom string representation.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>int<span style="color:#f92672">&gt;</span>    <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>D<span style="color:#f92672">/</span>DT<span style="color:#f92672">&gt;.</span>toordinal()               <span style="color:#75715e"># Days since Gregorian NYE 1, ignoring time and tz.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>float<span style="color:#f92672">&gt;</span>  <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>DTn<span style="color:#f92672">&gt;.</span>timestamp()                <span style="color:#75715e"># Seconds since the Epoch, from DTn in local tz.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>float<span style="color:#f92672">&gt;</span>  <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>DTa<span style="color:#f92672">&gt;.</span>timestamp()                <span style="color:#75715e"># Seconds since the Epoch, from aware datetime.</span>
</span></span></code></pre></div><h3 id="format-1">Format<a hidden class="anchor" aria-hidden="true" href="#format-1">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> dt <span style="color:#f92672">=</span> datetime<span style="color:#f92672">.</span>strptime(<span style="color:#e6db74">&#39;2015-05-14 23:39:00.00 +2000&#39;</span>, <span style="color:#e6db74">&#39;%Y-%m-</span><span style="color:#e6db74">%d</span><span style="color:#e6db74"> %H:%M:%S.</span><span style="color:#e6db74">%f</span><span style="color:#e6db74"> %z&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> dt<span style="color:#f92672">.</span>strftime(<span style="color:#e6db74">&#34;%A, </span><span style="color:#e6db74">%d</span><span style="color:#e6db74">th of %B &#39;%y, %I:%M%p %Z&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#e6db74">&#34;Thursday, 14th of May &#39;15, 11:39PM UTC+02:00&#34;</span>
</span></span></code></pre></div><ul>
<li><strong><code>'%Z'</code> only accepts <code>'UTC/GMT'</code> and local timezone&rsquo;s code. <code>'%z'</code> also accepts <code>'¬±HH:MM'</code>.</strong></li>
<li><strong>For abbreviated weekday and month use <code>'%a'</code> and <code>'%b'</code>.</strong></li>
</ul>
<h3 id="arithmetics">Arithmetics<a hidden class="anchor" aria-hidden="true" href="#arithmetics">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>D<span style="color:#f92672">/</span>DT<span style="color:#f92672">&gt;</span>   <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>D<span style="color:#f92672">/</span>DT<span style="color:#f92672">&gt;</span>  <span style="color:#960050;background-color:#1e0010">¬±</span> <span style="color:#f92672">&lt;</span>TD<span style="color:#f92672">&gt;</span>                   <span style="color:#75715e"># Returned datetime can fall into missing hour.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>TD<span style="color:#f92672">&gt;</span>     <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>D<span style="color:#f92672">/</span>DTn<span style="color:#f92672">&gt;</span> <span style="color:#f92672">-</span> <span style="color:#f92672">&lt;</span>D<span style="color:#f92672">/</span>DTn<span style="color:#f92672">&gt;</span>                <span style="color:#75715e"># Returns the difference, ignoring time jumps.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>TD<span style="color:#f92672">&gt;</span>     <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>DTa<span style="color:#f92672">&gt;</span>   <span style="color:#f92672">-</span> <span style="color:#f92672">&lt;</span>DTa<span style="color:#f92672">&gt;</span>                  <span style="color:#75715e"># Ignores time jumps if they share tzinfo object.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>TD<span style="color:#f92672">&gt;</span>     <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>TD<span style="color:#f92672">&gt;</span>    <span style="color:#f92672">*</span> <span style="color:#f92672">&lt;</span>real<span style="color:#f92672">&gt;</span>                 <span style="color:#75715e"># Also: &lt;TD&gt; = abs(&lt;TD&gt;) and &lt;TD&gt; = &lt;TD&gt; ¬±% &lt;TD&gt;.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>float<span style="color:#f92672">&gt;</span>  <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>TD<span style="color:#f92672">&gt;</span>    <span style="color:#f92672">/</span> <span style="color:#f92672">&lt;</span>TD<span style="color:#f92672">&gt;</span>                   <span style="color:#75715e"># How many weeks/years there are in TD. Also //.</span>
</span></span></code></pre></div><h2 id="arguments">Arguments<a hidden class="anchor" aria-hidden="true" href="#arguments">#</a></h2>
<h3 id="inside-function-call">Inside Function Call<a hidden class="anchor" aria-hidden="true" href="#inside-function-call">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>func(<span style="color:#f92672">&lt;</span>positional_args<span style="color:#f92672">&gt;</span>)                           <span style="color:#75715e"># func(1, 2)</span>
</span></span><span style="display:flex;"><span>func(<span style="color:#f92672">&lt;</span>keyword_args<span style="color:#f92672">&gt;</span>)                              <span style="color:#75715e"># func(x=1, y=2)</span>
</span></span><span style="display:flex;"><span>func(<span style="color:#f92672">&lt;</span>positional_args<span style="color:#f92672">&gt;</span>, <span style="color:#f92672">&lt;</span>keyword_args<span style="color:#f92672">&gt;</span>)           <span style="color:#75715e"># func(1, y=2)</span>
</span></span></code></pre></div><h3 id="inside-function-definition">Inside Function Definition<a hidden class="anchor" aria-hidden="true" href="#inside-function-definition">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">func</span>(<span style="color:#f92672">&lt;</span>nondefault_args<span style="color:#f92672">&gt;</span>): <span style="color:#f92672">...</span>                  <span style="color:#75715e"># def func(x, y): ...</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">func</span>(<span style="color:#f92672">&lt;</span>default_args<span style="color:#f92672">&gt;</span>): <span style="color:#f92672">...</span>                     <span style="color:#75715e"># def func(x=0, y=0): ...</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">func</span>(<span style="color:#f92672">&lt;</span>nondefault_args<span style="color:#f92672">&gt;</span>, <span style="color:#f92672">&lt;</span>default_args<span style="color:#f92672">&gt;</span>): <span style="color:#f92672">...</span>  <span style="color:#75715e"># def func(x, y=0): ...</span>
</span></span></code></pre></div><ul>
<li><strong>Default values are evaluated when function is first encountered in the scope.</strong></li>
<li><strong>Any mutations of mutable default values will persist between invocations.</strong></li>
</ul>
<h2 id="splat-operator">Splat Operator<a hidden class="anchor" aria-hidden="true" href="#splat-operator">#</a></h2>
<h3 id="inside-function-call-1">Inside Function Call<a hidden class="anchor" aria-hidden="true" href="#inside-function-call-1">#</a></h3>
<p><strong>Splat expands a collection into positional arguments, while splatty-splat expands a dictionary into keyword arguments.</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>args   <span style="color:#f92672">=</span> (<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>)
</span></span><span style="display:flex;"><span>kwargs <span style="color:#f92672">=</span> {<span style="color:#e6db74">&#39;x&#39;</span>: <span style="color:#ae81ff">3</span>, <span style="color:#e6db74">&#39;y&#39;</span>: <span style="color:#ae81ff">4</span>, <span style="color:#e6db74">&#39;z&#39;</span>: <span style="color:#ae81ff">5</span>}
</span></span><span style="display:flex;"><span>func(<span style="color:#f92672">*</span>args, <span style="color:#f92672">**</span>kwargs)
</span></span></code></pre></div><h4 id="is-the-same-as">Is the same as:<a hidden class="anchor" aria-hidden="true" href="#is-the-same-as">#</a></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>func(<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, x<span style="color:#f92672">=</span><span style="color:#ae81ff">3</span>, y<span style="color:#f92672">=</span><span style="color:#ae81ff">4</span>, z<span style="color:#f92672">=</span><span style="color:#ae81ff">5</span>)
</span></span></code></pre></div><h3 id="inside-function-definition-1">Inside Function Definition<a hidden class="anchor" aria-hidden="true" href="#inside-function-definition-1">#</a></h3>
<p><strong>Splat combines zero or more positional arguments into a tuple, while splatty-splat combines zero or more keyword arguments into a dictionary.</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">add</span>(<span style="color:#f92672">*</span>a):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> sum(a)
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> add(<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>)
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">6</span>
</span></span></code></pre></div><h4 id="legal-argument-combinations">Legal argument combinations:<a hidden class="anchor" aria-hidden="true" href="#legal-argument-combinations">#</a></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>(<span style="color:#f92672">*</span>, x, y, z): <span style="color:#f92672">...</span>          <span style="color:#75715e"># f(x=1, y=2, z=3)</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>(x, <span style="color:#f92672">*</span>, y, z): <span style="color:#f92672">...</span>          <span style="color:#75715e"># f(x=1, y=2, z=3) | f(1, y=2, z=3)</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>(x, y, <span style="color:#f92672">*</span>, z): <span style="color:#f92672">...</span>          <span style="color:#75715e"># f(x=1, y=2, z=3) | f(1, y=2, z=3) | f(1, 2, z=3)</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>(<span style="color:#f92672">*</span>args): <span style="color:#f92672">...</span>               <span style="color:#75715e"># f(1, 2, 3)</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>(x, <span style="color:#f92672">*</span>args): <span style="color:#f92672">...</span>            <span style="color:#75715e"># f(1, 2, 3)</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>(<span style="color:#f92672">*</span>args, z): <span style="color:#f92672">...</span>            <span style="color:#75715e"># f(1, 2, z=3)</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>(<span style="color:#f92672">**</span>kwargs): <span style="color:#f92672">...</span>            <span style="color:#75715e"># f(x=1, y=2, z=3)</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>(x, <span style="color:#f92672">**</span>kwargs): <span style="color:#f92672">...</span>         <span style="color:#75715e"># f(x=1, y=2, z=3) | f(1, y=2, z=3)</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>(<span style="color:#f92672">*</span>, x, <span style="color:#f92672">**</span>kwargs): <span style="color:#f92672">...</span>      <span style="color:#75715e"># f(x=1, y=2, z=3)</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>(<span style="color:#f92672">*</span>args, <span style="color:#f92672">**</span>kwargs): <span style="color:#f92672">...</span>     <span style="color:#75715e"># f(x=1, y=2, z=3) | f(1, y=2, z=3) | f(1, 2, z=3) | f(1, 2, 3)</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>(x, <span style="color:#f92672">*</span>args, <span style="color:#f92672">**</span>kwargs): <span style="color:#f92672">...</span>  <span style="color:#75715e"># f(x=1, y=2, z=3) | f(1, y=2, z=3) | f(1, 2, z=3) | f(1, 2, 3)</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>(<span style="color:#f92672">*</span>args, y, <span style="color:#f92672">**</span>kwargs): <span style="color:#f92672">...</span>  <span style="color:#75715e"># f(x=1, y=2, z=3) | f(1, y=2, z=3)</span>
</span></span></code></pre></div><h3 id="other-uses">Other Uses<a hidden class="anchor" aria-hidden="true" href="#other-uses">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>list<span style="color:#f92672">&gt;</span>  <span style="color:#f92672">=</span> [<span style="color:#f92672">*&lt;</span>coll<span style="color:#f92672">.&gt;</span> [, <span style="color:#f92672">...</span>]]    <span style="color:#75715e"># Or: list(&lt;collection&gt;) [+ ...]</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>tuple<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> (<span style="color:#f92672">*&lt;</span>coll<span style="color:#f92672">.&gt;</span>, [<span style="color:#f92672">...</span>])     <span style="color:#75715e"># Or: tuple(&lt;collection&gt;) [+ ...]</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>set<span style="color:#f92672">&gt;</span>   <span style="color:#f92672">=</span> {<span style="color:#f92672">*&lt;</span>coll<span style="color:#f92672">.&gt;</span> [, <span style="color:#f92672">...</span>]}    <span style="color:#75715e"># Or: set(&lt;collection&gt;) [| ...]</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>dict<span style="color:#f92672">&gt;</span>  <span style="color:#f92672">=</span> {<span style="color:#f92672">**&lt;</span>dict<span style="color:#f92672">&gt;</span> [, <span style="color:#f92672">...</span>]}    <span style="color:#75715e"># Or: dict(**&lt;dict&gt; [, ...])</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>head, <span style="color:#f92672">*</span>body, tail <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>coll<span style="color:#f92672">.&gt;</span>     <span style="color:#75715e"># Also `head, *body = &lt;coll.&gt;` and `*body, tail = &lt;coll.&gt;`.</span>
</span></span></code></pre></div><h2 id="inline">Inline<a hidden class="anchor" aria-hidden="true" href="#inline">#</a></h2>
<h3 id="lambda">Lambda<a hidden class="anchor" aria-hidden="true" href="#lambda">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>func<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">lambda</span>: <span style="color:#f92672">&lt;</span>return_value<span style="color:#f92672">&gt;</span>                           <span style="color:#75715e"># A single statement function.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>func<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">lambda</span> <span style="color:#f92672">&lt;</span>arg_1<span style="color:#f92672">&gt;</span>, <span style="color:#f92672">&lt;</span>arg_2<span style="color:#f92672">&gt;</span>: <span style="color:#f92672">&lt;</span>return_value<span style="color:#f92672">&gt;</span>          <span style="color:#75715e"># Also accepts default arguments.</span>
</span></span></code></pre></div><h3 id="comprehensions">Comprehensions<a hidden class="anchor" aria-hidden="true" href="#comprehensions">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>list<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> [i<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span> <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">10</span>)]                         <span style="color:#75715e"># Or: [1, 2, ..., 10]</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>iter<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> (i <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">10</span>) <span style="color:#66d9ef">if</span> i <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">5</span>)                  <span style="color:#75715e"># Or: iter([6, 7, 8, 9])</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>set<span style="color:#f92672">&gt;</span>  <span style="color:#f92672">=</span> {i<span style="color:#f92672">+</span><span style="color:#ae81ff">5</span> <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">10</span>)}                         <span style="color:#75715e"># Or: {5, 6, ..., 14}</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>dict<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> {i: i<span style="color:#f92672">*</span><span style="color:#ae81ff">2</span> <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">10</span>)}                      <span style="color:#75715e"># Or: {0: 0, 1: 2, ..., 9: 18}</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> [l<span style="color:#f92672">+</span>r <span style="color:#66d9ef">for</span> l <span style="color:#f92672">in</span> <span style="color:#e6db74">&#39;abc&#39;</span> <span style="color:#66d9ef">for</span> r <span style="color:#f92672">in</span> <span style="color:#e6db74">&#39;abc&#39;</span>]
</span></span><span style="display:flex;"><span>[<span style="color:#e6db74">&#39;aa&#39;</span>, <span style="color:#e6db74">&#39;ab&#39;</span>, <span style="color:#e6db74">&#39;ac&#39;</span>, <span style="color:#f92672">...</span>, <span style="color:#e6db74">&#39;cc&#39;</span>]
</span></span></code></pre></div><h3 id="map-filter-reduce">Map, Filter, Reduce<a hidden class="anchor" aria-hidden="true" href="#map-filter-reduce">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>iter<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> map(<span style="color:#66d9ef">lambda</span> x: x <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>, range(<span style="color:#ae81ff">10</span>))                  <span style="color:#75715e"># Or: iter([1, 2, ..., 10])</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>iter<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> filter(<span style="color:#66d9ef">lambda</span> x: x <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">5</span>, range(<span style="color:#ae81ff">10</span>))               <span style="color:#75715e"># Or: iter([6, 7, 8, 9])</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>obj<span style="color:#f92672">&gt;</span>  <span style="color:#f92672">=</span> reduce(<span style="color:#66d9ef">lambda</span> out, x: out <span style="color:#f92672">+</span> x, range(<span style="color:#ae81ff">10</span>))        <span style="color:#75715e"># Or: 45</span>
</span></span></code></pre></div><ul>
<li><strong>Reduce must be imported from the functools module.</strong></li>
</ul>
<h3 id="any-all">Any, All<a hidden class="anchor" aria-hidden="true" href="#any-all">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>bool<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> any(<span style="color:#f92672">&lt;</span>collection<span style="color:#f92672">&gt;</span>)                                <span style="color:#75715e"># Is `bool(el)` True for any element.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>bool<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> all(<span style="color:#f92672">&lt;</span>collection<span style="color:#f92672">&gt;</span>)                                <span style="color:#75715e"># Is True for all elements or empty.</span>
</span></span></code></pre></div><h3 id="conditional-expression">Conditional Expression<a hidden class="anchor" aria-hidden="true" href="#conditional-expression">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>obj<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>exp_if_true<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">if</span> <span style="color:#f92672">&lt;</span>condition<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">else</span> <span style="color:#f92672">&lt;</span>exp_if_false<span style="color:#f92672">&gt;</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> [a <span style="color:#66d9ef">if</span> a <span style="color:#66d9ef">else</span> <span style="color:#e6db74">&#39;zero&#39;</span> <span style="color:#66d9ef">for</span> a <span style="color:#f92672">in</span> (<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>)]
</span></span><span style="display:flex;"><span>[<span style="color:#e6db74">&#39;zero&#39;</span>, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>]
</span></span></code></pre></div><h3 id="named-tuple-enum-dataclass">Named Tuple, Enum, Dataclass<a hidden class="anchor" aria-hidden="true" href="#named-tuple-enum-dataclass">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> collections <span style="color:#f92672">import</span> namedtuple
</span></span><span style="display:flex;"><span>Point <span style="color:#f92672">=</span> namedtuple(<span style="color:#e6db74">&#39;Point&#39;</span>, <span style="color:#e6db74">&#39;x y&#39;</span>)
</span></span><span style="display:flex;"><span>point <span style="color:#f92672">=</span> Point(<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>)
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> enum <span style="color:#f92672">import</span> Enum
</span></span><span style="display:flex;"><span>Direction <span style="color:#f92672">=</span> Enum(<span style="color:#e6db74">&#39;Direction&#39;</span>, <span style="color:#e6db74">&#39;n e s w&#39;</span>)
</span></span><span style="display:flex;"><span>direction <span style="color:#f92672">=</span> Direction<span style="color:#f92672">.</span>n
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> dataclasses <span style="color:#f92672">import</span> make_dataclass
</span></span><span style="display:flex;"><span>Creature <span style="color:#f92672">=</span> make_dataclass(<span style="color:#e6db74">&#39;Creature&#39;</span>, [<span style="color:#e6db74">&#39;loc&#39;</span>, <span style="color:#e6db74">&#39;dir&#39;</span>])
</span></span><span style="display:flex;"><span>creature <span style="color:#f92672">=</span> Creature(point, direction)
</span></span></code></pre></div><h2 id="imports">Imports<a hidden class="anchor" aria-hidden="true" href="#imports">#</a></h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> <span style="color:#f92672">&lt;</span>module<span style="color:#f92672">&gt;</span>            <span style="color:#75715e"># Imports a built-in or &#39;&lt;module&gt;.py&#39;.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> <span style="color:#f92672">&lt;</span>package<span style="color:#f92672">&gt;</span>           <span style="color:#75715e"># Imports a built-in or &#39;&lt;package&gt;/__init__.py&#39;.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> <span style="color:#f92672">&lt;</span>package<span style="color:#f92672">&gt;.&lt;</span>module<span style="color:#f92672">&gt;</span>  <span style="color:#75715e"># Imports a built-in or &#39;&lt;package&gt;/&lt;module&gt;.py&#39;.</span>
</span></span></code></pre></div><ul>
<li><strong>Package is a collection of modules, but it can also define its own objects.</strong></li>
<li><strong>On a filesystem this corresponds to a directory of Python files with an optional init script.</strong></li>
<li><strong>Running <code>'import &lt;package&gt;'</code> does not automatically provide access to the package&rsquo;s modules unless they are explicitly imported in its init script.</strong></li>
</ul>
<h2 id="closure">Closure<a hidden class="anchor" aria-hidden="true" href="#closure">#</a></h2>
<p><strong>We have/get a closure in Python when:</strong></p>
<ul>
<li><strong>A nested function references a value of its enclosing function and then</strong></li>
<li><strong>the enclosing function returns the nested function.</strong></li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">get_multiplier</span>(a):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">out</span>(b):
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> a <span style="color:#f92672">*</span> b
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> out
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> multiply_by_3 <span style="color:#f92672">=</span> get_multiplier(<span style="color:#ae81ff">3</span>)
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> multiply_by_3(<span style="color:#ae81ff">10</span>)
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">30</span>
</span></span></code></pre></div><ul>
<li><strong>If multiple nested functions within enclosing function reference the same value, that value gets shared.</strong></li>
<li><strong>To dynamically access function&rsquo;s first free variable use <code>'&lt;function&gt;.__closure__[0].cell_contents'</code>.</strong></li>
</ul>
<h3 id="partial">Partial<a hidden class="anchor" aria-hidden="true" href="#partial">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> functools <span style="color:#f92672">import</span> partial
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>function<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> partial(<span style="color:#f92672">&lt;</span>function<span style="color:#f92672">&gt;</span> [, <span style="color:#f92672">&lt;</span>arg_1<span style="color:#f92672">&gt;</span>, <span style="color:#f92672">&lt;</span>arg_2<span style="color:#f92672">&gt;</span>, <span style="color:#f92672">...</span>])
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> <span style="color:#f92672">import</span> operator <span style="color:#66d9ef">as</span> op
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> multiply_by_3 <span style="color:#f92672">=</span> partial(op<span style="color:#f92672">.</span>mul, <span style="color:#ae81ff">3</span>)
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> multiply_by_3(<span style="color:#ae81ff">10</span>)
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">30</span>
</span></span></code></pre></div><ul>
<li><strong>Partial is also useful in cases when function needs to be passed as an argument because it enables us to set its arguments beforehand.</strong></li>
<li><strong>A few examples being: <code>'defaultdict(&lt;function&gt;)'</code>, <code>'iter(&lt;function&gt;, to_exclusive)'</code> and dataclass&rsquo;s <code>'field(default_factory=&lt;function&gt;)'</code>.</strong></li>
</ul>
<h3 id="non-local">Non-Local<a hidden class="anchor" aria-hidden="true" href="#non-local">#</a></h3>
<p><strong>If variable is being assigned to anywhere in the scope, it is regarded as a local variable, unless it is declared as a &lsquo;global&rsquo; or a &rsquo;nonlocal&rsquo;.</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">get_counter</span>():
</span></span><span style="display:flex;"><span>    i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">out</span>():
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">nonlocal</span> i
</span></span><span style="display:flex;"><span>        i <span style="color:#f92672">+=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> i
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> out
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> counter <span style="color:#f92672">=</span> get_counter()
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> counter(), counter(), counter()
</span></span><span style="display:flex;"><span>(<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>)
</span></span></code></pre></div><h2 id="decorator">Decorator<a hidden class="anchor" aria-hidden="true" href="#decorator">#</a></h2>
<ul>
<li><strong>A decorator takes a function, adds some functionality and returns it.</strong></li>
<li><strong>It can be any <a href="#callable">callable</a>, but is usually implemented as a function that returns a <a href="#closure">closure</a>.</strong></li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#a6e22e">@decorator_name</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">function_that_gets_passed_to_decorator</span>():
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">...</span>
</span></span></code></pre></div><h3 id="debugger-example">Debugger Example<a hidden class="anchor" aria-hidden="true" href="#debugger-example">#</a></h3>
<p><strong>Decorator that prints function&rsquo;s name every time the function is called.</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> functools <span style="color:#f92672">import</span> wraps
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">debug</span>(func):
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@wraps</span>(func)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">out</span>(<span style="color:#f92672">*</span>args, <span style="color:#f92672">**</span>kwargs):
</span></span><span style="display:flex;"><span>        print(func<span style="color:#f92672">.</span>__name__)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> func(<span style="color:#f92672">*</span>args, <span style="color:#f92672">**</span>kwargs)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> out
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">@debug</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">add</span>(x, y):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> x <span style="color:#f92672">+</span> y
</span></span></code></pre></div><ul>
<li><strong>Wraps is a helper decorator that copies the metadata of the passed function (func) to the function it is wrapping (out).</strong></li>
<li><strong>Without it <code>'add.__name__'</code> would return <code>'out'</code>.</strong></li>
</ul>
<h3 id="lru-cache">LRU Cache<a hidden class="anchor" aria-hidden="true" href="#lru-cache">#</a></h3>
<p><strong>Decorator that caches function&rsquo;s return values. All function&rsquo;s arguments must be hashable.</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> functools <span style="color:#f92672">import</span> lru_cache
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">@lru_cache</span>(maxsize<span style="color:#f92672">=</span><span style="color:#66d9ef">None</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">fib</span>(n):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> n <span style="color:#66d9ef">if</span> n <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">2</span> <span style="color:#66d9ef">else</span> fib(n<span style="color:#f92672">-</span><span style="color:#ae81ff">2</span>) <span style="color:#f92672">+</span> fib(n<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>)
</span></span></code></pre></div><ul>
<li><strong>Default size of the cache is 128 values. Passing <code>'maxsize=None'</code> makes it unbounded.</strong></li>
<li><strong>CPython interpreter limits recursion depth to 1000 by default. To increase it use <code>'sys.setrecursionlimit(&lt;depth&gt;)'</code>.</strong></li>
</ul>
<h3 id="parametrized-decorator">Parametrized Decorator<a hidden class="anchor" aria-hidden="true" href="#parametrized-decorator">#</a></h3>
<p><strong>A decorator that accepts arguments and returns a normal decorator that accepts a function.</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> functools <span style="color:#f92672">import</span> wraps
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">debug</span>(print_result<span style="color:#f92672">=</span><span style="color:#66d9ef">False</span>):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">decorator</span>(func):
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">@wraps</span>(func)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">out</span>(<span style="color:#f92672">*</span>args, <span style="color:#f92672">**</span>kwargs):
</span></span><span style="display:flex;"><span>            result <span style="color:#f92672">=</span> func(<span style="color:#f92672">*</span>args, <span style="color:#f92672">**</span>kwargs)
</span></span><span style="display:flex;"><span>            print(func<span style="color:#f92672">.</span>__name__, result <span style="color:#66d9ef">if</span> print_result <span style="color:#66d9ef">else</span> <span style="color:#e6db74">&#39;&#39;</span>)
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> result
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> out
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> decorator
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">@debug</span>(print_result<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">add</span>(x, y):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> x <span style="color:#f92672">+</span> y
</span></span></code></pre></div><ul>
<li><strong>Using only <code>'@debug'</code> to decorate the add() function would not work here, because debug would then receive the add() function as a &lsquo;print_result&rsquo; argument. Decorators can however manually check if the argument they received is a function and act accordingly.</strong></li>
</ul>
<h2 id="class">Class<a hidden class="anchor" aria-hidden="true" href="#class">#</a></h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#960050;background-color:#1e0010">&lt;</span><span style="color:#a6e22e">name</span><span style="color:#f92672">&gt;</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __init__(self, a):
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>a <span style="color:#f92672">=</span> a
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __repr__(self):
</span></span><span style="display:flex;"><span>        class_name <span style="color:#f92672">=</span> self<span style="color:#f92672">.</span>__class__<span style="color:#f92672">.</span>__name__
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">{</span>class_name<span style="color:#e6db74">}</span><span style="color:#e6db74">(</span><span style="color:#e6db74">{</span>self<span style="color:#f92672">.</span>a<span style="color:#e6db74">!r}</span><span style="color:#e6db74">)&#39;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __str__(self):
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> str(self<span style="color:#f92672">.</span>a)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@classmethod</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">get_class_name</span>(cls):
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> cls<span style="color:#f92672">.</span>__name__
</span></span></code></pre></div><ul>
<li><strong>Return value of repr() should be unambiguous and of str() readable.</strong></li>
<li><strong>If only repr() is defined, it will also be used for str().</strong></li>
<li><strong>Methods decorated with <code>'@staticmethod'</code> do not receive &lsquo;self&rsquo; nor &lsquo;cls&rsquo; as their first arg.</strong></li>
</ul>
<h4 id="str-use-cases">Str() use cases:<a hidden class="anchor" aria-hidden="true" href="#str-use-cases">#</a></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(<span style="color:#f92672">&lt;</span>el<span style="color:#f92672">&gt;</span>)
</span></span><span style="display:flex;"><span><span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">{</span><span style="color:#f92672">&lt;</span>el<span style="color:#f92672">&gt;</span><span style="color:#e6db74">}</span><span style="color:#e6db74">&#39;</span>
</span></span><span style="display:flex;"><span>logging<span style="color:#f92672">.</span>warning(<span style="color:#f92672">&lt;</span>el<span style="color:#f92672">&gt;</span>)
</span></span><span style="display:flex;"><span>csv<span style="color:#f92672">.</span>writer(<span style="color:#f92672">&lt;</span>file<span style="color:#f92672">&gt;</span>)<span style="color:#f92672">.</span>writerow([<span style="color:#f92672">&lt;</span>el<span style="color:#f92672">&gt;</span>])
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">raise</span> <span style="color:#a6e22e">Exception</span>(<span style="color:#f92672">&lt;</span>el<span style="color:#f92672">&gt;</span>)
</span></span></code></pre></div><h4 id="repr-use-cases">Repr() use cases:<a hidden class="anchor" aria-hidden="true" href="#repr-use-cases">#</a></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print<span style="color:#f92672">/</span>str<span style="color:#f92672">/</span>repr([<span style="color:#f92672">&lt;</span>el<span style="color:#f92672">&gt;</span>])
</span></span><span style="display:flex;"><span><span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">{</span><span style="color:#f92672">&lt;</span>el<span style="color:#f92672">&gt;</span><span style="color:#e6db74">!r}</span><span style="color:#e6db74">&#39;</span>
</span></span><span style="display:flex;"><span>Z <span style="color:#f92672">=</span> dataclasses<span style="color:#f92672">.</span>make_dataclass(<span style="color:#e6db74">&#39;Z&#39;</span>, [<span style="color:#e6db74">&#39;a&#39;</span>]); print<span style="color:#f92672">/</span>str<span style="color:#f92672">/</span>repr(Z(<span style="color:#f92672">&lt;</span>el<span style="color:#f92672">&gt;</span>))
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> <span style="color:#f92672">&lt;</span>el<span style="color:#f92672">&gt;</span>
</span></span></code></pre></div><h3 id="constructor-overloading">Constructor Overloading<a hidden class="anchor" aria-hidden="true" href="#constructor-overloading">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#960050;background-color:#1e0010">&lt;</span><span style="color:#a6e22e">name</span><span style="color:#f92672">&gt;</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __init__(self, a<span style="color:#f92672">=</span><span style="color:#66d9ef">None</span>):
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>a <span style="color:#f92672">=</span> a
</span></span></code></pre></div><h3 id="inheritance">Inheritance<a hidden class="anchor" aria-hidden="true" href="#inheritance">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Person</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __init__(self, name, age):
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>name <span style="color:#f92672">=</span> name
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>age  <span style="color:#f92672">=</span> age
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Employee</span>(Person):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __init__(self, name, age, staff_num):
</span></span><span style="display:flex;"><span>        super()<span style="color:#f92672">.</span>__init__(name, age)
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>staff_num <span style="color:#f92672">=</span> staff_num
</span></span></code></pre></div><h3 id="multiple-inheritance">Multiple Inheritance<a hidden class="anchor" aria-hidden="true" href="#multiple-inheritance">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">A</span>: <span style="color:#66d9ef">pass</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">B</span>: <span style="color:#66d9ef">pass</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">C</span>(A, B): <span style="color:#66d9ef">pass</span>
</span></span></code></pre></div><p><strong>MRO determines the order in which parent classes are traversed when searching for a method or an attribute:</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> C<span style="color:#f92672">.</span>mro()
</span></span><span style="display:flex;"><span>[<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">class</span> <span style="color:#960050;background-color:#1e0010">&#39;</span><span style="color:#a6e22e">C</span><span style="color:#e6db74">&#39;&gt;, &lt;class &#39;</span>A<span style="color:#e6db74">&#39;&gt;, &lt;class &#39;</span><span style="color:#e6db74">B</span><span style="color:#e6db74">&#39;&gt;, &lt;class &#39;</span>object<span style="color:#e6db74">&#39;&gt;]</span>
</span></span></code></pre></div><h3 id="property">Property<a hidden class="anchor" aria-hidden="true" href="#property">#</a></h3>
<p><strong>Pythonic way of implementing getters and setters.</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Person</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@property</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">name</span>(self):
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#39; &#39;</span><span style="color:#f92672">.</span>join(self<span style="color:#f92672">.</span>_name)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@name.setter</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">name</span>(self, value):
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>_name <span style="color:#f92672">=</span> value<span style="color:#f92672">.</span>split()
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> person <span style="color:#f92672">=</span> Person()
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> person<span style="color:#f92672">.</span>name <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;</span><span style="color:#ae81ff">\t</span><span style="color:#e6db74"> Guido  van Rossum </span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> person<span style="color:#f92672">.</span>name
</span></span><span style="display:flex;"><span><span style="color:#e6db74">&#39;Guido van Rossum&#39;</span>
</span></span></code></pre></div><h3 id="dataclass">Dataclass<a hidden class="anchor" aria-hidden="true" href="#dataclass">#</a></h3>
<p><strong>Decorator that automatically generates init(), repr() and eq() special methods.</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> dataclasses <span style="color:#f92672">import</span> dataclass, field
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">@dataclass</span>(order<span style="color:#f92672">=</span><span style="color:#66d9ef">False</span>, frozen<span style="color:#f92672">=</span><span style="color:#66d9ef">False</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#960050;background-color:#1e0010">&lt;</span><span style="color:#a6e22e">class_name</span><span style="color:#f92672">&gt;</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;</span>attr_name_1<span style="color:#f92672">&gt;</span>: <span style="color:#f92672">&lt;</span>type<span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;</span>attr_name_2<span style="color:#f92672">&gt;</span>: <span style="color:#f92672">&lt;</span>type<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>default_value<span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;</span>attr_name_3<span style="color:#f92672">&gt;</span>: list<span style="color:#f92672">/</span>dict<span style="color:#f92672">/</span>set <span style="color:#f92672">=</span> field(default_factory<span style="color:#f92672">=</span>list<span style="color:#f92672">/</span>dict<span style="color:#f92672">/</span>set)
</span></span></code></pre></div><ul>
<li><strong>Objects can be made sortable with <code>'order=True'</code> and immutable with <code>'frozen=True'</code>.</strong></li>
<li><strong>For object to be hashable, all attributes must be hashable and &lsquo;frozen&rsquo; must be True.</strong></li>
<li><strong>Function field() is needed because <code>'&lt;attr_name&gt;: list = []'</code> would make a list that is shared among all instances. Its &lsquo;default_factory&rsquo; argument can be any <a href="#callable">callable</a>.</strong></li>
<li><strong>For attributes of arbitrary type use <code>'typing.Any'</code>.</strong></li>
</ul>
<h4 id="inline-1">Inline:<a hidden class="anchor" aria-hidden="true" href="#inline-1">#</a></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> dataclasses <span style="color:#f92672">import</span> make_dataclass
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>class<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> make_dataclass(<span style="color:#e6db74">&#39;&lt;class_name&gt;&#39;</span>, <span style="color:#f92672">&lt;</span>coll_of_attribute_names<span style="color:#f92672">&gt;</span>)
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>class<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> make_dataclass(<span style="color:#e6db74">&#39;&lt;class_name&gt;&#39;</span>, <span style="color:#f92672">&lt;</span>coll_of_tuples<span style="color:#f92672">&gt;</span>)
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>tuple<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> (<span style="color:#e6db74">&#39;&lt;attr_name&gt;&#39;</span>, <span style="color:#f92672">&lt;</span>type<span style="color:#f92672">&gt;</span> [, <span style="color:#f92672">&lt;</span>default_value<span style="color:#f92672">&gt;</span>])
</span></span></code></pre></div><h4 id="rest-of-type-annotations-cpython-interpreter-ignores-them-all">Rest of type annotations (CPython interpreter ignores them all):<a hidden class="anchor" aria-hidden="true" href="#rest-of-type-annotations-cpython-interpreter-ignores-them-all">#</a></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">func</span>(<span style="color:#f92672">&lt;</span>arg_name<span style="color:#f92672">&gt;</span>: <span style="color:#f92672">&lt;</span>type<span style="color:#f92672">&gt;</span> [<span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>obj<span style="color:#f92672">&gt;</span>]) <span style="color:#f92672">-&gt;</span> <span style="color:#f92672">&lt;</span>type<span style="color:#f92672">&gt;</span>: <span style="color:#f92672">...</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>var_name<span style="color:#f92672">&gt;</span>: typing<span style="color:#f92672">.</span>List<span style="color:#f92672">/</span>Set<span style="color:#f92672">/</span>Iterable<span style="color:#f92672">/</span>Sequence<span style="color:#f92672">/</span>Optional[<span style="color:#f92672">&lt;</span>type<span style="color:#f92672">&gt;</span>]
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>var_name<span style="color:#f92672">&gt;</span>: typing<span style="color:#f92672">.</span>Dict<span style="color:#f92672">/</span>Tuple<span style="color:#f92672">/</span>Union[<span style="color:#f92672">&lt;</span>type<span style="color:#f92672">&gt;</span>, <span style="color:#f92672">...</span>]
</span></span></code></pre></div><h3 id="slots">Slots<a hidden class="anchor" aria-hidden="true" href="#slots">#</a></h3>
<p><strong>Mechanism that restricts objects to attributes listed in &lsquo;slots&rsquo; and significantly reduces their memory footprint.</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">MyClassWithSlots</span>:
</span></span><span style="display:flex;"><span>    __slots__ <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;a&#39;</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __init__(self):
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>a <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>
</span></span></code></pre></div><h3 id="copy">Copy<a hidden class="anchor" aria-hidden="true" href="#copy">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> copy <span style="color:#f92672">import</span> copy, deepcopy
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>object<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> copy(<span style="color:#f92672">&lt;</span>object<span style="color:#f92672">&gt;</span>)
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>object<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> deepcopy(<span style="color:#f92672">&lt;</span>object<span style="color:#f92672">&gt;</span>)
</span></span></code></pre></div><h2 id="duck-types">Duck Types<a hidden class="anchor" aria-hidden="true" href="#duck-types">#</a></h2>
<p><strong>A duck type is an implicit type that prescribes a set of special methods. Any object that has those methods defined is considered a member of that duck type.</strong></p>
<h3 id="comparable">Comparable<a hidden class="anchor" aria-hidden="true" href="#comparable">#</a></h3>
<ul>
<li><strong>If eq() method is not overridden, it returns <code>'id(self) == id(other)'</code>, which is the same as <code>'self is other'</code>.</strong></li>
<li><strong>That means all objects compare not equal by default.</strong></li>
<li><strong>Only the left side object has eq() method called, unless it returns NotImplemented, in which case the right object is consulted. False is returned if both return NotImplemented.</strong></li>
<li><strong>Ne() automatically works on any object that has eq() defined.</strong></li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">MyComparable</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __init__(self, a):
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>a <span style="color:#f92672">=</span> a
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __eq__(self, other):
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> isinstance(other, type(self)):
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> self<span style="color:#f92672">.</span>a <span style="color:#f92672">==</span> other<span style="color:#f92672">.</span>a
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> NotImplemented
</span></span></code></pre></div><h3 id="hashable">Hashable<a hidden class="anchor" aria-hidden="true" href="#hashable">#</a></h3>
<ul>
<li><strong>Hashable object needs both hash() and eq() methods and its hash value should never change.</strong></li>
<li><strong>Hashable objects that compare equal must have the same hash value, meaning default hash() that returns <code>'id(self)'</code> will not do.</strong></li>
<li><strong>That is why Python automatically makes classes unhashable if you only implement eq().</strong></li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">MyHashable</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __init__(self, a):
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>_a <span style="color:#f92672">=</span> a
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@property</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">a</span>(self):
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> self<span style="color:#f92672">.</span>_a
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __eq__(self, other):
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> isinstance(other, type(self)):
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> self<span style="color:#f92672">.</span>a <span style="color:#f92672">==</span> other<span style="color:#f92672">.</span>a
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> NotImplemented
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __hash__(self):
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> hash(self<span style="color:#f92672">.</span>a)
</span></span></code></pre></div><h3 id="sortable">Sortable<a hidden class="anchor" aria-hidden="true" href="#sortable">#</a></h3>
<ul>
<li><strong>With &rsquo;total_ordering&rsquo; decorator, you only need to provide eq() and one of lt(), gt(), le() or ge() special methods and the rest will be automatically generated.</strong></li>
<li><strong>Functions sorted() and min() only require lt() method, while max() only requires gt(). However, it is best to define them all so that confusion doesn&rsquo;t arise in other contexts.</strong></li>
<li><strong>When two lists, strings or dataclasses are compared, their values get compared in order until a pair of unequal values is found. The comparison of this two values is then returned. The shorter sequence is considered smaller in case of all values being equal.</strong></li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> functools <span style="color:#f92672">import</span> total_ordering
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">@total_ordering</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">MySortable</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __init__(self, a):
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>a <span style="color:#f92672">=</span> a
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __eq__(self, other):
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> isinstance(other, type(self)):
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> self<span style="color:#f92672">.</span>a <span style="color:#f92672">==</span> other<span style="color:#f92672">.</span>a
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> NotImplemented
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __lt__(self, other):
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> isinstance(other, type(self)):
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> self<span style="color:#f92672">.</span>a <span style="color:#f92672">&lt;</span> other<span style="color:#f92672">.</span>a
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> NotImplemented
</span></span></code></pre></div><h3 id="iterator-1">Iterator<a hidden class="anchor" aria-hidden="true" href="#iterator-1">#</a></h3>
<ul>
<li><strong>Any object that has methods next() and iter() is an iterator.</strong></li>
<li><strong>Next() should return next item or raise StopIteration.</strong></li>
<li><strong>Iter() should return &lsquo;self&rsquo;.</strong></li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Counter</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __init__(self):
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __next__(self):
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>i <span style="color:#f92672">+=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> self<span style="color:#f92672">.</span>i
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __iter__(self):
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> self
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> counter <span style="color:#f92672">=</span> Counter()
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> next(counter), next(counter), next(counter)
</span></span><span style="display:flex;"><span>(<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>)
</span></span></code></pre></div><h4 id="python-has-many-different-iterator-objects">Python has many different iterator objects:<a hidden class="anchor" aria-hidden="true" href="#python-has-many-different-iterator-objects">#</a></h4>
<ul>
<li><strong>Sequence iterators returned by the <a href="#iterator">iter()</a> function, such as list_iterator and set_iterator.</strong></li>
<li><strong>Objects returned by the <a href="#itertools">itertools</a> module, such as count, repeat and cycle.</strong></li>
<li><strong>Generators returned by the <a href="#generator">generator functions</a> and <a href="#comprehensions">generator expressions</a>.</strong></li>
<li><strong>File objects returned by the <a href="#open">open()</a> function, etc.</strong></li>
</ul>
<h3 id="callable">Callable<a hidden class="anchor" aria-hidden="true" href="#callable">#</a></h3>
<ul>
<li><strong>All functions and classes have a call() method, hence are callable.</strong></li>
<li><strong>When this cheatsheet uses <code>'&lt;function&gt;'</code> as an argument, it actually means <code>'&lt;callable&gt;'</code>.</strong></li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Counter</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __init__(self):
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __call__(self):
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>i <span style="color:#f92672">+=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> self<span style="color:#f92672">.</span>i
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> counter <span style="color:#f92672">=</span> Counter()
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> counter(), counter(), counter()
</span></span><span style="display:flex;"><span>(<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>)
</span></span></code></pre></div><h3 id="context-manager">Context Manager<a hidden class="anchor" aria-hidden="true" href="#context-manager">#</a></h3>
<ul>
<li><strong>Enter() should lock the resources and optionally return an object.</strong></li>
<li><strong>Exit() should release the resources.</strong></li>
<li><strong>Any exception that happens inside the with block is passed to the exit() method.</strong></li>
<li><strong>If it wishes to suppress the exception it must return a true value.</strong></li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">MyOpen</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __init__(self, filename):
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>filename <span style="color:#f92672">=</span> filename
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __enter__(self):
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>file <span style="color:#f92672">=</span> open(self<span style="color:#f92672">.</span>filename)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> self<span style="color:#f92672">.</span>file
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __exit__(self, exc_type, exception, traceback):
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>file<span style="color:#f92672">.</span>close()
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> <span style="color:#66d9ef">with</span> open(<span style="color:#e6db74">&#39;test.txt&#39;</span>, <span style="color:#e6db74">&#39;w&#39;</span>) <span style="color:#66d9ef">as</span> file:
</span></span><span style="display:flex;"><span><span style="color:#f92672">...</span>     file<span style="color:#f92672">.</span>write(<span style="color:#e6db74">&#39;Hello World!&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> <span style="color:#66d9ef">with</span> MyOpen(<span style="color:#e6db74">&#39;test.txt&#39;</span>) <span style="color:#66d9ef">as</span> file:
</span></span><span style="display:flex;"><span><span style="color:#f92672">...</span>     print(file<span style="color:#f92672">.</span>read())
</span></span><span style="display:flex;"><span>Hello World<span style="color:#960050;background-color:#1e0010">!</span>
</span></span></code></pre></div><h2 id="iterable-duck-types">Iterable Duck Types<a hidden class="anchor" aria-hidden="true" href="#iterable-duck-types">#</a></h2>
<h3 id="iterable">Iterable<a hidden class="anchor" aria-hidden="true" href="#iterable">#</a></h3>
<ul>
<li><strong>Only required method is iter(). It should return an iterator of object&rsquo;s items.</strong></li>
<li><strong>Contains() automatically works on any object that has iter() defined.</strong></li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">MyIterable</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __init__(self, a):
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>a <span style="color:#f92672">=</span> a
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __iter__(self):
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> iter(self<span style="color:#f92672">.</span>a)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __contains__(self, el):
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> el <span style="color:#f92672">in</span> self<span style="color:#f92672">.</span>a
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> obj <span style="color:#f92672">=</span> MyIterable([<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>])
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> [el <span style="color:#66d9ef">for</span> el <span style="color:#f92672">in</span> obj]
</span></span><span style="display:flex;"><span>[<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>]
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">in</span> obj
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">True</span>
</span></span></code></pre></div><h3 id="collection">Collection<a hidden class="anchor" aria-hidden="true" href="#collection">#</a></h3>
<ul>
<li><strong>Only required methods are iter() and len().</strong></li>
<li><strong>This cheatsheet actually means <code>'&lt;iterable&gt;'</code> when it uses <code>'&lt;collection&gt;'</code>.</strong></li>
<li><strong>I chose not to use the name &lsquo;iterable&rsquo; because it sounds scarier and more vague than &lsquo;collection&rsquo;. The only drawback of this decision is that a reader could think a certain function doesn&rsquo;t accept iterators when it does, since iterators are the only built-in objects that are iterable but are not collections.</strong></li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">MyCollection</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __init__(self, a):
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>a <span style="color:#f92672">=</span> a
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __iter__(self):
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> iter(self<span style="color:#f92672">.</span>a)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __contains__(self, el):
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> el <span style="color:#f92672">in</span> self<span style="color:#f92672">.</span>a
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __len__(self):
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> len(self<span style="color:#f92672">.</span>a)
</span></span></code></pre></div><h3 id="sequence">Sequence<a hidden class="anchor" aria-hidden="true" href="#sequence">#</a></h3>
<ul>
<li><strong>Only required methods are len() and getitem().</strong></li>
<li><strong>Getitem() should return an item at the passed index or raise IndexError.</strong></li>
<li><strong>Iter() and contains() automatically work on any object that has getitem() defined.</strong></li>
<li><strong>Reversed() automatically works on any object that has len() and getitem() defined.</strong></li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">MySequence</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __init__(self, a):
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>a <span style="color:#f92672">=</span> a
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __iter__(self):
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> iter(self<span style="color:#f92672">.</span>a)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __contains__(self, el):
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> el <span style="color:#f92672">in</span> self<span style="color:#f92672">.</span>a
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __len__(self):
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> len(self<span style="color:#f92672">.</span>a)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __getitem__(self, i):
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> self<span style="color:#f92672">.</span>a[i]
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __reversed__(self):
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> reversed(self<span style="color:#f92672">.</span>a)
</span></span></code></pre></div><h4 id="discrepancies-between-glossary-definitions-and-abstract-base-classes">Discrepancies between glossary definitions and abstract base classes:<a hidden class="anchor" aria-hidden="true" href="#discrepancies-between-glossary-definitions-and-abstract-base-classes">#</a></h4>
<ul>
<li><strong>Glossary defines iterable as any object with iter() or getitem() and sequence as any object with len() and getitem(). It does not define collection.</strong></li>
<li><strong>Passing ABC Iterable to isinstance() or issubclass() checks whether object/class has method iter(), while ABC Collection checks for iter(), contains() and len().</strong></li>
</ul>
<h3 id="abc-sequence">ABC Sequence<a hidden class="anchor" aria-hidden="true" href="#abc-sequence">#</a></h3>
<ul>
<li><strong>It&rsquo;s a richer interface than the basic sequence.</strong></li>
<li><strong>Extending it generates iter(), contains(), reversed(), index() and count().</strong></li>
<li><strong>Unlike <code>'abc.Iterable'</code> and <code>'abc.Collection'</code>, it is not a duck type. That is why <code>'issubclass(MySequence, abc.Sequence)'</code> would return False even if MySequence had all the methods defined. It however recognizes list, tuple, range, str, bytes, bytearray, memoryview and deque, because they are registered as Sequence&rsquo;s virtual subclasses.</strong></li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> collections <span style="color:#f92672">import</span> abc
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">MyAbcSequence</span>(abc<span style="color:#f92672">.</span>Sequence):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __init__(self, a):
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>a <span style="color:#f92672">=</span> a
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __len__(self):
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> len(self<span style="color:#f92672">.</span>a)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __getitem__(self, i):
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> self<span style="color:#f92672">.</span>a[i]
</span></span></code></pre></div><h4 id="table-of-required-and-automatically-available-special-methods">Table of required and automatically available special methods:<a hidden class="anchor" aria-hidden="true" href="#table-of-required-and-automatically-available-special-methods">#</a></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>+------------+------------+------------+------------+--------------+
</span></span><span style="display:flex;"><span>|            |  Iterable  | Collection |  Sequence  | abc.Sequence |
</span></span><span style="display:flex;"><span>+------------+------------+------------+------------+--------------+
</span></span><span style="display:flex;"><span>| iter()     |    REQ     |    REQ     |    Yes     |     Yes      |
</span></span><span style="display:flex;"><span>| contains() |    Yes     |    Yes     |    Yes     |     Yes      |
</span></span><span style="display:flex;"><span>| len()      |            |    REQ     |    REQ     |     REQ      |
</span></span><span style="display:flex;"><span>| getitem()  |            |            |    REQ     |     REQ      |
</span></span><span style="display:flex;"><span>| reversed() |            |            |    Yes     |     Yes      |
</span></span><span style="display:flex;"><span>| index()    |            |            |            |     Yes      |
</span></span><span style="display:flex;"><span>| count()    |            |            |            |     Yes      |
</span></span><span style="display:flex;"><span>+------------+------------+------------+------------+--------------+
</span></span></code></pre></div><ul>
<li><strong>Other ABCs that generate missing methods are: MutableSequence, Set, MutableSet, Mapping and MutableMapping.</strong></li>
<li><strong>Names of their required methods are stored in <code>'&lt;abc&gt;.__abstractmethods__'</code>.</strong></li>
</ul>
<h2 id="enum">Enum<a hidden class="anchor" aria-hidden="true" href="#enum">#</a></h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> enum <span style="color:#f92672">import</span> Enum, auto
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#960050;background-color:#1e0010">&lt;</span><span style="color:#a6e22e">enum_name</span><span style="color:#f92672">&gt;</span>(Enum):
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;</span>member_name_1<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>value_1<span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;</span>member_name_2<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>value_2_a<span style="color:#f92672">&gt;</span>, <span style="color:#f92672">&lt;</span>value_2_b<span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;</span>member_name_3<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> auto()
</span></span></code></pre></div><ul>
<li><strong>If there are no numeric values before auto(), it returns 1.</strong></li>
<li><strong>Otherwise it returns an increment of the last numeric value.</strong></li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>member<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>enum<span style="color:#f92672">&gt;.&lt;</span>member_name<span style="color:#f92672">&gt;</span>                 <span style="color:#75715e"># Returns a member.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>member<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>enum<span style="color:#f92672">&gt;</span>[<span style="color:#e6db74">&#39;&lt;member_name&gt;&#39;</span>]              <span style="color:#75715e"># Returns a member or raises KeyError.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>member<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>enum<span style="color:#f92672">&gt;</span>(<span style="color:#f92672">&lt;</span>value<span style="color:#f92672">&gt;</span>)                      <span style="color:#75715e"># Returns a member or raises ValueError.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>str<span style="color:#f92672">&gt;</span>    <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>member<span style="color:#f92672">&gt;.</span>name                        <span style="color:#75715e"># Returns member&#39;s name.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>obj<span style="color:#f92672">&gt;</span>    <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>member<span style="color:#f92672">&gt;.</span>value                       <span style="color:#75715e"># Returns member&#39;s value.</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>list_of_members <span style="color:#f92672">=</span> list(<span style="color:#f92672">&lt;</span>enum<span style="color:#f92672">&gt;</span>)
</span></span><span style="display:flex;"><span>member_names    <span style="color:#f92672">=</span> [a<span style="color:#f92672">.</span>name <span style="color:#66d9ef">for</span> a <span style="color:#f92672">in</span> <span style="color:#f92672">&lt;</span>enum<span style="color:#f92672">&gt;</span>]
</span></span><span style="display:flex;"><span>member_values   <span style="color:#f92672">=</span> [a<span style="color:#f92672">.</span>value <span style="color:#66d9ef">for</span> a <span style="color:#f92672">in</span> <span style="color:#f92672">&lt;</span>enum<span style="color:#f92672">&gt;</span>]
</span></span><span style="display:flex;"><span>random_member   <span style="color:#f92672">=</span> random<span style="color:#f92672">.</span>choice(list(<span style="color:#f92672">&lt;</span>enum<span style="color:#f92672">&gt;</span>))
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">get_next_member</span>(member):
</span></span><span style="display:flex;"><span>    members <span style="color:#f92672">=</span> list(member<span style="color:#f92672">.</span>__class__)
</span></span><span style="display:flex;"><span>    index   <span style="color:#f92672">=</span> (members<span style="color:#f92672">.</span>index(member) <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>) <span style="color:#f92672">%</span> len(members)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> members[index]
</span></span></code></pre></div><h3 id="inline-2">Inline<a hidden class="anchor" aria-hidden="true" href="#inline-2">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>Cutlery <span style="color:#f92672">=</span> Enum(<span style="color:#e6db74">&#39;Cutlery&#39;</span>, <span style="color:#e6db74">&#39;fork knife spoon&#39;</span>)
</span></span><span style="display:flex;"><span>Cutlery <span style="color:#f92672">=</span> Enum(<span style="color:#e6db74">&#39;Cutlery&#39;</span>, [<span style="color:#e6db74">&#39;fork&#39;</span>, <span style="color:#e6db74">&#39;knife&#39;</span>, <span style="color:#e6db74">&#39;spoon&#39;</span>])
</span></span><span style="display:flex;"><span>Cutlery <span style="color:#f92672">=</span> Enum(<span style="color:#e6db74">&#39;Cutlery&#39;</span>, {<span style="color:#e6db74">&#39;fork&#39;</span>: <span style="color:#ae81ff">1</span>, <span style="color:#e6db74">&#39;knife&#39;</span>: <span style="color:#ae81ff">2</span>, <span style="color:#e6db74">&#39;spoon&#39;</span>: <span style="color:#ae81ff">3</span>})
</span></span></code></pre></div><h4 id="user-defined-functions-cannot-be-values-so-they-must-be-wrapped">User-defined functions cannot be values, so they must be wrapped:<a hidden class="anchor" aria-hidden="true" href="#user-defined-functions-cannot-be-values-so-they-must-be-wrapped">#</a></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> functools <span style="color:#f92672">import</span> partial
</span></span><span style="display:flex;"><span>LogicOp <span style="color:#f92672">=</span> Enum(<span style="color:#e6db74">&#39;LogicOp&#39;</span>, {<span style="color:#e6db74">&#39;AND&#39;</span>: partial(<span style="color:#66d9ef">lambda</span> l, r: l <span style="color:#f92672">and</span> r),
</span></span><span style="display:flex;"><span>                           <span style="color:#e6db74">&#39;OR&#39;</span>:  partial(<span style="color:#66d9ef">lambda</span> l, r: l <span style="color:#f92672">or</span> r)})
</span></span></code></pre></div><ul>
<li><strong>Member names are in all caps because trying to access a member that is named after a reserved keyword raises SyntaxError.</strong></li>
</ul>
<h2 id="exceptions">Exceptions<a hidden class="anchor" aria-hidden="true" href="#exceptions">#</a></h2>
<h3 id="basic-example">Basic Example<a hidden class="anchor" aria-hidden="true" href="#basic-example">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">try</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;</span>code<span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">except</span> <span style="color:#f92672">&lt;</span>exception<span style="color:#f92672">&gt;</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;</span>code<span style="color:#f92672">&gt;</span>
</span></span></code></pre></div><h3 id="complex-example">Complex Example<a hidden class="anchor" aria-hidden="true" href="#complex-example">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">try</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;</span>code_1<span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">except</span> <span style="color:#f92672">&lt;</span>exception_a<span style="color:#f92672">&gt;</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;</span>code_2_a<span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">except</span> <span style="color:#f92672">&lt;</span>exception_b<span style="color:#f92672">&gt;</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;</span>code_2_b<span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;</span>code_2_c<span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">finally</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;</span>code_3<span style="color:#f92672">&gt;</span>
</span></span></code></pre></div><ul>
<li><strong>Code inside the <code>'else'</code> block will only be executed if <code>'try'</code> block had no exceptions.</strong></li>
<li><strong>Code inside the <code>'finally'</code> block will always be executed (unless a signal is received).</strong></li>
</ul>
<h3 id="catching-exceptions">Catching Exceptions<a hidden class="anchor" aria-hidden="true" href="#catching-exceptions">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">except</span> <span style="color:#f92672">&lt;</span>exception<span style="color:#f92672">&gt;</span>:
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">except</span> <span style="color:#f92672">&lt;</span>exception<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">as</span> <span style="color:#f92672">&lt;</span>name<span style="color:#f92672">&gt;</span>:
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">except</span> (<span style="color:#f92672">&lt;</span>exception<span style="color:#f92672">&gt;</span>, [<span style="color:#f92672">...</span>]):
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">except</span> (<span style="color:#f92672">&lt;</span>exception<span style="color:#f92672">&gt;</span>, [<span style="color:#f92672">...</span>]) <span style="color:#66d9ef">as</span> <span style="color:#f92672">&lt;</span>name<span style="color:#f92672">&gt;</span>:
</span></span></code></pre></div><ul>
<li><strong>Also catches subclasses of the exception.</strong></li>
<li><strong>Use <code>'traceback.print_exc()'</code> to print the error message to stderr.</strong></li>
<li><strong>Use <code>'print(&lt;name&gt;)'</code> to print just the cause of the exception (its arguments).</strong></li>
</ul>
<h3 id="raising-exceptions">Raising Exceptions<a hidden class="anchor" aria-hidden="true" href="#raising-exceptions">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">raise</span> <span style="color:#f92672">&lt;</span>exception<span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">raise</span> <span style="color:#f92672">&lt;</span>exception<span style="color:#f92672">&gt;</span>()
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">raise</span> <span style="color:#f92672">&lt;</span>exception<span style="color:#f92672">&gt;</span>(<span style="color:#f92672">&lt;</span>el<span style="color:#f92672">&gt;</span> [, <span style="color:#f92672">...</span>])
</span></span></code></pre></div><h4 id="re-raising-caught-exception">Re-raising caught exception:<a hidden class="anchor" aria-hidden="true" href="#re-raising-caught-exception">#</a></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">except</span> <span style="color:#f92672">&lt;</span>exception<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">as</span> <span style="color:#f92672">&lt;</span>name<span style="color:#f92672">&gt;</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">...</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">raise</span>
</span></span></code></pre></div><h3 id="exception-object">Exception Object<a hidden class="anchor" aria-hidden="true" href="#exception-object">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>arguments <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>name<span style="color:#f92672">&gt;.</span>args
</span></span><span style="display:flex;"><span>exc_type  <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>name<span style="color:#f92672">&gt;.</span>__class__
</span></span><span style="display:flex;"><span>filename  <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>name<span style="color:#f92672">&gt;.</span>__traceback__<span style="color:#f92672">.</span>tb_frame<span style="color:#f92672">.</span>f_code<span style="color:#f92672">.</span>co_filename
</span></span><span style="display:flex;"><span>func_name <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>name<span style="color:#f92672">&gt;.</span>__traceback__<span style="color:#f92672">.</span>tb_frame<span style="color:#f92672">.</span>f_code<span style="color:#f92672">.</span>co_name
</span></span><span style="display:flex;"><span>line      <span style="color:#f92672">=</span> linecache<span style="color:#f92672">.</span>getline(filename, <span style="color:#f92672">&lt;</span>name<span style="color:#f92672">&gt;.</span>__traceback__<span style="color:#f92672">.</span>tb_lineno)
</span></span><span style="display:flex;"><span>traceback <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;&#39;</span><span style="color:#f92672">.</span>join(traceback<span style="color:#f92672">.</span>format_tb(<span style="color:#f92672">&lt;</span>name<span style="color:#f92672">&gt;.</span>__traceback__))
</span></span><span style="display:flex;"><span>error_msg <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;&#39;</span><span style="color:#f92672">.</span>join(traceback<span style="color:#f92672">.</span>format_exception(exc_type, <span style="color:#f92672">&lt;</span>name<span style="color:#f92672">&gt;</span>, <span style="color:#f92672">&lt;</span>name<span style="color:#f92672">&gt;.</span>__traceback__))
</span></span></code></pre></div><h3 id="built-in-exceptions">Built-in Exceptions<a hidden class="anchor" aria-hidden="true" href="#built-in-exceptions">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>BaseException
</span></span><span style="display:flex;"><span> +-- SystemExit                   # Raised by the sys.exit() function.
</span></span><span style="display:flex;"><span> +-- KeyboardInterrupt            # Raised when the user hits the interrupt key (ctrl-c).
</span></span><span style="display:flex;"><span> +-- Exception                    # User-defined exceptions should be derived from this class.
</span></span><span style="display:flex;"><span>      +-- ArithmeticError         # Base class for arithmetic errors.
</span></span><span style="display:flex;"><span>      |    +-- ZeroDivisionError  # Raised when dividing by zero.
</span></span><span style="display:flex;"><span>      +-- AssertionError          # Raised by `assert &lt;exp&gt;` if expression returns false value.
</span></span><span style="display:flex;"><span>      +-- AttributeError          # Raised when an attribute is missing.
</span></span><span style="display:flex;"><span>      +-- EOFError                # Raised by input() when it hits end-of-file condition.
</span></span><span style="display:flex;"><span>      +-- LookupError             # Raised when a look-up on a collection fails.
</span></span><span style="display:flex;"><span>      |    +-- IndexError         # Raised when a sequence index is out of range.
</span></span><span style="display:flex;"><span>      |    +-- KeyError           # Raised when a dictionary key or set element is missing.
</span></span><span style="display:flex;"><span>      +-- MemoryError             # Out of memory. Could be too late to start deleting vars.
</span></span><span style="display:flex;"><span>      +-- NameError               # Raised when an object is missing.
</span></span><span style="display:flex;"><span>      +-- OSError                 # Errors such as ‚Äúfile not found‚Äù or ‚Äúdisk full‚Äù (see Open).
</span></span><span style="display:flex;"><span>      |    +-- FileNotFoundError  # When a file or directory is requested but doesn&#39;t exist.
</span></span><span style="display:flex;"><span>      +-- RuntimeError            # Raised by errors that don&#39;t fall into other categories.
</span></span><span style="display:flex;"><span>      |    +-- RecursionError     # Raised when the maximum recursion depth is exceeded.
</span></span><span style="display:flex;"><span>      +-- StopIteration           # Raised by next() when run on an empty iterator.
</span></span><span style="display:flex;"><span>      +-- TypeError               # Raised when an argument is of wrong type.
</span></span><span style="display:flex;"><span>      +-- ValueError              # When an argument is of right type but inappropriate value.
</span></span><span style="display:flex;"><span>           +-- UnicodeError       # Raised when encoding/decoding strings to/from bytes fails.
</span></span></code></pre></div><h4 id="collections-and-their-exceptions">Collections and their exceptions:<a hidden class="anchor" aria-hidden="true" href="#collections-and-their-exceptions">#</a></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>+-----------+------------+------------+------------+
</span></span><span style="display:flex;"><span>|           |    List    |    Set     |    Dict    |
</span></span><span style="display:flex;"><span>+-----------+------------+------------+------------+
</span></span><span style="display:flex;"><span>| getitem() | IndexError |            |  KeyError  |
</span></span><span style="display:flex;"><span>| pop()     | IndexError |  KeyError  |  KeyError  |
</span></span><span style="display:flex;"><span>| remove()  | ValueError |  KeyError  |            |
</span></span><span style="display:flex;"><span>| index()   | ValueError |            |            |
</span></span><span style="display:flex;"><span>+-----------+------------+------------+------------+
</span></span></code></pre></div><h4 id="useful-built-in-exceptions">Useful built-in exceptions:<a hidden class="anchor" aria-hidden="true" href="#useful-built-in-exceptions">#</a></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">raise</span> <span style="color:#a6e22e">TypeError</span>(<span style="color:#e6db74">&#39;Argument is of wrong type!&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">raise</span> <span style="color:#a6e22e">ValueError</span>(<span style="color:#e6db74">&#39;Argument is of right type but inappropriate value!&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">raise</span> <span style="color:#a6e22e">RuntimeError</span>(<span style="color:#e6db74">&#39;None of above!&#39;</span>)
</span></span></code></pre></div><h3 id="user-defined-exceptions">User-defined Exceptions<a hidden class="anchor" aria-hidden="true" href="#user-defined-exceptions">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">MyError</span>(<span style="color:#a6e22e">Exception</span>): <span style="color:#66d9ef">pass</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">MyInputError</span>(MyError): <span style="color:#66d9ef">pass</span>
</span></span></code></pre></div><h2 id="exit">Exit<a hidden class="anchor" aria-hidden="true" href="#exit">#</a></h2>
<p><strong>Exits the interpreter by raising SystemExit exception.</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> sys
</span></span><span style="display:flex;"><span>sys<span style="color:#f92672">.</span>exit()                        <span style="color:#75715e"># Exits with exit code 0 (success).</span>
</span></span><span style="display:flex;"><span>sys<span style="color:#f92672">.</span>exit(<span style="color:#f92672">&lt;</span>el<span style="color:#f92672">&gt;</span>)                    <span style="color:#75715e"># Prints to stderr and exits with 1.</span>
</span></span><span style="display:flex;"><span>sys<span style="color:#f92672">.</span>exit(<span style="color:#f92672">&lt;</span>int<span style="color:#f92672">&gt;</span>)                   <span style="color:#75715e"># Exits with passed exit code.</span>
</span></span></code></pre></div><h2 id="print">Print<a hidden class="anchor" aria-hidden="true" href="#print">#</a></h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(<span style="color:#f92672">&lt;</span>el_1<span style="color:#f92672">&gt;</span>, <span style="color:#f92672">...</span>, sep<span style="color:#f92672">=</span><span style="color:#e6db74">&#39; &#39;</span>, end<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#39;</span>, file<span style="color:#f92672">=</span>sys<span style="color:#f92672">.</span>stdout, flush<span style="color:#f92672">=</span><span style="color:#66d9ef">False</span>)
</span></span></code></pre></div><ul>
<li><strong>Use <code>'file=sys.stderr'</code> for messages about errors.</strong></li>
<li><strong>Use <code>'flush=True'</code> to forcibly flush the stream.</strong></li>
</ul>
<h3 id="pretty-print">Pretty Print<a hidden class="anchor" aria-hidden="true" href="#pretty-print">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> pprint <span style="color:#f92672">import</span> pprint
</span></span><span style="display:flex;"><span>pprint(<span style="color:#f92672">&lt;</span>collection<span style="color:#f92672">&gt;</span>, width<span style="color:#f92672">=</span><span style="color:#ae81ff">80</span>, depth<span style="color:#f92672">=</span><span style="color:#66d9ef">None</span>, compact<span style="color:#f92672">=</span><span style="color:#66d9ef">False</span>, sort_dicts<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>)
</span></span></code></pre></div><ul>
<li><strong>Levels deeper than &lsquo;depth&rsquo; get replaced by &lsquo;&hellip;&rsquo;.</strong></li>
</ul>
<h2 id="input">Input<a hidden class="anchor" aria-hidden="true" href="#input">#</a></h2>
<p><strong>Reads a line from user input or pipe if present.</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>str<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> input(prompt<span style="color:#f92672">=</span><span style="color:#66d9ef">None</span>)
</span></span></code></pre></div><ul>
<li><strong>Trailing newline gets stripped.</strong></li>
<li><strong>Prompt string is printed to the standard output before reading input.</strong></li>
<li><strong>Raises EOFError when user hits EOF (ctrl-d/ctrl-z‚èé) or input stream gets exhausted.</strong></li>
</ul>
<h2 id="command-line-arguments">Command Line Arguments<a hidden class="anchor" aria-hidden="true" href="#command-line-arguments">#</a></h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> sys
</span></span><span style="display:flex;"><span>scripts_path <span style="color:#f92672">=</span> sys<span style="color:#f92672">.</span>argv[<span style="color:#ae81ff">0</span>]
</span></span><span style="display:flex;"><span>arguments    <span style="color:#f92672">=</span> sys<span style="color:#f92672">.</span>argv[<span style="color:#ae81ff">1</span>:]
</span></span></code></pre></div><h3 id="argument-parser">Argument Parser<a hidden class="anchor" aria-hidden="true" href="#argument-parser">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> argparse <span style="color:#f92672">import</span> ArgumentParser, FileType
</span></span><span style="display:flex;"><span>p <span style="color:#f92672">=</span> ArgumentParser(description<span style="color:#f92672">=&lt;</span>str<span style="color:#f92672">&gt;</span>)
</span></span><span style="display:flex;"><span>p<span style="color:#f92672">.</span>add_argument(<span style="color:#e6db74">&#39;-&lt;short_name&gt;&#39;</span>, <span style="color:#e6db74">&#39;--&lt;name&gt;&#39;</span>, action<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;store_true&#39;</span>)  <span style="color:#75715e"># Flag.</span>
</span></span><span style="display:flex;"><span>p<span style="color:#f92672">.</span>add_argument(<span style="color:#e6db74">&#39;-&lt;short_name&gt;&#39;</span>, <span style="color:#e6db74">&#39;--&lt;name&gt;&#39;</span>, type<span style="color:#f92672">=&lt;</span>type<span style="color:#f92672">&gt;</span>)          <span style="color:#75715e"># Option.</span>
</span></span><span style="display:flex;"><span>p<span style="color:#f92672">.</span>add_argument(<span style="color:#e6db74">&#39;&lt;name&gt;&#39;</span>, type<span style="color:#f92672">=&lt;</span>type<span style="color:#f92672">&gt;</span>, nargs<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>)                    <span style="color:#75715e"># First argument.</span>
</span></span><span style="display:flex;"><span>p<span style="color:#f92672">.</span>add_argument(<span style="color:#e6db74">&#39;&lt;name&gt;&#39;</span>, type<span style="color:#f92672">=&lt;</span>type<span style="color:#f92672">&gt;</span>, nargs<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;+&#39;</span>)                  <span style="color:#75715e"># Remaining arguments.</span>
</span></span><span style="display:flex;"><span>p<span style="color:#f92672">.</span>add_argument(<span style="color:#e6db74">&#39;&lt;name&gt;&#39;</span>, type<span style="color:#f92672">=&lt;</span>type<span style="color:#f92672">&gt;</span>, nargs<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;*&#39;</span>)                  <span style="color:#75715e"># Optional arguments.</span>
</span></span><span style="display:flex;"><span>args  <span style="color:#f92672">=</span> p<span style="color:#f92672">.</span>parse_args()                                            <span style="color:#75715e"># Exits on error.</span>
</span></span><span style="display:flex;"><span>value <span style="color:#f92672">=</span> args<span style="color:#f92672">.&lt;</span>name<span style="color:#f92672">&gt;</span>
</span></span></code></pre></div><ul>
<li><strong>Use <code>'help=&lt;str&gt;'</code> to set argument description that will be displayed in help message.</strong></li>
<li><strong>Use <code>'default=&lt;el&gt;'</code> to set the default value.</strong></li>
<li><strong>Use <code>'type=FileType(&lt;mode&gt;)'</code> for files. Accepts &rsquo;encoding&rsquo;, but not &rsquo;newline&rsquo;.</strong></li>
</ul>
<h2 id="open">Open<a hidden class="anchor" aria-hidden="true" href="#open">#</a></h2>
<p><strong>Opens the file and returns a corresponding file object.</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>file<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> open(<span style="color:#f92672">&lt;</span>path<span style="color:#f92672">&gt;</span>, mode<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;r&#39;</span>, encoding<span style="color:#f92672">=</span><span style="color:#66d9ef">None</span>, newline<span style="color:#f92672">=</span><span style="color:#66d9ef">None</span>)
</span></span></code></pre></div><ul>
<li><strong><code>'encoding=None'</code> means that the default encoding is used, which is platform dependent. Best practice is to use <code>'encoding=&quot;utf-8&quot;'</code> whenever possible.</strong></li>
<li><strong><code>'newline=None'</code> means all different end of line combinations are converted to &lsquo;\n&rsquo; on read, while on write all &lsquo;\n&rsquo; characters are converted to system&rsquo;s default line separator.</strong></li>
<li><strong><code>'newline=&quot;&quot;'</code> means no conversions take place, but input is still broken into chunks by readline() and readlines() on every &lsquo;\n&rsquo;, &lsquo;\r&rsquo; and &lsquo;\r\n&rsquo;.</strong></li>
</ul>
<h3 id="modes">Modes<a hidden class="anchor" aria-hidden="true" href="#modes">#</a></h3>
<ul>
<li><strong><code>'r'</code> - Read (default).</strong></li>
<li><strong><code>'w'</code> - Write (truncate).</strong></li>
<li><strong><code>'x'</code> - Write or fail if the file already exists.</strong></li>
<li><strong><code>'a'</code> - Append.</strong></li>
<li><strong><code>'w+'</code> - Read and write (truncate).</strong></li>
<li><strong><code>'r+'</code> - Read and write from the start.</strong></li>
<li><strong><code>'a+'</code> - Read and write from the end.</strong></li>
<li><strong><code>'t'</code> - Text mode (default).</strong></li>
<li><strong><code>'b'</code> - Binary mode (<code>'br'</code>, <code>'bw'</code>, <code>'bx'</code>, ‚Ä¶).</strong></li>
</ul>
<h3 id="exceptions-1">Exceptions<a hidden class="anchor" aria-hidden="true" href="#exceptions-1">#</a></h3>
<ul>
<li><strong><code>'FileNotFoundError'</code> can be raised when reading with <code>'r'</code> or <code>'r+'</code>.</strong></li>
<li><strong><code>'FileExistsError'</code> can be raised when writing with <code>'x'</code>.</strong></li>
<li><strong><code>'IsADirectoryError'</code> and <code>'PermissionError'</code> can be raised by any.</strong></li>
<li><strong><code>'OSError'</code> is the parent class of all listed exceptions.</strong></li>
</ul>
<h3 id="file-object">File Object<a hidden class="anchor" aria-hidden="true" href="#file-object">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>file<span style="color:#f92672">&gt;.</span>seek(<span style="color:#ae81ff">0</span>)                      <span style="color:#75715e"># Moves to the start of the file.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>file<span style="color:#f92672">&gt;.</span>seek(offset)                 <span style="color:#75715e"># Moves &#39;offset&#39; chars/bytes from the start.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>file<span style="color:#f92672">&gt;.</span>seek(<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">2</span>)                   <span style="color:#75715e"># Moves to the end of the file.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>bin_file<span style="color:#f92672">&gt;.</span>seek(<span style="color:#960050;background-color:#1e0010">¬±</span>offset, <span style="color:#f92672">&lt;</span>anchor<span style="color:#f92672">&gt;</span>)  <span style="color:#75715e"># Anchor: 0 start, 1 current position, 2 end.</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>str<span style="color:#f92672">/</span>bytes<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>file<span style="color:#f92672">&gt;.</span>read(size<span style="color:#f92672">=-</span><span style="color:#ae81ff">1</span>)  <span style="color:#75715e"># Reads &#39;size&#39; chars/bytes or until EOF.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>str<span style="color:#f92672">/</span>bytes<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>file<span style="color:#f92672">&gt;.</span>readline()     <span style="color:#75715e"># Returns a line or empty string/bytes on EOF.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>list<span style="color:#f92672">&gt;</span>      <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>file<span style="color:#f92672">&gt;.</span>readlines()    <span style="color:#75715e"># Returns a list of remaining lines.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>str<span style="color:#f92672">/</span>bytes<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> next(<span style="color:#f92672">&lt;</span>file<span style="color:#f92672">&gt;</span>)          <span style="color:#75715e"># Returns a line using buffer. Do not mix.</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>file<span style="color:#f92672">&gt;.</span>write(<span style="color:#f92672">&lt;</span>str<span style="color:#f92672">/</span>bytes<span style="color:#f92672">&gt;</span>)           <span style="color:#75715e"># Writes a string or bytes object.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>file<span style="color:#f92672">&gt;.</span>writelines(<span style="color:#f92672">&lt;</span>collection<span style="color:#f92672">&gt;</span>)     <span style="color:#75715e"># Writes a coll. of strings or bytes objects.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>file<span style="color:#f92672">&gt;.</span>flush()                      <span style="color:#75715e"># Flushes write buffer. Runs every 4096/8192 B.</span>
</span></span></code></pre></div><ul>
<li><strong>Methods do not add or strip trailing newlines, even writelines().</strong></li>
</ul>
<h3 id="read-text-from-file">Read Text from File<a hidden class="anchor" aria-hidden="true" href="#read-text-from-file">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">read_file</span>(filename):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">with</span> open(filename, encoding<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;utf-8&#39;</span>) <span style="color:#66d9ef">as</span> file:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> file<span style="color:#f92672">.</span>readlines()
</span></span></code></pre></div><h3 id="write-text-to-file">Write Text to File<a hidden class="anchor" aria-hidden="true" href="#write-text-to-file">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">write_to_file</span>(filename, text):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">with</span> open(filename, <span style="color:#e6db74">&#39;w&#39;</span>, encoding<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;utf-8&#39;</span>) <span style="color:#66d9ef">as</span> file:
</span></span><span style="display:flex;"><span>        file<span style="color:#f92672">.</span>write(text)
</span></span></code></pre></div><h2 id="paths">Paths<a hidden class="anchor" aria-hidden="true" href="#paths">#</a></h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> os <span style="color:#f92672">import</span> getcwd, path, listdir, scandir
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> glob <span style="color:#f92672">import</span> glob
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>str<span style="color:#f92672">&gt;</span>  <span style="color:#f92672">=</span> getcwd()                   <span style="color:#75715e"># Returns the current working directory.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>str<span style="color:#f92672">&gt;</span>  <span style="color:#f92672">=</span> path<span style="color:#f92672">.</span>join(<span style="color:#f92672">&lt;</span>path<span style="color:#f92672">&gt;</span>, <span style="color:#f92672">...</span>)     <span style="color:#75715e"># Joins two or more pathname components.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>str<span style="color:#f92672">&gt;</span>  <span style="color:#f92672">=</span> path<span style="color:#f92672">.</span>abspath(<span style="color:#f92672">&lt;</span>path<span style="color:#f92672">&gt;</span>)       <span style="color:#75715e"># Returns absolute path.</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>str<span style="color:#f92672">&gt;</span>  <span style="color:#f92672">=</span> path<span style="color:#f92672">.</span>basename(<span style="color:#f92672">&lt;</span>path<span style="color:#f92672">&gt;</span>)      <span style="color:#75715e"># Returns final component of the path.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>str<span style="color:#f92672">&gt;</span>  <span style="color:#f92672">=</span> path<span style="color:#f92672">.</span>dirname(<span style="color:#f92672">&lt;</span>path<span style="color:#f92672">&gt;</span>)       <span style="color:#75715e"># Returns path without the final component.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>tup<span style="color:#f92672">.&gt;</span> <span style="color:#f92672">=</span> path<span style="color:#f92672">.</span>splitext(<span style="color:#f92672">&lt;</span>path<span style="color:#f92672">&gt;</span>)      <span style="color:#75715e"># Splits on last period of the final component.</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>list<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> listdir(path<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;.&#39;</span>)          <span style="color:#75715e"># Returns filenames located at path.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>list<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> glob(<span style="color:#e6db74">&#39;&lt;pattern&gt;&#39;</span>)          <span style="color:#75715e"># Returns paths matching the wildcard pattern.</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>bool<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> path<span style="color:#f92672">.</span>exists(<span style="color:#f92672">&lt;</span>path<span style="color:#f92672">&gt;</span>)        <span style="color:#75715e"># Or: &lt;Path&gt;.exists()</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>bool<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> path<span style="color:#f92672">.</span>isfile(<span style="color:#f92672">&lt;</span>path<span style="color:#f92672">&gt;</span>)        <span style="color:#75715e"># Or: &lt;DirEntry/Path&gt;.is_file()</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>bool<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> path<span style="color:#f92672">.</span>isdir(<span style="color:#f92672">&lt;</span>path<span style="color:#f92672">&gt;</span>)         <span style="color:#75715e"># Or: &lt;DirEntry/Path&gt;.is_dir()</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>stat<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> os<span style="color:#f92672">.</span>stat(<span style="color:#f92672">&lt;</span>path<span style="color:#f92672">&gt;</span>)            <span style="color:#75715e"># Or: &lt;DirEntry/Path&gt;.stat()</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>real<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>stat<span style="color:#f92672">&gt;.</span>st_mtime<span style="color:#f92672">/</span>st_size<span style="color:#f92672">/</span><span style="color:#960050;background-color:#1e0010">‚Ä¶</span>  <span style="color:#75715e"># Modification time, size in bytes, ‚Ä¶</span>
</span></span></code></pre></div><h3 id="direntry">DirEntry<a hidden class="anchor" aria-hidden="true" href="#direntry">#</a></h3>
<p><strong>Unlike listdir(), scandir() returns DirEntry objects that cache isfile, isdir and on Windows also stat information, thus significantly increasing the performance of code that requires it.</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>iter<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> scandir(path<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;.&#39;</span>)          <span style="color:#75715e"># Returns DirEntry objects located at path.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>str<span style="color:#f92672">&gt;</span>  <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>DirEntry<span style="color:#f92672">&gt;.</span>path            <span style="color:#75715e"># Returns whole path as a string.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>str<span style="color:#f92672">&gt;</span>  <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>DirEntry<span style="color:#f92672">&gt;.</span>name            <span style="color:#75715e"># Returns final component as a string.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>file<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> open(<span style="color:#f92672">&lt;</span>DirEntry<span style="color:#f92672">&gt;</span>)           <span style="color:#75715e"># Opens the file and returns a file object.</span>
</span></span></code></pre></div><h3 id="path-object">Path Object<a hidden class="anchor" aria-hidden="true" href="#path-object">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> pathlib <span style="color:#f92672">import</span> Path
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Path<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> Path(<span style="color:#f92672">&lt;</span>path<span style="color:#f92672">&gt;</span> [, <span style="color:#f92672">...</span>])       <span style="color:#75715e"># Accepts strings, Paths and DirEntry objects.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Path<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>path<span style="color:#f92672">&gt;</span> <span style="color:#f92672">/</span> <span style="color:#f92672">&lt;</span>path<span style="color:#f92672">&gt;</span> [<span style="color:#f92672">/</span> <span style="color:#f92672">...</span>]    <span style="color:#75715e"># First or second path must be a Path object.</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Path<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> Path()                     <span style="color:#75715e"># Returns relative cwd. Also Path(&#39;.&#39;).</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Path<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> Path<span style="color:#f92672">.</span>cwd()                 <span style="color:#75715e"># Returns absolute cwd. Also Path().resolve().</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Path<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> Path<span style="color:#f92672">.</span>home()                <span style="color:#75715e"># Returns user&#39;s home directory (absolute).</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Path<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> Path(__file__)<span style="color:#f92672">.</span>resolve()   <span style="color:#75715e"># Returns script&#39;s path if cwd wasn&#39;t changed.</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Path<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>Path<span style="color:#f92672">&gt;.</span>parent              <span style="color:#75715e"># Returns Path without the final component.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>str<span style="color:#f92672">&gt;</span>  <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>Path<span style="color:#f92672">&gt;.</span>name                <span style="color:#75715e"># Returns final component as a string.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>str<span style="color:#f92672">&gt;</span>  <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>Path<span style="color:#f92672">&gt;.</span>stem                <span style="color:#75715e"># Returns final component without extension.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>str<span style="color:#f92672">&gt;</span>  <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>Path<span style="color:#f92672">&gt;.</span>suffix              <span style="color:#75715e"># Returns final component&#39;s extension.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>tup<span style="color:#f92672">.&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>Path<span style="color:#f92672">&gt;.</span>parts               <span style="color:#75715e"># Returns all components as strings.</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>iter<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>Path<span style="color:#f92672">&gt;.</span>iterdir()           <span style="color:#75715e"># Returns directory contents as Path objects.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>iter<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>Path<span style="color:#f92672">&gt;.</span>glob(<span style="color:#e6db74">&#39;&lt;pattern&gt;&#39;</span>)   <span style="color:#75715e"># Returns Paths matching the wildcard pattern.</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>str<span style="color:#f92672">&gt;</span>  <span style="color:#f92672">=</span> str(<span style="color:#f92672">&lt;</span>Path<span style="color:#f92672">&gt;</span>)                <span style="color:#75715e"># Returns path as a string.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>file<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> open(<span style="color:#f92672">&lt;</span>Path<span style="color:#f92672">&gt;</span>)               <span style="color:#75715e"># Opens the file and returns a file object.</span>
</span></span></code></pre></div><h2 id="os-commands">OS Commands<a hidden class="anchor" aria-hidden="true" href="#os-commands">#</a></h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> os<span style="color:#f92672">,</span> shutil<span style="color:#f92672">,</span> subprocess
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>os<span style="color:#f92672">.</span>chdir(<span style="color:#f92672">&lt;</span>path<span style="color:#f92672">&gt;</span>)                 <span style="color:#75715e"># Changes the current working directory.</span>
</span></span><span style="display:flex;"><span>os<span style="color:#f92672">.</span>mkdir(<span style="color:#f92672">&lt;</span>path<span style="color:#f92672">&gt;</span>, mode<span style="color:#f92672">=</span><span style="color:#ae81ff">0o777</span>)     <span style="color:#75715e"># Creates a directory. Mode is in octal.</span>
</span></span><span style="display:flex;"><span>os<span style="color:#f92672">.</span>makedirs(<span style="color:#f92672">&lt;</span>path<span style="color:#f92672">&gt;</span>, mode<span style="color:#f92672">=</span><span style="color:#ae81ff">0o777</span>)  <span style="color:#75715e"># Creates all path&#39;s dirs. Also: `exist_ok=False`.</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>shutil<span style="color:#f92672">.</span>copy(from, to)            <span style="color:#75715e"># Copies the file. &#39;to&#39; can exist or be a dir.</span>
</span></span><span style="display:flex;"><span>shutil<span style="color:#f92672">.</span>copytree(from, to)        <span style="color:#75715e"># Copies the directory. &#39;to&#39; must not exist.</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>os<span style="color:#f92672">.</span>rename(from, to)              <span style="color:#75715e"># Renames/moves the file or directory.</span>
</span></span><span style="display:flex;"><span>os<span style="color:#f92672">.</span>replace(from, to)             <span style="color:#75715e"># Same, but overwrites &#39;to&#39; if it exists.</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>os<span style="color:#f92672">.</span>remove(<span style="color:#f92672">&lt;</span>path<span style="color:#f92672">&gt;</span>)                <span style="color:#75715e"># Deletes the file.</span>
</span></span><span style="display:flex;"><span>os<span style="color:#f92672">.</span>rmdir(<span style="color:#f92672">&lt;</span>path<span style="color:#f92672">&gt;</span>)                 <span style="color:#75715e"># Deletes the empty directory.</span>
</span></span><span style="display:flex;"><span>shutil<span style="color:#f92672">.</span>rmtree(<span style="color:#f92672">&lt;</span>path<span style="color:#f92672">&gt;</span>)            <span style="color:#75715e"># Deletes the directory.</span>
</span></span></code></pre></div><ul>
<li><strong>Paths can be either strings, Paths or DirEntry objects.</strong></li>
<li><strong>Functions report OS related errors by raising either OSError or one of its <a href="#exceptions-1">subclasses</a>.</strong></li>
</ul>
<h3 id="shell-commands">Shell Commands<a hidden class="anchor" aria-hidden="true" href="#shell-commands">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>pipe<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> os<span style="color:#f92672">.</span>popen(<span style="color:#e6db74">&#39;&lt;command&gt;&#39;</span>)   <span style="color:#75715e"># Executes command in sh/cmd and returns its stdout pipe.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>str<span style="color:#f92672">&gt;</span>  <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>pipe<span style="color:#f92672">&gt;.</span>read(size<span style="color:#f92672">=-</span><span style="color:#ae81ff">1</span>)    <span style="color:#75715e"># Reads &#39;size&#39; chars or until EOF. Also readline/s().</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>int<span style="color:#f92672">&gt;</span>  <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>pipe<span style="color:#f92672">&gt;.</span>close()          <span style="color:#75715e"># Closes the pipe. Returns None on success, int on error.</span>
</span></span></code></pre></div><h4 id="sends-1--1-to-the-basic-calculator-and-captures-its-output">Sends &lsquo;1 + 1&rsquo; to the basic calculator and captures its output:<a hidden class="anchor" aria-hidden="true" href="#sends-1--1-to-the-basic-calculator-and-captures-its-output">#</a></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> subprocess<span style="color:#f92672">.</span>run(<span style="color:#e6db74">&#39;bc&#39;</span>, input<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;1 + 1</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#39;</span>, capture_output<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>, text<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>)
</span></span><span style="display:flex;"><span>CompletedProcess(args<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;bc&#39;</span>, returncode<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>, stdout<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;2</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#39;</span>, stderr<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;&#39;</span>)
</span></span></code></pre></div><h4 id="sends-testin-to-the-basic-calculator-running-in-standard-mode-and-saves-its-output-to-testout">Sends test.in to the basic calculator running in standard mode and saves its output to test.out:<a hidden class="anchor" aria-hidden="true" href="#sends-testin-to-the-basic-calculator-running-in-standard-mode-and-saves-its-output-to-testout">#</a></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> <span style="color:#f92672">from</span> shlex <span style="color:#f92672">import</span> split
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> os<span style="color:#f92672">.</span>popen(<span style="color:#e6db74">&#39;echo 1 + 1 &gt; test.in&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> subprocess<span style="color:#f92672">.</span>run(split(<span style="color:#e6db74">&#39;bc -s&#39;</span>), stdin<span style="color:#f92672">=</span>open(<span style="color:#e6db74">&#39;test.in&#39;</span>), stdout<span style="color:#f92672">=</span>open(<span style="color:#e6db74">&#39;test.out&#39;</span>, <span style="color:#e6db74">&#39;w&#39;</span>))
</span></span><span style="display:flex;"><span>CompletedProcess(args<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;bc&#39;</span>, <span style="color:#e6db74">&#39;-s&#39;</span>], returncode<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> open(<span style="color:#e6db74">&#39;test.out&#39;</span>)<span style="color:#f92672">.</span>read()
</span></span><span style="display:flex;"><span><span style="color:#e6db74">&#39;2</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#39;</span>
</span></span></code></pre></div><h2 id="json">JSON<a hidden class="anchor" aria-hidden="true" href="#json">#</a></h2>
<p><strong>Text file format for storing collections of strings and numbers.</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> json
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>str<span style="color:#f92672">&gt;</span>    <span style="color:#f92672">=</span> json<span style="color:#f92672">.</span>dumps(<span style="color:#f92672">&lt;</span>object<span style="color:#f92672">&gt;</span>, ensure_ascii<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>, indent<span style="color:#f92672">=</span><span style="color:#66d9ef">None</span>)
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>object<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> json<span style="color:#f92672">.</span>loads(<span style="color:#f92672">&lt;</span>str<span style="color:#f92672">&gt;</span>)
</span></span></code></pre></div><h3 id="read-object-from-json-file">Read Object from JSON File<a hidden class="anchor" aria-hidden="true" href="#read-object-from-json-file">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">read_json_file</span>(filename):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">with</span> open(filename, encoding<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;utf-8&#39;</span>) <span style="color:#66d9ef">as</span> file:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> json<span style="color:#f92672">.</span>load(file)
</span></span></code></pre></div><h3 id="write-object-to-json-file">Write Object to JSON File<a hidden class="anchor" aria-hidden="true" href="#write-object-to-json-file">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">write_to_json_file</span>(filename, an_object):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">with</span> open(filename, <span style="color:#e6db74">&#39;w&#39;</span>, encoding<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;utf-8&#39;</span>) <span style="color:#66d9ef">as</span> file:
</span></span><span style="display:flex;"><span>        json<span style="color:#f92672">.</span>dump(an_object, file, ensure_ascii<span style="color:#f92672">=</span><span style="color:#66d9ef">False</span>, indent<span style="color:#f92672">=</span><span style="color:#ae81ff">2</span>)
</span></span></code></pre></div><h2 id="pickle">Pickle<a hidden class="anchor" aria-hidden="true" href="#pickle">#</a></h2>
<p><strong>Binary file format for storing Python objects.</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> pickle
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>bytes<span style="color:#f92672">&gt;</span>  <span style="color:#f92672">=</span> pickle<span style="color:#f92672">.</span>dumps(<span style="color:#f92672">&lt;</span>object<span style="color:#f92672">&gt;</span>)
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>object<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> pickle<span style="color:#f92672">.</span>loads(<span style="color:#f92672">&lt;</span>bytes<span style="color:#f92672">&gt;</span>)
</span></span></code></pre></div><h3 id="read-object-from-file">Read Object from File<a hidden class="anchor" aria-hidden="true" href="#read-object-from-file">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">read_pickle_file</span>(filename):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">with</span> open(filename, <span style="color:#e6db74">&#39;rb&#39;</span>) <span style="color:#66d9ef">as</span> file:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> pickle<span style="color:#f92672">.</span>load(file)
</span></span></code></pre></div><h3 id="write-object-to-file">Write Object to File<a hidden class="anchor" aria-hidden="true" href="#write-object-to-file">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">write_to_pickle_file</span>(filename, an_object):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">with</span> open(filename, <span style="color:#e6db74">&#39;wb&#39;</span>) <span style="color:#66d9ef">as</span> file:
</span></span><span style="display:flex;"><span>        pickle<span style="color:#f92672">.</span>dump(an_object, file)
</span></span></code></pre></div><h2 id="csv">CSV<a hidden class="anchor" aria-hidden="true" href="#csv">#</a></h2>
<p><strong>Text file format for storing spreadsheets.</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> csv
</span></span></code></pre></div><h3 id="read">Read<a hidden class="anchor" aria-hidden="true" href="#read">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>reader<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> csv<span style="color:#f92672">.</span>reader(<span style="color:#f92672">&lt;</span>file<span style="color:#f92672">&gt;</span>)       <span style="color:#75715e"># Also: `dialect=&#39;excel&#39;, delimiter=&#39;,&#39;`.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>list<span style="color:#f92672">&gt;</span>   <span style="color:#f92672">=</span> next(<span style="color:#f92672">&lt;</span>reader<span style="color:#f92672">&gt;</span>)           <span style="color:#75715e"># Returns next row as a list of strings.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>list<span style="color:#f92672">&gt;</span>   <span style="color:#f92672">=</span> list(<span style="color:#f92672">&lt;</span>reader<span style="color:#f92672">&gt;</span>)           <span style="color:#75715e"># Returns a list of remaining rows.</span>
</span></span></code></pre></div><ul>
<li><strong>File must be opened with a <code>'newline=&quot;&quot;'</code> argument, or newlines embedded inside quoted fields will not be interpreted correctly!</strong></li>
<li><strong>To print the table to the console use <a href="#table">Tabulate</a> library.</strong></li>
<li><strong>For XML and binary Excel files (xlsx, xlsm and xlsb) use <a href="#dataframe-plot-encode-decode">Pandas</a> library.</strong></li>
</ul>
<h3 id="write">Write<a hidden class="anchor" aria-hidden="true" href="#write">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>writer<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> csv<span style="color:#f92672">.</span>writer(<span style="color:#f92672">&lt;</span>file<span style="color:#f92672">&gt;</span>)       <span style="color:#75715e"># Also: `dialect=&#39;excel&#39;, delimiter=&#39;,&#39;`.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>writer<span style="color:#f92672">&gt;.</span>writerow(<span style="color:#f92672">&lt;</span>collection<span style="color:#f92672">&gt;</span>)     <span style="color:#75715e"># Encodes objects using `str(&lt;el&gt;)`.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>writer<span style="color:#f92672">&gt;.</span>writerows(<span style="color:#f92672">&lt;</span>coll_of_coll<span style="color:#f92672">&gt;</span>)  <span style="color:#75715e"># Appends multiple rows.</span>
</span></span></code></pre></div><ul>
<li><strong>File must be opened with a <code>'newline=&quot;&quot;'</code> argument, or &lsquo;\r&rsquo; will be added in front of every &lsquo;\n&rsquo; on platforms that use &lsquo;\r\n&rsquo; line endings!</strong></li>
</ul>
<h3 id="parameters">Parameters<a hidden class="anchor" aria-hidden="true" href="#parameters">#</a></h3>
<ul>
<li><strong><code>'dialect'</code> - Master parameter that sets the default values. String or a Dialect object.</strong></li>
<li><strong><code>'delimiter'</code> - A one-character string used to separate fields.</strong></li>
<li><strong><code>'quotechar'</code> - Character for quoting fields that contain special characters.</strong></li>
<li><strong><code>'doublequote'</code> - Whether quotechars inside fields are/get doubled or escaped.</strong></li>
<li><strong><code>'skipinitialspace'</code> - Whether whitespace after delimiter gets stripped by reader.</strong></li>
<li><strong><code>'lineterminator'</code> - How writer terminates rows. Reader is hardcoded to &lsquo;\n&rsquo;, &lsquo;\r&rsquo;, &lsquo;\r\n&rsquo;.</strong></li>
<li><strong><code>'quoting'</code> - 0: As necessary, 1: All, 2: All but numbers which are read as floats, 3: None.</strong></li>
<li><strong><code>'escapechar'</code> - Character for escaping quotechars if doublequote is False.</strong></li>
</ul>
<h3 id="dialects">Dialects<a hidden class="anchor" aria-hidden="true" href="#dialects">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>+------------------+--------------+--------------+--------------+
</span></span><span style="display:flex;"><span>|                  |     excel    |   excel-tab  |     unix     |
</span></span><span style="display:flex;"><span>+------------------+--------------+--------------+--------------+
</span></span><span style="display:flex;"><span>| delimiter        |       &#39;,&#39;    |      &#39;\t&#39;    |       &#39;,&#39;    |
</span></span><span style="display:flex;"><span>| quotechar        |       &#39;&#34;&#39;    |       &#39;&#34;&#39;    |       &#39;&#34;&#39;    |
</span></span><span style="display:flex;"><span>| doublequote      |      True    |      True    |      True    |
</span></span><span style="display:flex;"><span>| skipinitialspace |     False    |     False    |     False    |
</span></span><span style="display:flex;"><span>| lineterminator   |    &#39;\r\n&#39;    |    &#39;\r\n&#39;    |      &#39;\n&#39;    |
</span></span><span style="display:flex;"><span>| quoting          |         0    |         0    |         1    |
</span></span><span style="display:flex;"><span>| escapechar       |      None    |      None    |      None    |
</span></span><span style="display:flex;"><span>+------------------+--------------+--------------+--------------+
</span></span></code></pre></div><h3 id="read-rows-from-csv-file">Read Rows from CSV File<a hidden class="anchor" aria-hidden="true" href="#read-rows-from-csv-file">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">read_csv_file</span>(filename, dialect<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;excel&#39;</span>):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">with</span> open(filename, encoding<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;utf-8&#39;</span>, newline<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;&#39;</span>) <span style="color:#66d9ef">as</span> file:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> list(csv<span style="color:#f92672">.</span>reader(file, dialect))
</span></span></code></pre></div><h3 id="write-rows-to-csv-file">Write Rows to CSV File<a hidden class="anchor" aria-hidden="true" href="#write-rows-to-csv-file">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">write_to_csv_file</span>(filename, rows, dialect<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;excel&#39;</span>):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">with</span> open(filename, <span style="color:#e6db74">&#39;w&#39;</span>, encoding<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;utf-8&#39;</span>, newline<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;&#39;</span>) <span style="color:#66d9ef">as</span> file:
</span></span><span style="display:flex;"><span>        writer <span style="color:#f92672">=</span> csv<span style="color:#f92672">.</span>writer(file, dialect)
</span></span><span style="display:flex;"><span>        writer<span style="color:#f92672">.</span>writerows(rows)
</span></span></code></pre></div><h2 id="sqlite">SQLite<a hidden class="anchor" aria-hidden="true" href="#sqlite">#</a></h2>
<p><strong>A server-less database engine that stores each database into a separate file.</strong></p>
<h3 id="connect">Connect<a hidden class="anchor" aria-hidden="true" href="#connect">#</a></h3>
<p><strong>Opens a connection to the database file. Creates a new file if path doesn&rsquo;t exist.</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> sqlite3
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>conn<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> sqlite3<span style="color:#f92672">.</span>connect(<span style="color:#f92672">&lt;</span>path<span style="color:#f92672">&gt;</span>)                <span style="color:#75715e"># Also &#39;:memory:&#39;.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>conn<span style="color:#f92672">&gt;.</span>close()                                  <span style="color:#75715e"># Closes the connection.</span>
</span></span></code></pre></div><h3 id="read-1">Read<a hidden class="anchor" aria-hidden="true" href="#read-1">#</a></h3>
<p><strong>Returned values can be of type str, int, float, bytes or None.</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>cursor<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>conn<span style="color:#f92672">&gt;.</span>execute(<span style="color:#e6db74">&#39;&lt;query&gt;&#39;</span>)            <span style="color:#75715e"># Can raise a subclass of sqlite3.Error.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>tuple<span style="color:#f92672">&gt;</span>  <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>cursor<span style="color:#f92672">&gt;.</span>fetchone()                  <span style="color:#75715e"># Returns next row. Also next(&lt;cursor&gt;).</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>list<span style="color:#f92672">&gt;</span>   <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>cursor<span style="color:#f92672">&gt;.</span>fetchall()                  <span style="color:#75715e"># Returns remaining rows. Also list(&lt;cursor&gt;).</span>
</span></span></code></pre></div><h3 id="write-1">Write<a hidden class="anchor" aria-hidden="true" href="#write-1">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>conn<span style="color:#f92672">&gt;.</span>execute(<span style="color:#e6db74">&#39;&lt;query&gt;&#39;</span>)                       <span style="color:#75715e"># Can raise a subclass of sqlite3.Error.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>conn<span style="color:#f92672">&gt;.</span>commit()                                 <span style="color:#75715e"># Saves all changes since the last commit.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>conn<span style="color:#f92672">&gt;.</span>rollback()                               <span style="color:#75715e"># Discards all changes since the last commit.</span>
</span></span></code></pre></div><h4 id="or">Or:<a hidden class="anchor" aria-hidden="true" href="#or">#</a></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">with</span> <span style="color:#f92672">&lt;</span>conn<span style="color:#f92672">&gt;</span>:                                    <span style="color:#75715e"># Exits the block with commit() or rollback(),</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;</span>conn<span style="color:#f92672">&gt;.</span>execute(<span style="color:#e6db74">&#39;&lt;query&gt;&#39;</span>)                   <span style="color:#75715e"># depending on whether any exception occurred.</span>
</span></span></code></pre></div><h3 id="placeholders">Placeholders<a hidden class="anchor" aria-hidden="true" href="#placeholders">#</a></h3>
<ul>
<li><strong>Passed values can be of type str, int, float, bytes, None, bool, datetime.date or datetime.datetime.</strong></li>
<li><strong>Bools will be stored and returned as ints and dates as <a href="#encode">ISO formatted strings</a>.</strong></li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>conn<span style="color:#f92672">&gt;.</span>execute(<span style="color:#e6db74">&#39;&lt;query&gt;&#39;</span>, <span style="color:#f92672">&lt;</span>list<span style="color:#f92672">/</span>tuple<span style="color:#f92672">&gt;</span>)         <span style="color:#75715e"># Replaces &#39;?&#39;s in query with values.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>conn<span style="color:#f92672">&gt;.</span>execute(<span style="color:#e6db74">&#39;&lt;query&gt;&#39;</span>, <span style="color:#f92672">&lt;</span>dict<span style="color:#f92672">/</span>namedtuple<span style="color:#f92672">&gt;</span>)    <span style="color:#75715e"># Replaces &#39;:&lt;key&gt;&#39;s with values.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>conn<span style="color:#f92672">&gt;.</span>executemany(<span style="color:#e6db74">&#39;&lt;query&gt;&#39;</span>, <span style="color:#f92672">&lt;</span>coll_of_above<span style="color:#f92672">&gt;</span>)  <span style="color:#75715e"># Runs execute() multiple times.</span>
</span></span></code></pre></div><h3 id="example">Example<a hidden class="anchor" aria-hidden="true" href="#example">#</a></h3>
<p><strong>Values are not actually saved in this example because <code>'conn.commit()'</code> is omitted!</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> conn <span style="color:#f92672">=</span> sqlite3<span style="color:#f92672">.</span>connect(<span style="color:#e6db74">&#39;test.db&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> conn<span style="color:#f92672">.</span>execute(<span style="color:#e6db74">&#39;CREATE TABLE person (person_id INTEGER PRIMARY KEY, name, height)&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> conn<span style="color:#f92672">.</span>execute(<span style="color:#e6db74">&#39;INSERT INTO person VALUES (NULL, ?, ?)&#39;</span>, (<span style="color:#e6db74">&#39;Jean-Luc&#39;</span>, <span style="color:#ae81ff">187</span>))<span style="color:#f92672">.</span>lastrowid
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> conn<span style="color:#f92672">.</span>execute(<span style="color:#e6db74">&#39;SELECT * FROM person&#39;</span>)<span style="color:#f92672">.</span>fetchall()
</span></span><span style="display:flex;"><span>[(<span style="color:#ae81ff">1</span>, <span style="color:#e6db74">&#39;Jean-Luc&#39;</span>, <span style="color:#ae81ff">187</span>)]
</span></span></code></pre></div><h3 id="mysql">MySQL<a hidden class="anchor" aria-hidden="true" href="#mysql">#</a></h3>
<p><strong>Has a very similar interface, with differences listed below.</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># $ pip3 install mysql-connector</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> mysql <span style="color:#f92672">import</span> connector
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>conn<span style="color:#f92672">&gt;</span>   <span style="color:#f92672">=</span> connector<span style="color:#f92672">.</span>connect(host<span style="color:#f92672">=&lt;</span>str<span style="color:#f92672">&gt;</span>, <span style="color:#960050;background-color:#1e0010">‚Ä¶</span>)     <span style="color:#75715e"># `user=&lt;str&gt;, password=&lt;str&gt;, database=&lt;str&gt;`.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>cursor<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>conn<span style="color:#f92672">&gt;.</span>cursor()                      <span style="color:#75715e"># Only cursor has execute() method.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>cursor<span style="color:#f92672">&gt;.</span>execute(<span style="color:#e6db74">&#39;&lt;query&gt;&#39;</span>)                     <span style="color:#75715e"># Can raise a subclass of connector.Error.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>cursor<span style="color:#f92672">&gt;.</span>execute(<span style="color:#e6db74">&#39;&lt;query&gt;&#39;</span>, <span style="color:#f92672">&lt;</span>list<span style="color:#f92672">/</span>tuple<span style="color:#f92672">&gt;</span>)       <span style="color:#75715e"># Replaces &#39;%s&#39;s in query with values.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>cursor<span style="color:#f92672">&gt;.</span>execute(<span style="color:#e6db74">&#39;&lt;query&gt;&#39;</span>, <span style="color:#f92672">&lt;</span>dict<span style="color:#f92672">/</span>namedtuple<span style="color:#f92672">&gt;</span>)  <span style="color:#75715e"># Replaces &#39;%(&lt;key&gt;)s&#39;s with values.</span>
</span></span></code></pre></div><h2 id="bytes">Bytes<a hidden class="anchor" aria-hidden="true" href="#bytes">#</a></h2>
<p><strong>Bytes object is an immutable sequence of single bytes. Mutable version is called bytearray.</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>bytes<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">b</span><span style="color:#e6db74">&#39;&lt;str&gt;&#39;</span>                       <span style="color:#75715e"># Only accepts ASCII characters and \x00-\xff.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>int<span style="color:#f92672">&gt;</span>   <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>bytes<span style="color:#f92672">&gt;</span>[<span style="color:#f92672">&lt;</span>index<span style="color:#f92672">&gt;</span>]               <span style="color:#75715e"># Returns an int in range from 0 to 255.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>bytes<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>bytes<span style="color:#f92672">&gt;</span>[<span style="color:#f92672">&lt;</span>slice<span style="color:#f92672">&gt;</span>]               <span style="color:#75715e"># Returns bytes even if it has only one element.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>bytes<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>bytes<span style="color:#f92672">&gt;.</span>join(<span style="color:#f92672">&lt;</span>coll_of_bytes<span style="color:#f92672">&gt;</span>)  <span style="color:#75715e"># Joins elements using bytes as a separator.</span>
</span></span></code></pre></div><h3 id="encode-1">Encode<a hidden class="anchor" aria-hidden="true" href="#encode-1">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>bytes<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> bytes(<span style="color:#f92672">&lt;</span>coll_of_ints<span style="color:#f92672">&gt;</span>)          <span style="color:#75715e"># Ints must be in range from 0 to 255.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>bytes<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> bytes(<span style="color:#f92672">&lt;</span>str<span style="color:#f92672">&gt;</span>, <span style="color:#e6db74">&#39;utf-8&#39;</span>)          <span style="color:#75715e"># Or: &lt;str&gt;.encode(&#39;utf-8&#39;)</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>bytes<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>int<span style="color:#f92672">&gt;.</span>to_bytes(n_bytes, <span style="color:#960050;background-color:#1e0010">‚Ä¶</span>)     <span style="color:#75715e"># `byteorder=&#39;big/little&#39;, signed=False`.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>bytes<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> bytes<span style="color:#f92672">.</span>fromhex(<span style="color:#e6db74">&#39;&lt;hex&gt;&#39;</span>)         <span style="color:#75715e"># Hex pairs can be separated by whitespaces.</span>
</span></span></code></pre></div><h3 id="decode-1">Decode<a hidden class="anchor" aria-hidden="true" href="#decode-1">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>list<span style="color:#f92672">&gt;</span>  <span style="color:#f92672">=</span> list(<span style="color:#f92672">&lt;</span>bytes<span style="color:#f92672">&gt;</span>)                  <span style="color:#75715e"># Returns ints in range from 0 to 255.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>str<span style="color:#f92672">&gt;</span>   <span style="color:#f92672">=</span> str(<span style="color:#f92672">&lt;</span>bytes<span style="color:#f92672">&gt;</span>, <span style="color:#e6db74">&#39;utf-8&#39;</span>)          <span style="color:#75715e"># Or: &lt;bytes&gt;.decode(&#39;utf-8&#39;)</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>int<span style="color:#f92672">&gt;</span>   <span style="color:#f92672">=</span> int<span style="color:#f92672">.</span>from_bytes(<span style="color:#f92672">&lt;</span>bytes<span style="color:#f92672">&gt;</span>, <span style="color:#960050;background-color:#1e0010">‚Ä¶</span>)     <span style="color:#75715e"># `byteorder=&#39;big/little&#39;, signed=False`.</span>
</span></span><span style="display:flex;"><span><span style="color:#e6db74">&#39;&lt;hex&gt;&#39;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>bytes<span style="color:#f92672">&gt;.</span>hex()                  <span style="color:#75715e"># Returns hex pairs. Accepts `sep=&lt;str&gt;`.</span>
</span></span></code></pre></div><h3 id="read-bytes-from-file">Read Bytes from File<a hidden class="anchor" aria-hidden="true" href="#read-bytes-from-file">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">read_bytes</span>(filename):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">with</span> open(filename, <span style="color:#e6db74">&#39;rb&#39;</span>) <span style="color:#66d9ef">as</span> file:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> file<span style="color:#f92672">.</span>read()
</span></span></code></pre></div><h3 id="write-bytes-to-file">Write Bytes to File<a hidden class="anchor" aria-hidden="true" href="#write-bytes-to-file">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">write_bytes</span>(filename, bytes_obj):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">with</span> open(filename, <span style="color:#e6db74">&#39;wb&#39;</span>) <span style="color:#66d9ef">as</span> file:
</span></span><span style="display:flex;"><span>        file<span style="color:#f92672">.</span>write(bytes_obj)
</span></span></code></pre></div><h2 id="struct">Struct<a hidden class="anchor" aria-hidden="true" href="#struct">#</a></h2>
<ul>
<li><strong>Module that performs conversions between a sequence of numbers and a bytes object.</strong></li>
<li><strong>System‚Äôs type sizes, byte order, and alignment rules are used by default.</strong></li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> struct <span style="color:#f92672">import</span> pack, unpack
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>bytes<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> pack(<span style="color:#e6db74">&#39;&lt;format&gt;&#39;</span>, <span style="color:#f92672">&lt;</span>el_1<span style="color:#f92672">&gt;</span> [, <span style="color:#f92672">...</span>])  <span style="color:#75715e"># Packages arguments into bytes object.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>tuple<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> unpack(<span style="color:#e6db74">&#39;&lt;format&gt;&#39;</span>, <span style="color:#f92672">&lt;</span>bytes<span style="color:#f92672">&gt;</span>)       <span style="color:#75715e"># Use iter_unpack() for iterator of tuples.</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> pack(<span style="color:#e6db74">&#39;&gt;hhl&#39;</span>, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>)
</span></span><span style="display:flex;"><span><span style="color:#e6db74">b</span><span style="color:#e6db74">&#39;</span><span style="color:#ae81ff">\x00\x01\x00\x02\x00\x00\x00\x03</span><span style="color:#e6db74">&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> unpack(<span style="color:#e6db74">&#39;&gt;hhl&#39;</span>, <span style="color:#e6db74">b</span><span style="color:#e6db74">&#39;</span><span style="color:#ae81ff">\x00\x01\x00\x02\x00\x00\x00\x03</span><span style="color:#e6db74">&#39;</span>)
</span></span><span style="display:flex;"><span>(<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>)
</span></span></code></pre></div><h3 id="format-2">Format<a hidden class="anchor" aria-hidden="true" href="#format-2">#</a></h3>
<h4 id="for-standard-type-sizes-and-manual-alignment-padding-start-format-string-with">For standard type sizes and manual alignment (padding) start format string with:<a hidden class="anchor" aria-hidden="true" href="#for-standard-type-sizes-and-manual-alignment-padding-start-format-string-with">#</a></h4>
<ul>
<li><strong><code>'='</code> - System&rsquo;s byte order (usually little-endian).</strong></li>
<li><strong><code>'&lt;'</code> - Little-endian.</strong></li>
<li><strong><code>'&gt;'</code> - Big-endian (also <code>'!'</code>).</strong></li>
</ul>
<h4 id="besides-numbers-pack-and-unpack-also-support-bytes-objects-as-part-of-the-seqence">Besides numbers, pack() and unpack() also support bytes objects as part of the seqence:<a hidden class="anchor" aria-hidden="true" href="#besides-numbers-pack-and-unpack-also-support-bytes-objects-as-part-of-the-seqence">#</a></h4>
<ul>
<li><strong><code>'c'</code> - A bytes object with a single element. Use <code>'x'</code> for pad byte.</strong></li>
<li><strong><code>'&lt;n&gt;s'</code> - A bytes object with n elements.</strong></li>
</ul>
<h4 id="integer-types-use-a-capital-letter-for-unsigned-type-minimum-and-standard-sizes-are-in-brackets">Integer types. Use a capital letter for unsigned type. Minimum and standard sizes are in brackets:<a hidden class="anchor" aria-hidden="true" href="#integer-types-use-a-capital-letter-for-unsigned-type-minimum-and-standard-sizes-are-in-brackets">#</a></h4>
<ul>
<li><strong><code>'b'</code> - char (1/1)</strong></li>
<li><strong><code>'h'</code> - short (2/2)</strong></li>
<li><strong><code>'i'</code> - int (2/4)</strong></li>
<li><strong><code>'l'</code> - long (4/4)</strong></li>
<li><strong><code>'q'</code> - long long (8/8)</strong></li>
</ul>
<h4 id="floating-point-types">Floating point types:<a hidden class="anchor" aria-hidden="true" href="#floating-point-types">#</a></h4>
<ul>
<li><strong><code>'f'</code> - float (4/4)</strong></li>
<li><strong><code>'d'</code> - double (8/8)</strong></li>
</ul>
<h2 id="array">Array<a hidden class="anchor" aria-hidden="true" href="#array">#</a></h2>
<p><strong>List that can only hold numbers of a predefined type. Available types and their minimum sizes in bytes are listed above. Sizes and byte order are always determined by the system.</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> array <span style="color:#f92672">import</span> array
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>array<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> array(<span style="color:#e6db74">&#39;&lt;typecode&gt;&#39;</span>, <span style="color:#f92672">&lt;</span>collection<span style="color:#f92672">&gt;</span>)    <span style="color:#75715e"># Array from collection of numbers.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>array<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> array(<span style="color:#e6db74">&#39;&lt;typecode&gt;&#39;</span>, <span style="color:#f92672">&lt;</span>bytes<span style="color:#f92672">&gt;</span>)         <span style="color:#75715e"># Array from bytes object.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>array<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> array(<span style="color:#e6db74">&#39;&lt;typecode&gt;&#39;</span>, <span style="color:#f92672">&lt;</span>array<span style="color:#f92672">&gt;</span>)         <span style="color:#75715e"># Treats array as a sequence of numbers.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>bytes<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> bytes(<span style="color:#f92672">&lt;</span>array<span style="color:#f92672">&gt;</span>)                       <span style="color:#75715e"># Or: &lt;array&gt;.tobytes()</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>file<span style="color:#f92672">&gt;.</span>write(<span style="color:#f92672">&lt;</span>array<span style="color:#f92672">&gt;</span>)                          <span style="color:#75715e"># Writes array to the binary file.</span>
</span></span></code></pre></div><h2 id="memory-view">Memory View<a hidden class="anchor" aria-hidden="true" href="#memory-view">#</a></h2>
<ul>
<li><strong>A sequence object that points to the memory of another object.</strong></li>
<li><strong>Each element can reference a single or multiple consecutive bytes, depending on format.</strong></li>
<li><strong>Order and number of elements can be changed with slicing.</strong></li>
<li><strong>Casting only works between char and other types and uses system&rsquo;s sizes.</strong></li>
<li><strong>Byte order is always determined by the system.</strong></li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>mview<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> memoryview(<span style="color:#f92672">&lt;</span>bytes<span style="color:#f92672">/</span>bytearray<span style="color:#f92672">/</span>array<span style="color:#f92672">&gt;</span>)  <span style="color:#75715e"># Immutable if bytes, else mutable.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>real<span style="color:#f92672">&gt;</span>  <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>mview<span style="color:#f92672">&gt;</span>[<span style="color:#f92672">&lt;</span>index<span style="color:#f92672">&gt;</span>]                     <span style="color:#75715e"># Returns an int or a float.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>mview<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>mview<span style="color:#f92672">&gt;</span>[<span style="color:#f92672">&lt;</span>slice<span style="color:#f92672">&gt;</span>]                     <span style="color:#75715e"># Mview with rearranged elements.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>mview<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>mview<span style="color:#f92672">&gt;.</span>cast(<span style="color:#e6db74">&#39;&lt;typecode&gt;&#39;</span>)           <span style="color:#75715e"># Casts memoryview to the new format.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>mview<span style="color:#f92672">&gt;.</span>release()                              <span style="color:#75715e"># Releases the object&#39;s memory buffer.</span>
</span></span></code></pre></div><h3 id="decode-2">Decode<a hidden class="anchor" aria-hidden="true" href="#decode-2">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>bytes<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> bytes(<span style="color:#f92672">&lt;</span>mview<span style="color:#f92672">&gt;</span>)                       <span style="color:#75715e"># Creates a new bytes object.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>bytes<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>bytes<span style="color:#f92672">&gt;.</span>join(<span style="color:#f92672">&lt;</span>coll_of_mviews<span style="color:#f92672">&gt;</span>)       <span style="color:#75715e"># Joins mviews using bytes object as sep.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>array<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> array(<span style="color:#e6db74">&#39;&lt;typecode&gt;&#39;</span>, <span style="color:#f92672">&lt;</span>mview<span style="color:#f92672">&gt;</span>)         <span style="color:#75715e"># Treats mview as a sequence of numbers.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>file<span style="color:#f92672">&gt;.</span>write(<span style="color:#f92672">&lt;</span>mview<span style="color:#f92672">&gt;</span>)                          <span style="color:#75715e"># Writes mview to the binary file.</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>list<span style="color:#f92672">&gt;</span>  <span style="color:#f92672">=</span> list(<span style="color:#f92672">&lt;</span>mview<span style="color:#f92672">&gt;</span>)                        <span style="color:#75715e"># Returns a list of ints or floats.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>str<span style="color:#f92672">&gt;</span>   <span style="color:#f92672">=</span> str(<span style="color:#f92672">&lt;</span>mview<span style="color:#f92672">&gt;</span>, <span style="color:#e6db74">&#39;utf-8&#39;</span>)                <span style="color:#75715e"># Treats mview as a bytes object.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>int<span style="color:#f92672">&gt;</span>   <span style="color:#f92672">=</span> int<span style="color:#f92672">.</span>from_bytes(<span style="color:#f92672">&lt;</span>mview<span style="color:#f92672">&gt;</span>, <span style="color:#960050;background-color:#1e0010">‚Ä¶</span>)           <span style="color:#75715e"># `byteorder=&#39;big/little&#39;, signed=False`.</span>
</span></span><span style="display:flex;"><span><span style="color:#e6db74">&#39;&lt;hex&gt;&#39;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>mview<span style="color:#f92672">&gt;.</span>hex()                        <span style="color:#75715e"># Treats mview as a bytes object.</span>
</span></span></code></pre></div><h2 id="deque">Deque<a hidden class="anchor" aria-hidden="true" href="#deque">#</a></h2>
<p><strong>A thread-safe list with efficient appends and pops from either side. Pronounced &ldquo;deck&rdquo;.</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> collections <span style="color:#f92672">import</span> deque
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>deque<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> deque(<span style="color:#f92672">&lt;</span>collection<span style="color:#f92672">&gt;</span>, maxlen<span style="color:#f92672">=</span><span style="color:#66d9ef">None</span>)
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>deque<span style="color:#f92672">&gt;.</span>appendleft(<span style="color:#f92672">&lt;</span>el<span style="color:#f92672">&gt;</span>)                       <span style="color:#75715e"># Opposite element is dropped if full.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>deque<span style="color:#f92672">&gt;.</span>extendleft(<span style="color:#f92672">&lt;</span>collection<span style="color:#f92672">&gt;</span>)               <span style="color:#75715e"># Collection gets reversed.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>el<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>deque<span style="color:#f92672">&gt;.</span>popleft()                       <span style="color:#75715e"># Raises IndexError if empty.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>deque<span style="color:#f92672">&gt;.</span>rotate(n<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>)                            <span style="color:#75715e"># Rotates elements to the right.</span>
</span></span></code></pre></div><h2 id="threading">Threading<a hidden class="anchor" aria-hidden="true" href="#threading">#</a></h2>
<ul>
<li><strong>CPython interpreter can only run a single thread at a time.</strong></li>
<li><strong>That is why using multiple threads won&rsquo;t result in a faster execution, unless at least one of the threads contains an I/O operation.</strong></li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> threading <span style="color:#f92672">import</span> Thread, RLock, Semaphore, Event, Barrier
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> concurrent.futures <span style="color:#f92672">import</span> ThreadPoolExecutor
</span></span></code></pre></div><h3 id="thread">Thread<a hidden class="anchor" aria-hidden="true" href="#thread">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Thread<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> Thread(target<span style="color:#f92672">=&lt;</span>function<span style="color:#f92672">&gt;</span>)           <span style="color:#75715e"># Use `args=&lt;collection&gt;` to set the arguments.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Thread<span style="color:#f92672">&gt;.</span>start()                               <span style="color:#75715e"># Starts the thread.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>bool<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>Thread<span style="color:#f92672">&gt;.</span>is_alive()                   <span style="color:#75715e"># Checks if the thread has finished executing.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Thread<span style="color:#f92672">&gt;.</span>join()                                <span style="color:#75715e"># Waits for the thread to finish.</span>
</span></span></code></pre></div><ul>
<li><strong>Use <code>'kwargs=&lt;dict&gt;'</code> to pass keyword arguments to the function.</strong></li>
<li><strong>Use <code>'daemon=True'</code>, or the program will not be able to exit while the thread is alive.</strong></li>
</ul>
<h3 id="lock">Lock<a hidden class="anchor" aria-hidden="true" href="#lock">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>lock<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> RLock()                               <span style="color:#75715e"># Lock that can only be released by the owner.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>lock<span style="color:#f92672">&gt;.</span>acquire()                               <span style="color:#75715e"># Waits for the lock to be available.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>lock<span style="color:#f92672">&gt;.</span>release()                               <span style="color:#75715e"># Makes the lock available again.</span>
</span></span></code></pre></div><h4 id="or-1">Or:<a hidden class="anchor" aria-hidden="true" href="#or-1">#</a></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">with</span> <span style="color:#f92672">&lt;</span>lock<span style="color:#f92672">&gt;</span>:                                   <span style="color:#75715e"># Enters the block by calling acquire(),</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">...</span>                                        <span style="color:#75715e"># and exits it with release().</span>
</span></span></code></pre></div><h3 id="semaphore-event-barrier">Semaphore, Event, Barrier<a hidden class="anchor" aria-hidden="true" href="#semaphore-event-barrier">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Semaphore<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> Semaphore(value<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>)               <span style="color:#75715e"># Lock that can be acquired by &#39;value&#39; threads.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Event<span style="color:#f92672">&gt;</span>     <span style="color:#f92672">=</span> Event()                          <span style="color:#75715e"># Method wait() blocks until set() is called.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Barrier<span style="color:#f92672">&gt;</span>   <span style="color:#f92672">=</span> Barrier(n_times)                 <span style="color:#75715e"># Wait() blocks until it&#39;s called n_times.</span>
</span></span></code></pre></div><h3 id="thread-pool-executor">Thread Pool Executor<a hidden class="anchor" aria-hidden="true" href="#thread-pool-executor">#</a></h3>
<ul>
<li><strong>Object that manages thread execution.</strong></li>
<li><strong>An object with the same interface called ProcessPoolExecutor provides true parallelism by running a separate interpreter in each process. All arguments must be <a href="#pickle">pickable</a>.</strong></li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Exec<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> ThreadPoolExecutor(max_workers<span style="color:#f92672">=</span><span style="color:#66d9ef">None</span>)  <span style="color:#75715e"># Or: `with ThreadPoolExecutor() as &lt;name&gt;: ‚Ä¶`</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Exec<span style="color:#f92672">&gt;.</span>shutdown(wait<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>)                     <span style="color:#75715e"># Blocks until all threads finish executing.</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>iter<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>Exec<span style="color:#f92672">&gt;.</span>map(<span style="color:#f92672">&lt;</span>func<span style="color:#f92672">&gt;</span>, <span style="color:#f92672">&lt;</span>args_1<span style="color:#f92672">&gt;</span>, <span style="color:#f92672">...</span>)     <span style="color:#75715e"># A multithreaded and non-lazy map().</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Futr<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>Exec<span style="color:#f92672">&gt;.</span>submit(<span style="color:#f92672">&lt;</span>func<span style="color:#f92672">&gt;</span>, <span style="color:#f92672">&lt;</span>arg_1<span style="color:#f92672">&gt;</span>, <span style="color:#f92672">...</span>)   <span style="color:#75715e"># Starts a thread and returns its Future object.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>bool<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>Futr<span style="color:#f92672">&gt;.</span>done()                         <span style="color:#75715e"># Checks if the thread has finished executing.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>obj<span style="color:#f92672">&gt;</span>  <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>Futr<span style="color:#f92672">&gt;.</span>result()                       <span style="color:#75715e"># Waits for thread to finish and returns result.</span>
</span></span></code></pre></div><h3 id="queue">Queue<a hidden class="anchor" aria-hidden="true" href="#queue">#</a></h3>
<p><strong>A thread-safe FIFO queue. For LIFO queue use LifoQueue.</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> queue <span style="color:#f92672">import</span> Queue
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Queue<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> Queue(maxsize<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>)
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Queue<span style="color:#f92672">&gt;.</span>put(<span style="color:#f92672">&lt;</span>el<span style="color:#f92672">&gt;</span>)                              <span style="color:#75715e"># Blocks until queue stops being full.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Queue<span style="color:#f92672">&gt;.</span>put_nowait(<span style="color:#f92672">&lt;</span>el<span style="color:#f92672">&gt;</span>)                       <span style="color:#75715e"># Raises queue.Full exception if full.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>el<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>Queue<span style="color:#f92672">&gt;.</span>get()                           <span style="color:#75715e"># Blocks until queue stops being empty.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>el<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>Queue<span style="color:#f92672">&gt;.</span>get_nowait()                    <span style="color:#75715e"># Raises queue.Empty exception if empty.</span>
</span></span></code></pre></div><h2 id="operator">Operator<a hidden class="anchor" aria-hidden="true" href="#operator">#</a></h2>
<p><strong>Module of functions that provide the functionality of operators.</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> operator <span style="color:#66d9ef">as</span> op
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>el<span style="color:#f92672">&gt;</span>      <span style="color:#f92672">=</span> op<span style="color:#f92672">.</span>add<span style="color:#f92672">/</span>sub<span style="color:#f92672">/</span>mul<span style="color:#f92672">/</span>truediv<span style="color:#f92672">/</span>floordiv<span style="color:#f92672">/</span>mod(<span style="color:#f92672">&lt;</span>el<span style="color:#f92672">&gt;</span>, <span style="color:#f92672">&lt;</span>el<span style="color:#f92672">&gt;</span>)  <span style="color:#75715e"># +, -, *, /, //, %</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>int<span style="color:#f92672">/</span>set<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> op<span style="color:#f92672">.</span>and_<span style="color:#f92672">/</span>or_<span style="color:#f92672">/</span>xor(<span style="color:#f92672">&lt;</span>int<span style="color:#f92672">/</span>set<span style="color:#f92672">&gt;</span>, <span style="color:#f92672">&lt;</span>int<span style="color:#f92672">/</span>set<span style="color:#f92672">&gt;</span>)            <span style="color:#75715e"># &amp;, |, ^</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>bool<span style="color:#f92672">&gt;</span>    <span style="color:#f92672">=</span> op<span style="color:#f92672">.</span>eq<span style="color:#f92672">/</span>ne<span style="color:#f92672">/</span>lt<span style="color:#f92672">/</span>le<span style="color:#f92672">/</span>gt<span style="color:#f92672">/</span>ge(<span style="color:#f92672">&lt;</span>sortable<span style="color:#f92672">&gt;</span>, <span style="color:#f92672">&lt;</span>sortable<span style="color:#f92672">&gt;</span>)     <span style="color:#75715e"># ==, !=, &lt;, &lt;=, &gt;, &gt;=</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>func<span style="color:#f92672">&gt;</span>    <span style="color:#f92672">=</span> op<span style="color:#f92672">.</span>itemgetter<span style="color:#f92672">/</span>attrgetter<span style="color:#f92672">/</span>methodcaller(<span style="color:#f92672">&lt;</span>obj<span style="color:#f92672">&gt;</span>)     <span style="color:#75715e"># [index/key], .name, .name()</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>elementwise_sum  <span style="color:#f92672">=</span> map(op<span style="color:#f92672">.</span>add, list_a, list_b)
</span></span><span style="display:flex;"><span>sorted_by_second <span style="color:#f92672">=</span> sorted(<span style="color:#f92672">&lt;</span>collection<span style="color:#f92672">&gt;</span>, key<span style="color:#f92672">=</span>op<span style="color:#f92672">.</span>itemgetter(<span style="color:#ae81ff">1</span>))
</span></span><span style="display:flex;"><span>sorted_by_both   <span style="color:#f92672">=</span> sorted(<span style="color:#f92672">&lt;</span>collection<span style="color:#f92672">&gt;</span>, key<span style="color:#f92672">=</span>op<span style="color:#f92672">.</span>itemgetter(<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">0</span>))
</span></span><span style="display:flex;"><span>product_of_elems <span style="color:#f92672">=</span> functools<span style="color:#f92672">.</span>reduce(op<span style="color:#f92672">.</span>mul, <span style="color:#f92672">&lt;</span>collection<span style="color:#f92672">&gt;</span>)
</span></span><span style="display:flex;"><span>union_of_sets    <span style="color:#f92672">=</span> functools<span style="color:#f92672">.</span>reduce(op<span style="color:#f92672">.</span>or_, <span style="color:#f92672">&lt;</span>coll_of_sets<span style="color:#f92672">&gt;</span>)
</span></span><span style="display:flex;"><span>first_element    <span style="color:#f92672">=</span> op<span style="color:#f92672">.</span>methodcaller(<span style="color:#e6db74">&#39;pop&#39;</span>, <span style="color:#ae81ff">0</span>)(<span style="color:#f92672">&lt;</span>list<span style="color:#f92672">&gt;</span>)
</span></span></code></pre></div><ul>
<li><strong>Binary operators require objects to have and(), or(), xor() and invert() special methods, unlike logical operators that work on all types of objects.</strong></li>
<li><strong>Also: <code>'&lt;bool&gt; = &lt;bool&gt; &amp;|^ &lt;bool&gt;'</code> and <code>'&lt;int&gt; = &lt;bool&gt; &amp;|^ &lt;int&gt;'</code>.</strong></li>
</ul>
<h2 id="introspection">Introspection<a hidden class="anchor" aria-hidden="true" href="#introspection">#</a></h2>
<p><strong>Inspecting code at runtime.</strong></p>
<h3 id="variables">Variables<a hidden class="anchor" aria-hidden="true" href="#variables">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>list<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> dir()                             <span style="color:#75715e"># Names of local variables (incl. functions).</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>dict<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> vars()                            <span style="color:#75715e"># Dict of local variables. Also locals().</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>dict<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> globals()                         <span style="color:#75715e"># Dict of global variables.</span>
</span></span></code></pre></div><h3 id="attributes-1">Attributes<a hidden class="anchor" aria-hidden="true" href="#attributes-1">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>list<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> dir(<span style="color:#f92672">&lt;</span>object<span style="color:#f92672">&gt;</span>)                     <span style="color:#75715e"># Names of object&#39;s attributes (incl. methods).</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>dict<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> vars(<span style="color:#f92672">&lt;</span>object<span style="color:#f92672">&gt;</span>)                    <span style="color:#75715e"># Dict of writable attributes. Also &lt;obj&gt;.__dict__.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>bool<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> hasattr(<span style="color:#f92672">&lt;</span>object<span style="color:#f92672">&gt;</span>, <span style="color:#e6db74">&#39;&lt;attr_name&gt;&#39;</span>)  <span style="color:#75715e"># Checks if getattr() raises an AttributeError.</span>
</span></span><span style="display:flex;"><span>value  <span style="color:#f92672">=</span> getattr(<span style="color:#f92672">&lt;</span>object<span style="color:#f92672">&gt;</span>, <span style="color:#e6db74">&#39;&lt;attr_name&gt;&#39;</span>)  <span style="color:#75715e"># Raises AttributeError if attribute is missing.</span>
</span></span><span style="display:flex;"><span>setattr(<span style="color:#f92672">&lt;</span>object<span style="color:#f92672">&gt;</span>, <span style="color:#e6db74">&#39;&lt;attr_name&gt;&#39;</span>, value)    <span style="color:#75715e"># Only works on objects with &#39;__dict__&#39; attribute.</span>
</span></span><span style="display:flex;"><span>delattr(<span style="color:#f92672">&lt;</span>object<span style="color:#f92672">&gt;</span>, <span style="color:#e6db74">&#39;&lt;attr_name&gt;&#39;</span>)           <span style="color:#75715e"># Same. Also `del &lt;object&gt;.&lt;attr_name&gt;`.</span>
</span></span></code></pre></div><h3 id="parameters-1">Parameters<a hidden class="anchor" aria-hidden="true" href="#parameters-1">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> inspect <span style="color:#f92672">import</span> signature
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Sig<span style="color:#f92672">&gt;</span>  <span style="color:#f92672">=</span> signature(<span style="color:#f92672">&lt;</span>function<span style="color:#f92672">&gt;</span>)             <span style="color:#75715e"># Function&#39;s Signature object.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>dict<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>Sig<span style="color:#f92672">&gt;.</span>parameters                  <span style="color:#75715e"># Dict of function&#39;s Parameter objects.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>str<span style="color:#f92672">&gt;</span>  <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>Param<span style="color:#f92672">&gt;.</span>name                      <span style="color:#75715e"># Parameter&#39;s name.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>memb<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>Param<span style="color:#f92672">&gt;.</span>kind                      <span style="color:#75715e"># Member of ParameterKind enum.</span>
</span></span></code></pre></div><h2 id="metaprogramming">Metaprogramming<a hidden class="anchor" aria-hidden="true" href="#metaprogramming">#</a></h2>
<p><strong>Code that generates code.</strong></p>
<h3 id="type-1">Type<a hidden class="anchor" aria-hidden="true" href="#type-1">#</a></h3>
<p><strong>Type is the root class. If only passed an object it returns its type (class). Otherwise it creates a new class.</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>class<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> type(<span style="color:#e6db74">&#39;&lt;class_name&gt;&#39;</span>, <span style="color:#f92672">&lt;</span>tuple_of_parents<span style="color:#f92672">&gt;</span>, <span style="color:#f92672">&lt;</span>dict_of_class_attributes<span style="color:#f92672">&gt;</span>)
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> Z <span style="color:#f92672">=</span> type(<span style="color:#e6db74">&#39;Z&#39;</span>, (), {<span style="color:#e6db74">&#39;a&#39;</span>: <span style="color:#e6db74">&#39;abcde&#39;</span>, <span style="color:#e6db74">&#39;b&#39;</span>: <span style="color:#ae81ff">12345</span>})
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> z <span style="color:#f92672">=</span> Z()
</span></span></code></pre></div><h3 id="meta-class">Meta Class<a hidden class="anchor" aria-hidden="true" href="#meta-class">#</a></h3>
<p><strong>A class that creates classes.</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">my_meta_class</span>(name, parents, attrs):
</span></span><span style="display:flex;"><span>    attrs[<span style="color:#e6db74">&#39;a&#39;</span>] <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;abcde&#39;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> type(name, parents, attrs)
</span></span></code></pre></div><h4 id="or-2">Or:<a hidden class="anchor" aria-hidden="true" href="#or-2">#</a></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">MyMetaClass</span>(type):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __new__(cls, name, parents, attrs):
</span></span><span style="display:flex;"><span>        attrs[<span style="color:#e6db74">&#39;a&#39;</span>] <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;abcde&#39;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> type<span style="color:#f92672">.</span>__new__(cls, name, parents, attrs)
</span></span></code></pre></div><ul>
<li><strong>New() is a class method that gets called before init(). If it returns an instance of its class, then that instance gets passed to init() as a &lsquo;self&rsquo; argument.</strong></li>
<li><strong>It receives the same arguments as init(), except for the first one that specifies the desired type of the returned instance (MyMetaClass in our case).</strong></li>
<li><strong>Like in our case, new() can also be called directly, usually from a new() method of a child class (</strong><code>def __new__(cls): return super().__new__(cls)</code><strong>).</strong></li>
<li><strong>The only difference between the examples above is that my_meta_class() returns a class of type type, while MyMetaClass() returns a class of type MyMetaClass.</strong></li>
</ul>
<h3 id="metaclass-attribute">Metaclass Attribute<a hidden class="anchor" aria-hidden="true" href="#metaclass-attribute">#</a></h3>
<p><strong>Right before a class is created it checks if it has the &lsquo;metaclass&rsquo; attribute defined. If not, it recursively checks if any of his parents has it defined and eventually comes to type().</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">MyClass</span>(metaclass<span style="color:#f92672">=</span>MyMetaClass):
</span></span><span style="display:flex;"><span>    b <span style="color:#f92672">=</span> <span style="color:#ae81ff">12345</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> MyClass<span style="color:#f92672">.</span>a, MyClass<span style="color:#f92672">.</span>b
</span></span><span style="display:flex;"><span>(<span style="color:#e6db74">&#39;abcde&#39;</span>, <span style="color:#ae81ff">12345</span>)
</span></span></code></pre></div><h3 id="type-diagram">Type Diagram<a hidden class="anchor" aria-hidden="true" href="#type-diagram">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>type(MyClass)     <span style="color:#f92672">==</span> MyMetaClass     <span style="color:#75715e"># MyClass is an instance of MyMetaClass.</span>
</span></span><span style="display:flex;"><span>type(MyMetaClass) <span style="color:#f92672">==</span> type            <span style="color:#75715e"># MyMetaClass is an instance of type.</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>+-------------+-------------+
</span></span><span style="display:flex;"><span>|   Classes   | Metaclasses |
</span></span><span style="display:flex;"><span>+-------------+-------------|
</span></span><span style="display:flex;"><span>|   MyClass --&gt; MyMetaClass |
</span></span><span style="display:flex;"><span>|             |     v       |
</span></span><span style="display:flex;"><span>|    object -----&gt; type &lt;+  |
</span></span><span style="display:flex;"><span>|             |     ^ +--+  |
</span></span><span style="display:flex;"><span>|     str ----------+       |
</span></span><span style="display:flex;"><span>+-------------+-------------+
</span></span></code></pre></div><h3 id="inheritance-diagram">Inheritance Diagram<a hidden class="anchor" aria-hidden="true" href="#inheritance-diagram">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>MyClass<span style="color:#f92672">.</span>__base__     <span style="color:#f92672">==</span> object       <span style="color:#75715e"># MyClass is a subclass of object.</span>
</span></span><span style="display:flex;"><span>MyMetaClass<span style="color:#f92672">.</span>__base__ <span style="color:#f92672">==</span> type         <span style="color:#75715e"># MyMetaClass is a subclass of type.</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>+-------------+-------------+
</span></span><span style="display:flex;"><span>|   Classes   | Metaclasses |
</span></span><span style="display:flex;"><span>+-------------+-------------|
</span></span><span style="display:flex;"><span>|   MyClass   | MyMetaClass |
</span></span><span style="display:flex;"><span>|      v      |     v       |
</span></span><span style="display:flex;"><span>|    object &lt;----- type     |
</span></span><span style="display:flex;"><span>|      ^      |             |
</span></span><span style="display:flex;"><span>|     str     |             |
</span></span><span style="display:flex;"><span>+-------------+-------------+
</span></span></code></pre></div><h2 id="eval">Eval<a hidden class="anchor" aria-hidden="true" href="#eval">#</a></h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> <span style="color:#f92672">from</span> ast <span style="color:#f92672">import</span> literal_eval
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> literal_eval(<span style="color:#e6db74">&#39;[1, 2, 3]&#39;</span>)
</span></span><span style="display:flex;"><span>[<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>]
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> literal_eval(<span style="color:#e6db74">&#39;1 + 2&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">ValueError</span>: malformed node <span style="color:#f92672">or</span> string
</span></span></code></pre></div><h2 id="coroutines">Coroutines<a hidden class="anchor" aria-hidden="true" href="#coroutines">#</a></h2>
<ul>
<li><strong>Coroutines have a lot in common with threads, but unlike threads, they only give up control when they call another coroutine and they don‚Äôt use as much memory.</strong></li>
<li><strong>Coroutine definition starts with <code>'async'</code> and its call with <code>'await'</code>.</strong></li>
<li><strong><code>'asyncio.run(&lt;coroutine&gt;)'</code> is the main entry point for asynchronous programs.</strong></li>
<li><strong>Functions wait(), gather() and as_completed() can be used when multiple coroutines need to be started at the same time.</strong></li>
<li><strong>Asyncio module also provides its own <a href="#queue">Queue</a>, <a href="#semaphore-event-barrier">Event</a>, <a href="#lock">Lock</a> and <a href="#semaphore-event-barrier">Semaphore</a> classes.</strong></li>
</ul>
<h4 id="runs-a-terminal-game-where-you-control-an-asterisk-that-must-avoid-numbers">Runs a terminal game where you control an asterisk that must avoid numbers:<a hidden class="anchor" aria-hidden="true" href="#runs-a-terminal-game-where-you-control-an-asterisk-that-must-avoid-numbers">#</a></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> asyncio<span style="color:#f92672">,</span> collections<span style="color:#f92672">,</span> curses<span style="color:#f92672">,</span> curses.textpad<span style="color:#f92672">,</span> enum<span style="color:#f92672">,</span> random
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>P <span style="color:#f92672">=</span> collections<span style="color:#f92672">.</span>namedtuple(<span style="color:#e6db74">&#39;P&#39;</span>, <span style="color:#e6db74">&#39;x y&#39;</span>)         <span style="color:#75715e"># Position</span>
</span></span><span style="display:flex;"><span>D <span style="color:#f92672">=</span> enum<span style="color:#f92672">.</span>Enum(<span style="color:#e6db74">&#39;D&#39;</span>, <span style="color:#e6db74">&#39;n e s w&#39;</span>)                  <span style="color:#75715e"># Direction</span>
</span></span><span style="display:flex;"><span>W, H <span style="color:#f92672">=</span> <span style="color:#ae81ff">15</span>, <span style="color:#ae81ff">7</span>                                   <span style="color:#75715e"># Width, Height</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">main</span>(screen):
</span></span><span style="display:flex;"><span>    curses<span style="color:#f92672">.</span>curs_set(<span style="color:#ae81ff">0</span>)                         <span style="color:#75715e"># Makes cursor invisible.</span>
</span></span><span style="display:flex;"><span>    screen<span style="color:#f92672">.</span>nodelay(<span style="color:#66d9ef">True</span>)                       <span style="color:#75715e"># Makes getch() non-blocking.</span>
</span></span><span style="display:flex;"><span>    asyncio<span style="color:#f92672">.</span>run(main_coroutine(screen))        <span style="color:#75715e"># Starts running asyncio code.</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">async</span> <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">main_coroutine</span>(screen):
</span></span><span style="display:flex;"><span>    state <span style="color:#f92672">=</span> {<span style="color:#e6db74">&#39;*&#39;</span>: P(<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>), <span style="color:#f92672">**</span>{id_: P(W<span style="color:#f92672">//</span><span style="color:#ae81ff">2</span>, H<span style="color:#f92672">//</span><span style="color:#ae81ff">2</span>) <span style="color:#66d9ef">for</span> id_ <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">10</span>)}}
</span></span><span style="display:flex;"><span>    moves <span style="color:#f92672">=</span> asyncio<span style="color:#f92672">.</span>Queue()
</span></span><span style="display:flex;"><span>    coros <span style="color:#f92672">=</span> (<span style="color:#f92672">*</span>(random_controller(id_, moves) <span style="color:#66d9ef">for</span> id_ <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">10</span>)),
</span></span><span style="display:flex;"><span>             human_controller(screen, moves), model(moves, state), view(state, screen))
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">await</span> asyncio<span style="color:#f92672">.</span>wait(coros, return_when<span style="color:#f92672">=</span>asyncio<span style="color:#f92672">.</span>FIRST_COMPLETED)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">async</span> <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">random_controller</span>(id_, moves):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span> <span style="color:#66d9ef">True</span>:
</span></span><span style="display:flex;"><span>        d <span style="color:#f92672">=</span> random<span style="color:#f92672">.</span>choice(list(D))
</span></span><span style="display:flex;"><span>        moves<span style="color:#f92672">.</span>put_nowait((id_, d))
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">await</span> asyncio<span style="color:#f92672">.</span>sleep(random<span style="color:#f92672">.</span>triangular(<span style="color:#ae81ff">0.01</span>, <span style="color:#ae81ff">0.65</span>))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">async</span> <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">human_controller</span>(screen, moves):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span> <span style="color:#66d9ef">True</span>:
</span></span><span style="display:flex;"><span>        ch <span style="color:#f92672">=</span> screen<span style="color:#f92672">.</span>getch()
</span></span><span style="display:flex;"><span>        key_mappings <span style="color:#f92672">=</span> {<span style="color:#ae81ff">258</span>: D<span style="color:#f92672">.</span>s, <span style="color:#ae81ff">259</span>: D<span style="color:#f92672">.</span>n, <span style="color:#ae81ff">260</span>: D<span style="color:#f92672">.</span>w, <span style="color:#ae81ff">261</span>: D<span style="color:#f92672">.</span>e}
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> ch <span style="color:#f92672">in</span> key_mappings:
</span></span><span style="display:flex;"><span>            moves<span style="color:#f92672">.</span>put_nowait((<span style="color:#e6db74">&#39;*&#39;</span>, key_mappings[ch]))
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">await</span> asyncio<span style="color:#f92672">.</span>sleep(<span style="color:#ae81ff">0.005</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">async</span> <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">model</span>(moves, state):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span> state[<span style="color:#e6db74">&#39;*&#39;</span>] <span style="color:#f92672">not</span> <span style="color:#f92672">in</span> (state[id_] <span style="color:#66d9ef">for</span> id_ <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">10</span>)):
</span></span><span style="display:flex;"><span>        id_, d <span style="color:#f92672">=</span> <span style="color:#66d9ef">await</span> moves<span style="color:#f92672">.</span>get()
</span></span><span style="display:flex;"><span>        x, y   <span style="color:#f92672">=</span> state[id_]
</span></span><span style="display:flex;"><span>        deltas <span style="color:#f92672">=</span> {D<span style="color:#f92672">.</span>n: P(<span style="color:#ae81ff">0</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>), D<span style="color:#f92672">.</span>e: P(<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">0</span>), D<span style="color:#f92672">.</span>s: P(<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">1</span>), D<span style="color:#f92672">.</span>w: P(<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">0</span>)}
</span></span><span style="display:flex;"><span>        state[id_] <span style="color:#f92672">=</span> P((x <span style="color:#f92672">+</span> deltas[d]<span style="color:#f92672">.</span>x) <span style="color:#f92672">%</span> W, (y <span style="color:#f92672">+</span> deltas[d]<span style="color:#f92672">.</span>y) <span style="color:#f92672">%</span> H)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">async</span> <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">view</span>(state, screen):
</span></span><span style="display:flex;"><span>    offset <span style="color:#f92672">=</span> P(curses<span style="color:#f92672">.</span>COLS<span style="color:#f92672">//</span><span style="color:#ae81ff">2</span> <span style="color:#f92672">-</span> W<span style="color:#f92672">//</span><span style="color:#ae81ff">2</span>, curses<span style="color:#f92672">.</span>LINES<span style="color:#f92672">//</span><span style="color:#ae81ff">2</span> <span style="color:#f92672">-</span> H<span style="color:#f92672">//</span><span style="color:#ae81ff">2</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span> <span style="color:#66d9ef">True</span>:
</span></span><span style="display:flex;"><span>        screen<span style="color:#f92672">.</span>erase()
</span></span><span style="display:flex;"><span>        curses<span style="color:#f92672">.</span>textpad<span style="color:#f92672">.</span>rectangle(screen, offset<span style="color:#f92672">.</span>y<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>, offset<span style="color:#f92672">.</span>x<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>, offset<span style="color:#f92672">.</span>y<span style="color:#f92672">+</span>H, offset<span style="color:#f92672">.</span>x<span style="color:#f92672">+</span>W)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span> id_, p <span style="color:#f92672">in</span> state<span style="color:#f92672">.</span>items():
</span></span><span style="display:flex;"><span>            screen<span style="color:#f92672">.</span>addstr(offset<span style="color:#f92672">.</span>y <span style="color:#f92672">+</span> (p<span style="color:#f92672">.</span>y <span style="color:#f92672">-</span> state[<span style="color:#e6db74">&#39;*&#39;</span>]<span style="color:#f92672">.</span>y <span style="color:#f92672">+</span> H<span style="color:#f92672">//</span><span style="color:#ae81ff">2</span>) <span style="color:#f92672">%</span> H,
</span></span><span style="display:flex;"><span>                          offset<span style="color:#f92672">.</span>x <span style="color:#f92672">+</span> (p<span style="color:#f92672">.</span>x <span style="color:#f92672">-</span> state[<span style="color:#e6db74">&#39;*&#39;</span>]<span style="color:#f92672">.</span>x <span style="color:#f92672">+</span> W<span style="color:#f92672">//</span><span style="color:#ae81ff">2</span>) <span style="color:#f92672">%</span> W, str(id_))
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">await</span> asyncio<span style="color:#f92672">.</span>sleep(<span style="color:#ae81ff">0.005</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> __name__ <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;__main__&#39;</span>:
</span></span><span style="display:flex;"><span>    curses<span style="color:#f92672">.</span>wrapper(main)
</span></span></code></pre></div><!-- raw HTML omitted -->
<h1 id="libraries">Libraries<a hidden class="anchor" aria-hidden="true" href="#libraries">#</a></h1>
<h2 id="progress-bar">Progress Bar<a hidden class="anchor" aria-hidden="true" href="#progress-bar">#</a></h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># $ pip3 install tqdm</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> <span style="color:#f92672">from</span> tqdm <span style="color:#f92672">import</span> tqdm
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> <span style="color:#f92672">from</span> time <span style="color:#f92672">import</span> sleep
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> <span style="color:#66d9ef">for</span> el <span style="color:#f92672">in</span> tqdm([<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>], desc<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;Processing&#39;</span>):
</span></span><span style="display:flex;"><span><span style="color:#f92672">...</span>     sleep(<span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>Processing: <span style="color:#ae81ff">100</span><span style="color:#f92672">%|</span><span style="color:#960050;background-color:#1e0010">‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà</span><span style="color:#f92672">|</span> <span style="color:#ae81ff">3</span><span style="color:#f92672">/</span><span style="color:#ae81ff">3</span> [<span style="color:#ae81ff">00</span>:<span style="color:#ae81ff">03</span><span style="color:#f92672">&lt;</span><span style="color:#ae81ff">00</span>:<span style="color:#ae81ff">00</span>,  <span style="color:#ae81ff">1.00</span>s<span style="color:#f92672">/</span>it]
</span></span></code></pre></div><h2 id="plot">Plot<a hidden class="anchor" aria-hidden="true" href="#plot">#</a></h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># $ pip3 install matplotlib</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> matplotlib.pyplot <span style="color:#66d9ef">as</span> plt
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>plot(<span style="color:#f92672">&lt;</span>x_data<span style="color:#f92672">&gt;</span>, <span style="color:#f92672">&lt;</span>y_data<span style="color:#f92672">&gt;</span> [, label<span style="color:#f92672">=&lt;</span>str<span style="color:#f92672">&gt;</span>])   <span style="color:#75715e"># Or: plt.plot(&lt;y_data&gt;)</span>
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>legend()                                   <span style="color:#75715e"># Adds a legend.</span>
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>savefig(<span style="color:#f92672">&lt;</span>path<span style="color:#f92672">&gt;</span>)                            <span style="color:#75715e"># Saves the figure.</span>
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>show()                                     <span style="color:#75715e"># Displays the figure.</span>
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>clf()                                      <span style="color:#75715e"># Clears the figure.</span>
</span></span></code></pre></div><h2 id="table">Table<a hidden class="anchor" aria-hidden="true" href="#table">#</a></h2>
<h4 id="prints-a-csv-file-as-an-ascii-table">Prints a CSV file as an ASCII table:<a hidden class="anchor" aria-hidden="true" href="#prints-a-csv-file-as-an-ascii-table">#</a></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># $ pip3 install tabulate</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> csv<span style="color:#f92672">,</span> tabulate
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">with</span> open(<span style="color:#e6db74">&#39;test.csv&#39;</span>, encoding<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;utf-8&#39;</span>, newline<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;&#39;</span>) <span style="color:#66d9ef">as</span> file:
</span></span><span style="display:flex;"><span>    rows   <span style="color:#f92672">=</span> csv<span style="color:#f92672">.</span>reader(file)
</span></span><span style="display:flex;"><span>    header <span style="color:#f92672">=</span> next(rows)
</span></span><span style="display:flex;"><span>    table  <span style="color:#f92672">=</span> tabulate<span style="color:#f92672">.</span>tabulate(rows, header)
</span></span><span style="display:flex;"><span>print(table)
</span></span></code></pre></div><h2 id="curses">Curses<a hidden class="anchor" aria-hidden="true" href="#curses">#</a></h2>
<h4 id="runs-a-basic-file-explorer-in-the-terminal">Runs a basic file explorer in the terminal:<a hidden class="anchor" aria-hidden="true" href="#runs-a-basic-file-explorer-in-the-terminal">#</a></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> curses <span style="color:#f92672">import</span> wrapper, ascii, A_REVERSE, KEY_DOWN, KEY_UP, KEY_LEFT, KEY_RIGHT, KEY_ENTER
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> os <span style="color:#f92672">import</span> listdir, path, chdir
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">main</span>(screen):
</span></span><span style="display:flex;"><span>    ch, first, selected, paths <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>, listdir()
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span> ch <span style="color:#f92672">!=</span> ascii<span style="color:#f92672">.</span>ESC:
</span></span><span style="display:flex;"><span>        height, _ <span style="color:#f92672">=</span> screen<span style="color:#f92672">.</span>getmaxyx()
</span></span><span style="display:flex;"><span>        screen<span style="color:#f92672">.</span>erase()
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span> y, filename <span style="color:#f92672">in</span> enumerate(paths[first : first<span style="color:#f92672">+</span>height]):
</span></span><span style="display:flex;"><span>            screen<span style="color:#f92672">.</span>addstr(y, <span style="color:#ae81ff">0</span>, filename, A_REVERSE <span style="color:#f92672">*</span> (selected <span style="color:#f92672">==</span> first <span style="color:#f92672">+</span> y))
</span></span><span style="display:flex;"><span>        ch <span style="color:#f92672">=</span> screen<span style="color:#f92672">.</span>getch()
</span></span><span style="display:flex;"><span>        selected <span style="color:#f92672">+=</span> (ch <span style="color:#f92672">==</span> KEY_DOWN) <span style="color:#f92672">-</span> (ch <span style="color:#f92672">==</span> KEY_UP)
</span></span><span style="display:flex;"><span>        selected <span style="color:#f92672">=</span> max(<span style="color:#ae81ff">0</span>, min(len(paths)<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>, selected))
</span></span><span style="display:flex;"><span>        first <span style="color:#f92672">+=</span> (first <span style="color:#f92672">&lt;=</span> selected <span style="color:#f92672">-</span> height) <span style="color:#f92672">-</span> (first <span style="color:#f92672">&gt;</span> selected)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> ch <span style="color:#f92672">in</span> [KEY_LEFT, KEY_RIGHT, KEY_ENTER, <span style="color:#ae81ff">10</span>, <span style="color:#ae81ff">13</span>]:
</span></span><span style="display:flex;"><span>            new_dir <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;..&#39;</span> <span style="color:#66d9ef">if</span> ch <span style="color:#f92672">==</span> KEY_LEFT <span style="color:#66d9ef">else</span> paths[selected]
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> path<span style="color:#f92672">.</span>isdir(new_dir):
</span></span><span style="display:flex;"><span>                chdir(new_dir)
</span></span><span style="display:flex;"><span>                first, selected, paths <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>, listdir()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> __name__ <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;__main__&#39;</span>:
</span></span><span style="display:flex;"><span>    wrapper(main)
</span></span></code></pre></div><h2 id="logging">Logging<a hidden class="anchor" aria-hidden="true" href="#logging">#</a></h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># $ pip3 install loguru</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> loguru <span style="color:#f92672">import</span> logger
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>logger<span style="color:#f92672">.</span>add(<span style="color:#e6db74">&#39;debug_</span><span style="color:#e6db74">{time}</span><span style="color:#e6db74">.log&#39;</span>, colorize<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>)  <span style="color:#75715e"># Connects a log file.</span>
</span></span><span style="display:flex;"><span>logger<span style="color:#f92672">.</span>add(<span style="color:#e6db74">&#39;error_</span><span style="color:#e6db74">{time}</span><span style="color:#e6db74">.log&#39;</span>, level<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;ERROR&#39;</span>)  <span style="color:#75715e"># Another file for errors or higher.</span>
</span></span><span style="display:flex;"><span>logger<span style="color:#f92672">.&lt;</span>level<span style="color:#f92672">&gt;</span>(<span style="color:#e6db74">&#39;A logging message.&#39;</span>)
</span></span></code></pre></div><ul>
<li><strong>Levels: <code>'debug'</code>, <code>'info'</code>, <code>'success'</code>, <code>'warning'</code>, <code>'error'</code>, <code>'critical'</code>.</strong></li>
</ul>
<h3 id="exceptions-2">Exceptions<a hidden class="anchor" aria-hidden="true" href="#exceptions-2">#</a></h3>
<p><strong>Exception description, stack trace and values of variables are appended automatically.</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">try</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">...</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">except</span> <span style="color:#f92672">&lt;</span>exception<span style="color:#f92672">&gt;</span>:
</span></span><span style="display:flex;"><span>    logger<span style="color:#f92672">.</span>exception(<span style="color:#e6db74">&#39;An error happened.&#39;</span>)
</span></span></code></pre></div><h3 id="rotation">Rotation<a hidden class="anchor" aria-hidden="true" href="#rotation">#</a></h3>
<p><strong>Argument that sets a condition when a new log file is created.</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>rotation<span style="color:#f92672">=&lt;</span>int<span style="color:#f92672">&gt;|&lt;</span>datetime<span style="color:#f92672">.</span>timedelta<span style="color:#f92672">&gt;|&lt;</span>datetime<span style="color:#f92672">.</span>time<span style="color:#f92672">&gt;|&lt;</span>str<span style="color:#f92672">&gt;</span>
</span></span></code></pre></div><ul>
<li><strong><code>'&lt;int&gt;'</code> - Max file size in bytes.</strong></li>
<li><strong><code>'&lt;timedelta&gt;'</code> - Max age of a file.</strong></li>
<li><strong><code>'&lt;time&gt;'</code> - Time of day.</strong></li>
<li><strong><code>'&lt;str&gt;'</code> - Any of above as a string: <code>'100 MB'</code>, <code>'1 month'</code>, <code>'monday at 12:00'</code>, &hellip;</strong></li>
</ul>
<h3 id="retention">Retention<a hidden class="anchor" aria-hidden="true" href="#retention">#</a></h3>
<p><strong>Sets a condition which old log files get deleted.</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>retention<span style="color:#f92672">=&lt;</span>int<span style="color:#f92672">&gt;|&lt;</span>datetime<span style="color:#f92672">.</span>timedelta<span style="color:#f92672">&gt;|&lt;</span>str<span style="color:#f92672">&gt;</span>
</span></span></code></pre></div><ul>
<li><strong><code>'&lt;int&gt;'</code> - Max number of files.</strong></li>
<li><strong><code>'&lt;timedelta&gt;'</code> - Max age of a file.</strong></li>
<li><strong><code>'&lt;str&gt;'</code> - Max age as a string: <code>'1 week, 3 days'</code>, <code>'2 months'</code>, &hellip;</strong></li>
</ul>
<h2 id="scraping">Scraping<a hidden class="anchor" aria-hidden="true" href="#scraping">#</a></h2>
<h4 id="scrapes-pythons-url-version-number-and-logo-from-its-wikipedia-page">Scrapes Python&rsquo;s URL, version number and logo from its Wikipedia page:<a hidden class="anchor" aria-hidden="true" href="#scrapes-pythons-url-version-number-and-logo-from-its-wikipedia-page">#</a></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># $ pip3 install requests beautifulsoup4</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> requests<span style="color:#f92672">,</span> bs4<span style="color:#f92672">,</span> os<span style="color:#f92672">,</span> sys
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>WIKI_URL <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;https://en.wikipedia.org/wiki/Python_(programming_language)&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">try</span>:
</span></span><span style="display:flex;"><span>    html       <span style="color:#f92672">=</span> requests<span style="color:#f92672">.</span>get(WIKI_URL)<span style="color:#f92672">.</span>text
</span></span><span style="display:flex;"><span>    document   <span style="color:#f92672">=</span> bs4<span style="color:#f92672">.</span>BeautifulSoup(html, <span style="color:#e6db74">&#39;html.parser&#39;</span>)
</span></span><span style="display:flex;"><span>    table      <span style="color:#f92672">=</span> document<span style="color:#f92672">.</span>find(<span style="color:#e6db74">&#39;table&#39;</span>, class_<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;infobox vevent&#39;</span>)
</span></span><span style="display:flex;"><span>    python_url <span style="color:#f92672">=</span> table<span style="color:#f92672">.</span>find(<span style="color:#e6db74">&#39;th&#39;</span>, text<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;Website&#39;</span>)<span style="color:#f92672">.</span>next_sibling<span style="color:#f92672">.</span>a[<span style="color:#e6db74">&#39;href&#39;</span>]
</span></span><span style="display:flex;"><span>    version    <span style="color:#f92672">=</span> table<span style="color:#f92672">.</span>find(<span style="color:#e6db74">&#39;th&#39;</span>, text<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;Stable release&#39;</span>)<span style="color:#f92672">.</span>next_sibling<span style="color:#f92672">.</span>strings<span style="color:#f92672">.</span>__next__()
</span></span><span style="display:flex;"><span>    logo_url   <span style="color:#f92672">=</span> table<span style="color:#f92672">.</span>find(<span style="color:#e6db74">&#39;img&#39;</span>)[<span style="color:#e6db74">&#39;src&#39;</span>]
</span></span><span style="display:flex;"><span>    logo       <span style="color:#f92672">=</span> requests<span style="color:#f92672">.</span>get(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;https:</span><span style="color:#e6db74">{</span>logo_url<span style="color:#e6db74">}</span><span style="color:#e6db74">&#39;</span>)<span style="color:#f92672">.</span>content
</span></span><span style="display:flex;"><span>    filename   <span style="color:#f92672">=</span> os<span style="color:#f92672">.</span>path<span style="color:#f92672">.</span>basename(logo_url)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">with</span> open(filename, <span style="color:#e6db74">&#39;wb&#39;</span>) <span style="color:#66d9ef">as</span> file:
</span></span><span style="display:flex;"><span>        file<span style="color:#f92672">.</span>write(logo)
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">{</span>python_url<span style="color:#e6db74">}</span><span style="color:#e6db74">, </span><span style="color:#e6db74">{</span>version<span style="color:#e6db74">}</span><span style="color:#e6db74">, file://</span><span style="color:#e6db74">{</span>os<span style="color:#f92672">.</span>path<span style="color:#f92672">.</span>abspath(filename)<span style="color:#e6db74">}</span><span style="color:#e6db74">&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">except</span> requests<span style="color:#f92672">.</span>exceptions<span style="color:#f92672">.</span>ConnectionError:
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">&#34;You&#39;ve got problems with connection.&#34;</span>, file<span style="color:#f92672">=</span>sys<span style="color:#f92672">.</span>stderr)
</span></span></code></pre></div><h2 id="web">Web<a hidden class="anchor" aria-hidden="true" href="#web">#</a></h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># $ pip3 install bottle</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> bottle <span style="color:#f92672">import</span> run, route, static_file, template, post, request, response
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> json
</span></span></code></pre></div><h3 id="run">Run<a hidden class="anchor" aria-hidden="true" href="#run">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>run(host<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;localhost&#39;</span>, port<span style="color:#f92672">=</span><span style="color:#ae81ff">8080</span>)        <span style="color:#75715e"># Runs locally.</span>
</span></span><span style="display:flex;"><span>run(host<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;0.0.0.0&#39;</span>, port<span style="color:#f92672">=</span><span style="color:#ae81ff">80</span>)            <span style="color:#75715e"># Runs globally.</span>
</span></span></code></pre></div><h3 id="static-request">Static Request<a hidden class="anchor" aria-hidden="true" href="#static-request">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#a6e22e">@route</span>(<span style="color:#e6db74">&#39;/img/&lt;filename&gt;&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">send_file</span>(filename):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> static_file(filename, root<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;img_dir/&#39;</span>)
</span></span></code></pre></div><h3 id="dynamic-request">Dynamic Request<a hidden class="anchor" aria-hidden="true" href="#dynamic-request">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#a6e22e">@route</span>(<span style="color:#e6db74">&#39;/&lt;sport&gt;&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">send_html</span>(sport):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> template(<span style="color:#e6db74">&#39;&lt;h1&gt;{{title}}&lt;/h1&gt;&#39;</span>, title<span style="color:#f92672">=</span>sport)
</span></span></code></pre></div><h3 id="rest-request">REST Request<a hidden class="anchor" aria-hidden="true" href="#rest-request">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#a6e22e">@post</span>(<span style="color:#e6db74">&#39;/&lt;sport&gt;/odds&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">send_json</span>(sport):
</span></span><span style="display:flex;"><span>    team <span style="color:#f92672">=</span> request<span style="color:#f92672">.</span>forms<span style="color:#f92672">.</span>get(<span style="color:#e6db74">&#39;team&#39;</span>)
</span></span><span style="display:flex;"><span>    response<span style="color:#f92672">.</span>headers[<span style="color:#e6db74">&#39;Content-Type&#39;</span>] <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;application/json&#39;</span>
</span></span><span style="display:flex;"><span>    response<span style="color:#f92672">.</span>headers[<span style="color:#e6db74">&#39;Cache-Control&#39;</span>] <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;no-cache&#39;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> json<span style="color:#f92672">.</span>dumps({<span style="color:#e6db74">&#39;team&#39;</span>: team, <span style="color:#e6db74">&#39;odds&#39;</span>: [<span style="color:#ae81ff">2.09</span>, <span style="color:#ae81ff">3.74</span>, <span style="color:#ae81ff">3.68</span>]})
</span></span></code></pre></div><h4 id="test">Test:<a hidden class="anchor" aria-hidden="true" href="#test">#</a></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># $ pip3 install requests</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> <span style="color:#f92672">import</span> threading<span style="color:#f92672">,</span> requests
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> threading<span style="color:#f92672">.</span>Thread(target<span style="color:#f92672">=</span>run, daemon<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>)<span style="color:#f92672">.</span>start()
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> url <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;http://localhost:8080/football/odds&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> request_data <span style="color:#f92672">=</span> {<span style="color:#e6db74">&#39;team&#39;</span>: <span style="color:#e6db74">&#39;arsenal f.c.&#39;</span>}
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> response <span style="color:#f92672">=</span> requests<span style="color:#f92672">.</span>post(url, data<span style="color:#f92672">=</span>request_data)
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> response<span style="color:#f92672">.</span>json()
</span></span><span style="display:flex;"><span>{<span style="color:#e6db74">&#39;team&#39;</span>: <span style="color:#e6db74">&#39;arsenal f.c.&#39;</span>, <span style="color:#e6db74">&#39;odds&#39;</span>: [<span style="color:#ae81ff">2.09</span>, <span style="color:#ae81ff">3.74</span>, <span style="color:#ae81ff">3.68</span>]}
</span></span></code></pre></div><h2 id="profiling">Profiling<a hidden class="anchor" aria-hidden="true" href="#profiling">#</a></h2>
<h3 id="stopwatch">Stopwatch<a hidden class="anchor" aria-hidden="true" href="#stopwatch">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> time <span style="color:#f92672">import</span> time
</span></span><span style="display:flex;"><span>start_time <span style="color:#f92672">=</span> time()                     <span style="color:#75715e"># Seconds since the Epoch.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">...</span>
</span></span><span style="display:flex;"><span>duration <span style="color:#f92672">=</span> time() <span style="color:#f92672">-</span> start_time
</span></span></code></pre></div><h4 id="high-performance">High performance:<a hidden class="anchor" aria-hidden="true" href="#high-performance">#</a></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> time <span style="color:#f92672">import</span> perf_counter
</span></span><span style="display:flex;"><span>start_time <span style="color:#f92672">=</span> perf_counter()             <span style="color:#75715e"># Seconds since the restart.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">...</span>
</span></span><span style="display:flex;"><span>duration <span style="color:#f92672">=</span> perf_counter() <span style="color:#f92672">-</span> start_time
</span></span></code></pre></div><h3 id="timing-a-snippet">Timing a Snippet<a hidden class="anchor" aria-hidden="true" href="#timing-a-snippet">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> <span style="color:#f92672">from</span> timeit <span style="color:#f92672">import</span> timeit
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> timeit(<span style="color:#e6db74">&#34;&#39;&#39;.join(str(i) for i in range(100))&#34;</span>,
</span></span><span style="display:flex;"><span><span style="color:#f92672">...</span>        number<span style="color:#f92672">=</span><span style="color:#ae81ff">10000</span>, globals<span style="color:#f92672">=</span>globals(), setup<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;pass&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">0.34986</span>
</span></span></code></pre></div><h3 id="profiling-by-line">Profiling by Line<a hidden class="anchor" aria-hidden="true" href="#profiling-by-line">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># $ pip3 install line_profiler memory_profiler</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">@profile</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">main</span>():
</span></span><span style="display:flex;"><span>    a <span style="color:#f92672">=</span> [<span style="color:#f92672">*</span>range(<span style="color:#ae81ff">10000</span>)]
</span></span><span style="display:flex;"><span>    b <span style="color:#f92672">=</span> {<span style="color:#f92672">*</span>range(<span style="color:#ae81ff">10000</span>)}
</span></span><span style="display:flex;"><span>main()
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>$ kernprof -lv test.py
</span></span><span style="display:flex;"><span>Line #   Hits     Time  Per Hit   % Time  Line Contents
</span></span><span style="display:flex;"><span>=======================================================
</span></span><span style="display:flex;"><span>     1                                    @profile
</span></span><span style="display:flex;"><span>     2                                    def main():
</span></span><span style="display:flex;"><span>     3      1    955.0    955.0     43.7      a = [*range(10000)]
</span></span><span style="display:flex;"><span>     4      1   1231.0   1231.0     56.3      b = {*range(10000)}
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>$ python3 -m memory_profiler test.py
</span></span><span style="display:flex;"><span>Line #         Mem usage      Increment   Line Contents
</span></span><span style="display:flex;"><span>=======================================================
</span></span><span style="display:flex;"><span>     1        37.668 MiB     37.668 MiB   @profile
</span></span><span style="display:flex;"><span>     2                                    def main():
</span></span><span style="display:flex;"><span>     3        38.012 MiB      0.344 MiB       a = [*range(10000)]
</span></span><span style="display:flex;"><span>     4        38.477 MiB      0.465 MiB       b = {*range(10000)}
</span></span></code></pre></div><h3 id="call-graph">Call Graph<a hidden class="anchor" aria-hidden="true" href="#call-graph">#</a></h3>
<h4 id="generates-a-png-image-of-the-call-graph-with-highlighted-bottlenecks">Generates a PNG image of the call graph with highlighted bottlenecks:<a hidden class="anchor" aria-hidden="true" href="#generates-a-png-image-of-the-call-graph-with-highlighted-bottlenecks">#</a></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># $ pip3 install pycallgraph2</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># $ apt install graphviz</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> pycallgraph2 <span style="color:#66d9ef">as</span> cg<span style="color:#f92672">,</span> datetime
</span></span><span style="display:flex;"><span>filename <span style="color:#f92672">=</span> <span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;profile-</span><span style="color:#e6db74">{</span>datetime<span style="color:#f92672">.</span>datetime<span style="color:#f92672">.</span>now()<span style="color:#e6db74">:</span><span style="color:#e6db74">%Y%m%d%H%M%S</span><span style="color:#e6db74">}</span><span style="color:#e6db74">.png&#39;</span>
</span></span><span style="display:flex;"><span>drawer <span style="color:#f92672">=</span> cg<span style="color:#f92672">.</span>output<span style="color:#f92672">.</span>GraphvizOutput(output_file<span style="color:#f92672">=</span>filename)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">with</span> cg<span style="color:#f92672">.</span>PyCallGraph(drawer):
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;</span>code_to_be_profiled<span style="color:#f92672">&gt;</span>
</span></span></code></pre></div><h2 id="numpy">NumPy<a hidden class="anchor" aria-hidden="true" href="#numpy">#</a></h2>
<p><strong>Array manipulation mini-language. It can run up to one hundred times faster than the equivalent Python code. An even faster alternative that runs on a GPU is called CuPy.</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># $ pip3 install numpy</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> numpy <span style="color:#66d9ef">as</span> np
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>array<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>array(<span style="color:#f92672">&lt;</span>list<span style="color:#f92672">/</span>list_of_lists<span style="color:#f92672">&gt;</span>)
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>array<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>arange(from_inclusive, to_exclusive, <span style="color:#960050;background-color:#1e0010">¬±</span>step_size)
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>array<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>ones(<span style="color:#f92672">&lt;</span>shape<span style="color:#f92672">&gt;</span>)
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>array<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>randint(from_inclusive, to_exclusive, <span style="color:#f92672">&lt;</span>shape<span style="color:#f92672">&gt;</span>)
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>array<span style="color:#f92672">&gt;.</span>shape <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>shape<span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>view<span style="color:#f92672">&gt;</span>  <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>array<span style="color:#f92672">&gt;.</span>reshape(<span style="color:#f92672">&lt;</span>shape<span style="color:#f92672">&gt;</span>)
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>view<span style="color:#f92672">&gt;</span>  <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>broadcast_to(<span style="color:#f92672">&lt;</span>array<span style="color:#f92672">&gt;</span>, <span style="color:#f92672">&lt;</span>shape<span style="color:#f92672">&gt;</span>)
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>array<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>array<span style="color:#f92672">&gt;.</span>sum(axis)
</span></span><span style="display:flex;"><span>indexes <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>array<span style="color:#f92672">&gt;.</span>argmin(axis)
</span></span></code></pre></div><ul>
<li><strong>Shape is a tuple of dimension sizes.</strong></li>
<li><strong>Axis is an index of the dimension that gets aggregated. Leftmost dimension has index 0.</strong></li>
</ul>
<h3 id="indexing">Indexing<a hidden class="anchor" aria-hidden="true" href="#indexing">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>&lt;el&gt;       <span style="color:#f92672">=</span> &lt;2d_array&gt;<span style="color:#f92672">[</span>row_index, column_index<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>&lt;1d_view&gt;  <span style="color:#f92672">=</span> &lt;2d_array&gt;<span style="color:#f92672">[</span>row_index<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>&lt;1d_view&gt;  <span style="color:#f92672">=</span> &lt;2d_array&gt;<span style="color:#f92672">[</span>:, column_index<span style="color:#f92672">]</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>&lt;1d_array&gt; <span style="color:#f92672">=</span> &lt;2d_array&gt;<span style="color:#f92672">[</span>row_indexes, column_indexes<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>&lt;2d_array&gt; <span style="color:#f92672">=</span> &lt;2d_array&gt;<span style="color:#f92672">[</span>row_indexes<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>&lt;2d_array&gt; <span style="color:#f92672">=</span> &lt;2d_array&gt;<span style="color:#f92672">[</span>:, column_indexes<span style="color:#f92672">]</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>&lt;2d_bools&gt; <span style="color:#f92672">=</span> &lt;2d_array&gt; &gt;&lt;<span style="color:#f92672">==</span> &lt;el&gt;
</span></span><span style="display:flex;"><span>&lt;1d_array&gt; <span style="color:#f92672">=</span> &lt;2d_array&gt;<span style="color:#f92672">[</span>&lt;2d_bools&gt;<span style="color:#f92672">]</span>
</span></span></code></pre></div><h3 id="broadcasting">Broadcasting<a hidden class="anchor" aria-hidden="true" href="#broadcasting">#</a></h3>
<p><strong>Broadcasting is a set of rules by which NumPy functions operate on arrays of different sizes and/or dimensions.</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>left  <span style="color:#f92672">=</span> [[<span style="color:#ae81ff">0.1</span>], [<span style="color:#ae81ff">0.6</span>], [<span style="color:#ae81ff">0.8</span>]]        <span style="color:#75715e"># Shape: (3, 1)</span>
</span></span><span style="display:flex;"><span>right <span style="color:#f92672">=</span> [ <span style="color:#ae81ff">0.1</span> ,  <span style="color:#ae81ff">0.6</span> ,  <span style="color:#ae81ff">0.8</span> ]        <span style="color:#75715e"># Shape: (3)</span>
</span></span></code></pre></div><h4 id="1-if-array-shapes-differ-in-length-left-pad-the-shorter-shape-with-ones">1. If array shapes differ in length, left-pad the shorter shape with ones:<a hidden class="anchor" aria-hidden="true" href="#1-if-array-shapes-differ-in-length-left-pad-the-shorter-shape-with-ones">#</a></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>left  <span style="color:#f92672">=</span> [[<span style="color:#ae81ff">0.1</span>], [<span style="color:#ae81ff">0.6</span>], [<span style="color:#ae81ff">0.8</span>]]        <span style="color:#75715e"># Shape: (3, 1)</span>
</span></span><span style="display:flex;"><span>right <span style="color:#f92672">=</span> [[<span style="color:#ae81ff">0.1</span> ,  <span style="color:#ae81ff">0.6</span> ,  <span style="color:#ae81ff">0.8</span>]]        <span style="color:#75715e"># Shape: (1, 3) &lt;- !</span>
</span></span></code></pre></div><h4 id="2-if-any-dimensions-differ-in-size-expand-the-ones-that-have-size-1-by-duplicating-their-elements">2. If any dimensions differ in size, expand the ones that have size 1 by duplicating their elements:<a hidden class="anchor" aria-hidden="true" href="#2-if-any-dimensions-differ-in-size-expand-the-ones-that-have-size-1-by-duplicating-their-elements">#</a></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>left  <span style="color:#f92672">=</span> [[<span style="color:#ae81ff">0.1</span>, <span style="color:#ae81ff">0.1</span>, <span style="color:#ae81ff">0.1</span>], [<span style="color:#ae81ff">0.6</span>, <span style="color:#ae81ff">0.6</span>, <span style="color:#ae81ff">0.6</span>], [<span style="color:#ae81ff">0.8</span>, <span style="color:#ae81ff">0.8</span>, <span style="color:#ae81ff">0.8</span>]]  <span style="color:#75715e"># Shape: (3, 3) &lt;- !</span>
</span></span><span style="display:flex;"><span>right <span style="color:#f92672">=</span> [[<span style="color:#ae81ff">0.1</span>, <span style="color:#ae81ff">0.6</span>, <span style="color:#ae81ff">0.8</span>], [<span style="color:#ae81ff">0.1</span>, <span style="color:#ae81ff">0.6</span>, <span style="color:#ae81ff">0.8</span>], [<span style="color:#ae81ff">0.1</span>, <span style="color:#ae81ff">0.6</span>, <span style="color:#ae81ff">0.8</span>]]  <span style="color:#75715e"># Shape: (3, 3) &lt;- !</span>
</span></span></code></pre></div><h4 id="3-if-neither-non-matching-dimension-has-size-1-raise-an-error">3. If neither non-matching dimension has size 1, raise an error.<a hidden class="anchor" aria-hidden="true" href="#3-if-neither-non-matching-dimension-has-size-1-raise-an-error">#</a></h4>
<h3 id="example-1">Example<a hidden class="anchor" aria-hidden="true" href="#example-1">#</a></h3>
<h4 id="for-each-point-returns-index-of-its-nearest-point-01-06-08--1-2-1">For each point returns index of its nearest point (<code>[0.1, 0.6, 0.8] =&gt; [1, 2, 1]</code>):<a hidden class="anchor" aria-hidden="true" href="#for-each-point-returns-index-of-its-nearest-point-01-06-08--1-2-1">#</a></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> points <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>array([<span style="color:#ae81ff">0.1</span>, <span style="color:#ae81ff">0.6</span>, <span style="color:#ae81ff">0.8</span>])
</span></span><span style="display:flex;"><span> [ <span style="color:#ae81ff">0.1</span>,  <span style="color:#ae81ff">0.6</span>,  <span style="color:#ae81ff">0.8</span>]
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> wrapped_points <span style="color:#f92672">=</span> points<span style="color:#f92672">.</span>reshape(<span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>[[ <span style="color:#ae81ff">0.1</span>],
</span></span><span style="display:flex;"><span> [ <span style="color:#ae81ff">0.6</span>],
</span></span><span style="display:flex;"><span> [ <span style="color:#ae81ff">0.8</span>]]
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> distances <span style="color:#f92672">=</span> wrapped_points <span style="color:#f92672">-</span> points
</span></span><span style="display:flex;"><span>[[ <span style="color:#ae81ff">0.</span> , <span style="color:#f92672">-</span><span style="color:#ae81ff">0.5</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">0.7</span>],
</span></span><span style="display:flex;"><span> [ <span style="color:#ae81ff">0.5</span>,  <span style="color:#ae81ff">0.</span> , <span style="color:#f92672">-</span><span style="color:#ae81ff">0.2</span>],
</span></span><span style="display:flex;"><span> [ <span style="color:#ae81ff">0.7</span>,  <span style="color:#ae81ff">0.2</span>,  <span style="color:#ae81ff">0.</span> ]]
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> distances <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>abs(distances)
</span></span><span style="display:flex;"><span>[[ <span style="color:#ae81ff">0.</span> ,  <span style="color:#ae81ff">0.5</span>,  <span style="color:#ae81ff">0.7</span>],
</span></span><span style="display:flex;"><span> [ <span style="color:#ae81ff">0.5</span>,  <span style="color:#ae81ff">0.</span> ,  <span style="color:#ae81ff">0.2</span>],
</span></span><span style="display:flex;"><span> [ <span style="color:#ae81ff">0.7</span>,  <span style="color:#ae81ff">0.2</span>,  <span style="color:#ae81ff">0.</span> ]]
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> i <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>arange(<span style="color:#ae81ff">3</span>)
</span></span><span style="display:flex;"><span>[<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>]
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> distances[i, i] <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>inf
</span></span><span style="display:flex;"><span>[[ inf,  <span style="color:#ae81ff">0.5</span>,  <span style="color:#ae81ff">0.7</span>],
</span></span><span style="display:flex;"><span> [ <span style="color:#ae81ff">0.5</span>,  inf,  <span style="color:#ae81ff">0.2</span>],
</span></span><span style="display:flex;"><span> [ <span style="color:#ae81ff">0.7</span>,  <span style="color:#ae81ff">0.2</span>,  inf]]
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> distances<span style="color:#f92672">.</span>argmin(<span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>[<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">1</span>]
</span></span></code></pre></div><h2 id="image">Image<a hidden class="anchor" aria-hidden="true" href="#image">#</a></h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># $ pip3 install pillow</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> PIL <span style="color:#f92672">import</span> Image
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Image<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> Image<span style="color:#f92672">.</span>new(<span style="color:#e6db74">&#39;&lt;mode&gt;&#39;</span>, (width, height))  <span style="color:#75715e"># Also: `color=&lt;int/tuple/str&gt;`.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Image<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> Image<span style="color:#f92672">.</span>open(<span style="color:#f92672">&lt;</span>path<span style="color:#f92672">&gt;</span>)                    <span style="color:#75715e"># Identifies format based on file contents.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Image<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>Image<span style="color:#f92672">&gt;.</span>convert(<span style="color:#e6db74">&#39;&lt;mode&gt;&#39;</span>)             <span style="color:#75715e"># Converts image to the new mode.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Image<span style="color:#f92672">&gt;.</span>save(<span style="color:#f92672">&lt;</span>path<span style="color:#f92672">&gt;</span>)                            <span style="color:#75715e"># Selects format based on the path extension.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Image<span style="color:#f92672">&gt;.</span>show()                                  <span style="color:#75715e"># Opens image in default preview app.</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>int<span style="color:#f92672">/</span>tuple<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>Image<span style="color:#f92672">&gt;.</span>getpixel((x, y))          <span style="color:#75715e"># Returns a pixel.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Image<span style="color:#f92672">&gt;.</span>putpixel((x, y), <span style="color:#f92672">&lt;</span>int<span style="color:#f92672">/</span>tuple<span style="color:#f92672">&gt;</span>)           <span style="color:#75715e"># Writes a pixel to the image.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>ImagingCore<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>Image<span style="color:#f92672">&gt;.</span>getdata()               <span style="color:#75715e"># Returns a flattened sequence of pixels.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Image<span style="color:#f92672">&gt;.</span>putdata(<span style="color:#f92672">&lt;</span>list<span style="color:#f92672">/</span>ImagingCore<span style="color:#f92672">&gt;</span>)             <span style="color:#75715e"># Writes a flattened sequence of pixels.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Image<span style="color:#f92672">&gt;.</span>paste(<span style="color:#f92672">&lt;</span>Image<span style="color:#f92672">&gt;</span>, (x, y))                  <span style="color:#75715e"># Writes an image to the image.</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>&lt;2d_array&gt; <span style="color:#f92672">=</span> np.array<span style="color:#f92672">(</span>&lt;Image_L&gt;<span style="color:#f92672">)</span>                <span style="color:#75715e"># Creates NumPy array from greyscale image.</span>
</span></span><span style="display:flex;"><span>&lt;3d_array&gt; <span style="color:#f92672">=</span> np.array<span style="color:#f92672">(</span>&lt;Image_RGB&gt;<span style="color:#f92672">)</span>              <span style="color:#75715e"># Creates NumPy array from color image.</span>
</span></span><span style="display:flex;"><span>&lt;Image&gt;    <span style="color:#f92672">=</span> Image.fromarray<span style="color:#f92672">(</span>&lt;array&gt;<span style="color:#f92672">)</span>           <span style="color:#75715e"># Creates image from NumPy array of floats.</span>
</span></span></code></pre></div><h3 id="modes-1">Modes<a hidden class="anchor" aria-hidden="true" href="#modes-1">#</a></h3>
<ul>
<li><strong><code>'1'</code> - 1-bit pixels, black and white, stored with one pixel per byte.</strong></li>
<li><strong><code>'L'</code> - 8-bit pixels, greyscale.</strong></li>
<li><strong><code>'RGB'</code> - 3x8-bit pixels, true color.</strong></li>
<li><strong><code>'RGBA'</code> - 4x8-bit pixels, true color with transparency mask.</strong></li>
<li><strong><code>'HSV'</code> - 3x8-bit pixels, Hue, Saturation, Value color space.</strong></li>
</ul>
<h3 id="examples">Examples<a hidden class="anchor" aria-hidden="true" href="#examples">#</a></h3>
<h4 id="creates-a-png-image-of-a-rainbow-gradient">Creates a PNG image of a rainbow gradient:<a hidden class="anchor" aria-hidden="true" href="#creates-a-png-image-of-a-rainbow-gradient">#</a></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>WIDTH, HEIGHT <span style="color:#f92672">=</span> <span style="color:#ae81ff">100</span>, <span style="color:#ae81ff">100</span>
</span></span><span style="display:flex;"><span>n_pixels <span style="color:#f92672">=</span> WIDTH <span style="color:#f92672">*</span> HEIGHT
</span></span><span style="display:flex;"><span>hues <span style="color:#f92672">=</span> (<span style="color:#ae81ff">255</span> <span style="color:#f92672">*</span> i<span style="color:#f92672">/</span>n_pixels <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(n_pixels))
</span></span><span style="display:flex;"><span>img <span style="color:#f92672">=</span> Image<span style="color:#f92672">.</span>new(<span style="color:#e6db74">&#39;HSV&#39;</span>, (WIDTH, HEIGHT))
</span></span><span style="display:flex;"><span>img<span style="color:#f92672">.</span>putdata([(int(h), <span style="color:#ae81ff">255</span>, <span style="color:#ae81ff">255</span>) <span style="color:#66d9ef">for</span> h <span style="color:#f92672">in</span> hues])
</span></span><span style="display:flex;"><span>img<span style="color:#f92672">.</span>convert(<span style="color:#e6db74">&#39;RGB&#39;</span>)<span style="color:#f92672">.</span>save(<span style="color:#e6db74">&#39;test.png&#39;</span>)
</span></span></code></pre></div><h4 id="adds-noise-to-a-png-image">Adds noise to a PNG image:<a hidden class="anchor" aria-hidden="true" href="#adds-noise-to-a-png-image">#</a></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> random <span style="color:#f92672">import</span> randint
</span></span><span style="display:flex;"><span>add_noise <span style="color:#f92672">=</span> <span style="color:#66d9ef">lambda</span> value: max(<span style="color:#ae81ff">0</span>, min(<span style="color:#ae81ff">255</span>, value <span style="color:#f92672">+</span> randint(<span style="color:#f92672">-</span><span style="color:#ae81ff">20</span>, <span style="color:#ae81ff">20</span>)))
</span></span><span style="display:flex;"><span>img <span style="color:#f92672">=</span> Image<span style="color:#f92672">.</span>open(<span style="color:#e6db74">&#39;test.png&#39;</span>)<span style="color:#f92672">.</span>convert(<span style="color:#e6db74">&#39;HSV&#39;</span>)
</span></span><span style="display:flex;"><span>img<span style="color:#f92672">.</span>putdata([(add_noise(h), s, v) <span style="color:#66d9ef">for</span> h, s, v <span style="color:#f92672">in</span> img<span style="color:#f92672">.</span>getdata()])
</span></span><span style="display:flex;"><span>img<span style="color:#f92672">.</span>convert(<span style="color:#e6db74">&#39;RGB&#39;</span>)<span style="color:#f92672">.</span>save(<span style="color:#e6db74">&#39;test.png&#39;</span>)
</span></span></code></pre></div><h3 id="image-draw">Image Draw<a hidden class="anchor" aria-hidden="true" href="#image-draw">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> PIL <span style="color:#f92672">import</span> ImageDraw
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>ImageDraw<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> ImageDraw<span style="color:#f92672">.</span>Draw(<span style="color:#f92672">&lt;</span>Image<span style="color:#f92672">&gt;</span>)
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>ImageDraw<span style="color:#f92672">&gt;.</span>point((x, y))
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>ImageDraw<span style="color:#f92672">&gt;.</span>line((x1, y1, x2, y2 [, <span style="color:#f92672">...</span>]))
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>ImageDraw<span style="color:#f92672">&gt;.</span>arc((x1, y1, x2, y2), from_deg, to_deg)
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>ImageDraw<span style="color:#f92672">&gt;.</span>rectangle((x1, y1, x2, y2))
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>ImageDraw<span style="color:#f92672">&gt;.</span>polygon((x1, y1, x2, y2 [, <span style="color:#f92672">...</span>]))
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>ImageDraw<span style="color:#f92672">&gt;.</span>ellipse((x1, y1, x2, y2))
</span></span></code></pre></div><ul>
<li><strong>Use <code>'fill=&lt;color&gt;'</code> to set the primary color.</strong></li>
<li><strong>Use <code>'width=&lt;int&gt;'</code> to set the width of lines or contours.</strong></li>
<li><strong>Use <code>'outline=&lt;color&gt;'</code> to set the color of the contours.</strong></li>
<li><strong>Colors can be specified as an int, tuple, <code>'#rrggbb[aa]'</code> string or a color name.</strong></li>
</ul>
<h2 id="animation">Animation<a hidden class="anchor" aria-hidden="true" href="#animation">#</a></h2>
<h4 id="creates-a-gif-of-a-bouncing-ball">Creates a GIF of a bouncing ball:<a hidden class="anchor" aria-hidden="true" href="#creates-a-gif-of-a-bouncing-ball">#</a></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># $ pip3 install imageio</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> PIL <span style="color:#f92672">import</span> Image, ImageDraw
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> imageio
</span></span><span style="display:flex;"><span>WIDTH, HEIGHT, R <span style="color:#f92672">=</span> <span style="color:#ae81ff">126</span>, <span style="color:#ae81ff">126</span>, <span style="color:#ae81ff">10</span>
</span></span><span style="display:flex;"><span>frames <span style="color:#f92672">=</span> []
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> velocity <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">16</span>):
</span></span><span style="display:flex;"><span>    y <span style="color:#f92672">=</span> sum(range(velocity))
</span></span><span style="display:flex;"><span>    frame <span style="color:#f92672">=</span> Image<span style="color:#f92672">.</span>new(<span style="color:#e6db74">&#39;L&#39;</span>, (WIDTH, HEIGHT))
</span></span><span style="display:flex;"><span>    draw  <span style="color:#f92672">=</span> ImageDraw<span style="color:#f92672">.</span>Draw(frame)
</span></span><span style="display:flex;"><span>    draw<span style="color:#f92672">.</span>ellipse((WIDTH<span style="color:#f92672">/</span><span style="color:#ae81ff">2</span><span style="color:#f92672">-</span>R, y, WIDTH<span style="color:#f92672">/</span><span style="color:#ae81ff">2</span><span style="color:#f92672">+</span>R, y<span style="color:#f92672">+</span>R<span style="color:#f92672">*</span><span style="color:#ae81ff">2</span>), fill<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;white&#39;</span>)
</span></span><span style="display:flex;"><span>    frames<span style="color:#f92672">.</span>append(frame)
</span></span><span style="display:flex;"><span>frames <span style="color:#f92672">+=</span> reversed(frames[<span style="color:#ae81ff">1</span>:<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>])
</span></span><span style="display:flex;"><span>imageio<span style="color:#f92672">.</span>mimsave(<span style="color:#e6db74">&#39;test.gif&#39;</span>, frames, duration<span style="color:#f92672">=</span><span style="color:#ae81ff">0.03</span>)
</span></span></code></pre></div><h2 id="audio">Audio<a hidden class="anchor" aria-hidden="true" href="#audio">#</a></h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> wave
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Wave_read<span style="color:#f92672">&gt;</span>  <span style="color:#f92672">=</span> wave<span style="color:#f92672">.</span>open(<span style="color:#e6db74">&#39;&lt;path&gt;&#39;</span>, <span style="color:#e6db74">&#39;rb&#39;</span>)        <span style="color:#75715e"># Opens the WAV file.</span>
</span></span><span style="display:flex;"><span>framerate    <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>Wave_read<span style="color:#f92672">&gt;.</span>getframerate()       <span style="color:#75715e"># Number of frames per second.</span>
</span></span><span style="display:flex;"><span>nchannels    <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>Wave_read<span style="color:#f92672">&gt;.</span>getnchannels()       <span style="color:#75715e"># Number of samples per frame.</span>
</span></span><span style="display:flex;"><span>sampwidth    <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>Wave_read<span style="color:#f92672">&gt;.</span>getsampwidth()       <span style="color:#75715e"># Sample size in bytes.</span>
</span></span><span style="display:flex;"><span>nframes      <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>Wave_read<span style="color:#f92672">&gt;.</span>getnframes()         <span style="color:#75715e"># Number of frames.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>params<span style="color:#f92672">&gt;</span>     <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>Wave_read<span style="color:#f92672">&gt;.</span>getparams()          <span style="color:#75715e"># Immutable collection of above.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>bytes<span style="color:#f92672">&gt;</span>      <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>Wave_read<span style="color:#f92672">&gt;.</span>readframes(nframes)  <span style="color:#75715e"># Returns next &#39;nframes&#39; frames.</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Wave_write<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> wave<span style="color:#f92672">.</span>open(<span style="color:#e6db74">&#39;&lt;path&gt;&#39;</span>, <span style="color:#e6db74">&#39;wb&#39;</span>)        <span style="color:#75715e"># Truncates existing file.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Wave_write<span style="color:#f92672">&gt;.</span>setframerate(<span style="color:#f92672">&lt;</span>int<span style="color:#f92672">&gt;</span>)                <span style="color:#75715e"># 44100 for CD, 48000 for video.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Wave_write<span style="color:#f92672">&gt;.</span>setnchannels(<span style="color:#f92672">&lt;</span>int<span style="color:#f92672">&gt;</span>)                <span style="color:#75715e"># 1 for mono, 2 for stereo.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Wave_write<span style="color:#f92672">&gt;.</span>setsampwidth(<span style="color:#f92672">&lt;</span>int<span style="color:#f92672">&gt;</span>)                <span style="color:#75715e"># 2 for CD quality sound.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Wave_write<span style="color:#f92672">&gt;.</span>setparams(<span style="color:#f92672">&lt;</span>params<span style="color:#f92672">&gt;</span>)                <span style="color:#75715e"># Sets all parameters.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Wave_write<span style="color:#f92672">&gt;.</span>writeframes(<span style="color:#f92672">&lt;</span>bytes<span style="color:#f92672">&gt;</span>)               <span style="color:#75715e"># Appends frames to the file.</span>
</span></span></code></pre></div><ul>
<li><strong>Bytes object contains a sequence of frames, each consisting of one or more samples.</strong></li>
<li><strong>In a stereo signal, the first sample of a frame belongs to the left channel.</strong></li>
<li><strong>Each sample consists of one or more bytes that, when converted to an integer, indicate the displacement of a speaker membrane at a given moment.</strong></li>
<li><strong>If sample width is one byte, then the integer should be encoded unsigned.</strong></li>
<li><strong>For all other sizes, the integer should be encoded signed with little-endian byte order.</strong></li>
</ul>
<h3 id="sample-values">Sample Values<a hidden class="anchor" aria-hidden="true" href="#sample-values">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>+-----------+-------------+------+-------------+
</span></span><span style="display:flex;"><span>| sampwidth |     min     | zero |     max     |
</span></span><span style="display:flex;"><span>+-----------+-------------+------+-------------+
</span></span><span style="display:flex;"><span>|     1     |           0 |  128 |         255 |
</span></span><span style="display:flex;"><span>|     2     |      -32768 |    0 |       32767 |
</span></span><span style="display:flex;"><span>|     3     |    -8388608 |    0 |     8388607 |
</span></span><span style="display:flex;"><span>|     4     | -2147483648 |    0 |  2147483647 |
</span></span><span style="display:flex;"><span>+-----------+-------------+------+-------------+
</span></span></code></pre></div><h3 id="read-float-samples-from-wav-file">Read Float Samples from WAV File<a hidden class="anchor" aria-hidden="true" href="#read-float-samples-from-wav-file">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">read_wav_file</span>(filename):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">get_int</span>(bytes_obj):
</span></span><span style="display:flex;"><span>        an_int <span style="color:#f92672">=</span> int<span style="color:#f92672">.</span>from_bytes(bytes_obj, <span style="color:#e6db74">&#39;little&#39;</span>, signed<span style="color:#f92672">=</span>(sampwidth <span style="color:#f92672">!=</span> <span style="color:#ae81ff">1</span>))
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> an_int <span style="color:#f92672">-</span> <span style="color:#ae81ff">128</span> <span style="color:#f92672">*</span> (sampwidth <span style="color:#f92672">==</span> <span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">with</span> wave<span style="color:#f92672">.</span>open(filename, <span style="color:#e6db74">&#39;rb&#39;</span>) <span style="color:#66d9ef">as</span> file:
</span></span><span style="display:flex;"><span>        sampwidth <span style="color:#f92672">=</span> file<span style="color:#f92672">.</span>getsampwidth()
</span></span><span style="display:flex;"><span>        frames <span style="color:#f92672">=</span> file<span style="color:#f92672">.</span>readframes(<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>    bytes_samples <span style="color:#f92672">=</span> (frames[i : i<span style="color:#f92672">+</span>sampwidth] <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">0</span>, len(frames), sampwidth))
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> [get_int(b) <span style="color:#f92672">/</span> pow(<span style="color:#ae81ff">2</span>, sampwidth <span style="color:#f92672">*</span> <span style="color:#ae81ff">8</span> <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>) <span style="color:#66d9ef">for</span> b <span style="color:#f92672">in</span> bytes_samples]
</span></span></code></pre></div><h3 id="write-float-samples-to-wav-file">Write Float Samples to WAV File<a hidden class="anchor" aria-hidden="true" href="#write-float-samples-to-wav-file">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">write_to_wav_file</span>(filename, float_samples, nchannels<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>, sampwidth<span style="color:#f92672">=</span><span style="color:#ae81ff">2</span>, framerate<span style="color:#f92672">=</span><span style="color:#ae81ff">44100</span>):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">get_bytes</span>(a_float):
</span></span><span style="display:flex;"><span>        a_float <span style="color:#f92672">=</span> max(<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>, min(<span style="color:#ae81ff">1</span> <span style="color:#f92672">-</span> <span style="color:#ae81ff">2e-16</span>, a_float))
</span></span><span style="display:flex;"><span>        a_float <span style="color:#f92672">+=</span> sampwidth <span style="color:#f92672">==</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>        a_float <span style="color:#f92672">*=</span> pow(<span style="color:#ae81ff">2</span>, sampwidth <span style="color:#f92672">*</span> <span style="color:#ae81ff">8</span> <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> int(a_float)<span style="color:#f92672">.</span>to_bytes(sampwidth, <span style="color:#e6db74">&#39;little&#39;</span>, signed<span style="color:#f92672">=</span>(sampwidth <span style="color:#f92672">!=</span> <span style="color:#ae81ff">1</span>))
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">with</span> wave<span style="color:#f92672">.</span>open(filename, <span style="color:#e6db74">&#39;wb&#39;</span>) <span style="color:#66d9ef">as</span> file:
</span></span><span style="display:flex;"><span>        file<span style="color:#f92672">.</span>setnchannels(nchannels)
</span></span><span style="display:flex;"><span>        file<span style="color:#f92672">.</span>setsampwidth(sampwidth)
</span></span><span style="display:flex;"><span>        file<span style="color:#f92672">.</span>setframerate(framerate)
</span></span><span style="display:flex;"><span>        file<span style="color:#f92672">.</span>writeframes(<span style="color:#e6db74">b</span><span style="color:#e6db74">&#39;&#39;</span><span style="color:#f92672">.</span>join(get_bytes(f) <span style="color:#66d9ef">for</span> f <span style="color:#f92672">in</span> float_samples))
</span></span></code></pre></div><h3 id="examples-1">Examples<a hidden class="anchor" aria-hidden="true" href="#examples-1">#</a></h3>
<h4 id="saves-a-440-hz-sine-wave-to-a-mono-wav-file">Saves a 440 Hz sine wave to a mono WAV file:<a hidden class="anchor" aria-hidden="true" href="#saves-a-440-hz-sine-wave-to-a-mono-wav-file">#</a></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> math <span style="color:#f92672">import</span> pi, sin
</span></span><span style="display:flex;"><span>samples_f <span style="color:#f92672">=</span> (sin(i <span style="color:#f92672">*</span> <span style="color:#ae81ff">2</span> <span style="color:#f92672">*</span> pi <span style="color:#f92672">*</span> <span style="color:#ae81ff">440</span> <span style="color:#f92672">/</span> <span style="color:#ae81ff">44100</span>) <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">100000</span>))
</span></span><span style="display:flex;"><span>write_to_wav_file(<span style="color:#e6db74">&#39;test.wav&#39;</span>, samples_f)
</span></span></code></pre></div><h4 id="adds-noise-to-a-mono-wav-file">Adds noise to a mono WAV file:<a hidden class="anchor" aria-hidden="true" href="#adds-noise-to-a-mono-wav-file">#</a></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> random <span style="color:#f92672">import</span> random
</span></span><span style="display:flex;"><span>add_noise <span style="color:#f92672">=</span> <span style="color:#66d9ef">lambda</span> value: value <span style="color:#f92672">+</span> (random() <span style="color:#f92672">-</span> <span style="color:#ae81ff">0.5</span>) <span style="color:#f92672">*</span> <span style="color:#ae81ff">0.03</span>
</span></span><span style="display:flex;"><span>samples_f <span style="color:#f92672">=</span> (add_noise(f) <span style="color:#66d9ef">for</span> f <span style="color:#f92672">in</span> read_wav_file(<span style="color:#e6db74">&#39;test.wav&#39;</span>))
</span></span><span style="display:flex;"><span>write_to_wav_file(<span style="color:#e6db74">&#39;test.wav&#39;</span>, samples_f)
</span></span></code></pre></div><h4 id="plays-a-wav-file">Plays a WAV file:<a hidden class="anchor" aria-hidden="true" href="#plays-a-wav-file">#</a></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># $ pip3 install simpleaudio</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> simpleaudio <span style="color:#f92672">import</span> play_buffer
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">with</span> wave<span style="color:#f92672">.</span>open(<span style="color:#e6db74">&#39;test.wav&#39;</span>, <span style="color:#e6db74">&#39;rb&#39;</span>) <span style="color:#66d9ef">as</span> file:
</span></span><span style="display:flex;"><span>    p <span style="color:#f92672">=</span> file<span style="color:#f92672">.</span>getparams()
</span></span><span style="display:flex;"><span>    frames <span style="color:#f92672">=</span> file<span style="color:#f92672">.</span>readframes(<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>    play_buffer(frames, p<span style="color:#f92672">.</span>nchannels, p<span style="color:#f92672">.</span>sampwidth, p<span style="color:#f92672">.</span>framerate)
</span></span></code></pre></div><h3 id="text-to-speech">Text to Speech<a hidden class="anchor" aria-hidden="true" href="#text-to-speech">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># $ pip3 install pyttsx3</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> pyttsx3
</span></span><span style="display:flex;"><span>engine <span style="color:#f92672">=</span> pyttsx3<span style="color:#f92672">.</span>init()
</span></span><span style="display:flex;"><span>engine<span style="color:#f92672">.</span>say(<span style="color:#e6db74">&#39;Sally sells seashells by the seashore.&#39;</span>)
</span></span><span style="display:flex;"><span>engine<span style="color:#f92672">.</span>runAndWait()
</span></span></code></pre></div><h2 id="synthesizer">Synthesizer<a hidden class="anchor" aria-hidden="true" href="#synthesizer">#</a></h2>
<h4 id="plays-popcorn-by-gershon-kingsley">Plays Popcorn by Gershon Kingsley:<a hidden class="anchor" aria-hidden="true" href="#plays-popcorn-by-gershon-kingsley">#</a></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># $ pip3 install simpleaudio</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> math<span style="color:#f92672">,</span> struct<span style="color:#f92672">,</span> simpleaudio
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> itertools <span style="color:#f92672">import</span> repeat, chain
</span></span><span style="display:flex;"><span>F  <span style="color:#f92672">=</span> <span style="color:#ae81ff">44100</span>
</span></span><span style="display:flex;"><span>P1 <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;71‚ô©,69‚ô™,,71‚ô©,66‚ô™,,62‚ô©,66‚ô™,,59‚ô©,,&#39;</span>
</span></span><span style="display:flex;"><span>P2 <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;71‚ô©,73‚ô™,,74‚ô©,73‚ô™,,74‚ô™,,71‚ô™,,73‚ô©,71‚ô™,,73‚ô™,,69‚ô™,,71‚ô©,69‚ô™,,71‚ô™,,67‚ô™,,71‚ô©,,&#39;</span>
</span></span><span style="display:flex;"><span>get_pause   <span style="color:#f92672">=</span> <span style="color:#66d9ef">lambda</span> seconds: repeat(<span style="color:#ae81ff">0</span>, int(seconds <span style="color:#f92672">*</span> F))
</span></span><span style="display:flex;"><span>sin_f       <span style="color:#f92672">=</span> <span style="color:#66d9ef">lambda</span> i, hz: math<span style="color:#f92672">.</span>sin(i <span style="color:#f92672">*</span> <span style="color:#ae81ff">2</span> <span style="color:#f92672">*</span> math<span style="color:#f92672">.</span>pi <span style="color:#f92672">*</span> hz <span style="color:#f92672">/</span> F)
</span></span><span style="display:flex;"><span>get_wave    <span style="color:#f92672">=</span> <span style="color:#66d9ef">lambda</span> hz, seconds: (sin_f(i, hz) <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(int(seconds <span style="color:#f92672">*</span> F)))
</span></span><span style="display:flex;"><span>get_hz      <span style="color:#f92672">=</span> <span style="color:#66d9ef">lambda</span> key: <span style="color:#ae81ff">8.176</span> <span style="color:#f92672">*</span> <span style="color:#ae81ff">2</span> <span style="color:#f92672">**</span> (int(key) <span style="color:#f92672">/</span> <span style="color:#ae81ff">12</span>)
</span></span><span style="display:flex;"><span>parse_note  <span style="color:#f92672">=</span> <span style="color:#66d9ef">lambda</span> note: (get_hz(note[:<span style="color:#ae81ff">2</span>]), <span style="color:#ae81ff">1</span><span style="color:#f92672">/</span><span style="color:#ae81ff">4</span> <span style="color:#66d9ef">if</span> <span style="color:#e6db74">&#39;‚ô©&#39;</span> <span style="color:#f92672">in</span> note <span style="color:#66d9ef">else</span> <span style="color:#ae81ff">1</span><span style="color:#f92672">/</span><span style="color:#ae81ff">8</span>)
</span></span><span style="display:flex;"><span>get_samples <span style="color:#f92672">=</span> <span style="color:#66d9ef">lambda</span> note: get_wave(<span style="color:#f92672">*</span>parse_note(note)) <span style="color:#66d9ef">if</span> note <span style="color:#66d9ef">else</span> get_pause(<span style="color:#ae81ff">1</span><span style="color:#f92672">/</span><span style="color:#ae81ff">8</span>)
</span></span><span style="display:flex;"><span>samples_f   <span style="color:#f92672">=</span> chain<span style="color:#f92672">.</span>from_iterable(get_samples(n) <span style="color:#66d9ef">for</span> n <span style="color:#f92672">in</span> <span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">{</span>P1<span style="color:#e6db74">}</span><span style="color:#e6db74">,</span><span style="color:#e6db74">{</span>P1<span style="color:#e6db74">}</span><span style="color:#e6db74">,</span><span style="color:#e6db74">{</span>P2<span style="color:#e6db74">}</span><span style="color:#e6db74">&#39;</span><span style="color:#f92672">.</span>split(<span style="color:#e6db74">&#39;,&#39;</span>))
</span></span><span style="display:flex;"><span>samples_b   <span style="color:#f92672">=</span> <span style="color:#e6db74">b</span><span style="color:#e6db74">&#39;&#39;</span><span style="color:#f92672">.</span>join(struct<span style="color:#f92672">.</span>pack(<span style="color:#e6db74">&#39;&lt;h&#39;</span>, int(f <span style="color:#f92672">*</span> <span style="color:#ae81ff">30000</span>)) <span style="color:#66d9ef">for</span> f <span style="color:#f92672">in</span> samples_f)
</span></span><span style="display:flex;"><span>simpleaudio<span style="color:#f92672">.</span>play_buffer(samples_b, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, F)
</span></span></code></pre></div><h2 id="pygame">Pygame<a hidden class="anchor" aria-hidden="true" href="#pygame">#</a></h2>
<h3 id="basic-example-1">Basic Example<a hidden class="anchor" aria-hidden="true" href="#basic-example-1">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># $ pip3 install pygame</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> pygame <span style="color:#66d9ef">as</span> pg
</span></span><span style="display:flex;"><span>pg<span style="color:#f92672">.</span>init()
</span></span><span style="display:flex;"><span>screen <span style="color:#f92672">=</span> pg<span style="color:#f92672">.</span>display<span style="color:#f92672">.</span>set_mode((<span style="color:#ae81ff">500</span>, <span style="color:#ae81ff">500</span>))
</span></span><span style="display:flex;"><span>rect <span style="color:#f92672">=</span> pg<span style="color:#f92672">.</span>Rect(<span style="color:#ae81ff">240</span>, <span style="color:#ae81ff">240</span>, <span style="color:#ae81ff">20</span>, <span style="color:#ae81ff">20</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">while</span> all(event<span style="color:#f92672">.</span>type <span style="color:#f92672">!=</span> pg<span style="color:#f92672">.</span>QUIT <span style="color:#66d9ef">for</span> event <span style="color:#f92672">in</span> pg<span style="color:#f92672">.</span>event<span style="color:#f92672">.</span>get()):
</span></span><span style="display:flex;"><span>    deltas <span style="color:#f92672">=</span> {pg<span style="color:#f92672">.</span>K_UP: (<span style="color:#ae81ff">0</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>), pg<span style="color:#f92672">.</span>K_RIGHT: (<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">0</span>), pg<span style="color:#f92672">.</span>K_DOWN: (<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">1</span>), pg<span style="color:#f92672">.</span>K_LEFT: (<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">0</span>)}
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> ch, is_pressed <span style="color:#f92672">in</span> enumerate(pg<span style="color:#f92672">.</span>key<span style="color:#f92672">.</span>get_pressed()):
</span></span><span style="display:flex;"><span>        rect <span style="color:#f92672">=</span> rect<span style="color:#f92672">.</span>move(deltas[ch]) <span style="color:#66d9ef">if</span> ch <span style="color:#f92672">in</span> deltas <span style="color:#f92672">and</span> is_pressed <span style="color:#66d9ef">else</span> rect
</span></span><span style="display:flex;"><span>    screen<span style="color:#f92672">.</span>fill((<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>))
</span></span><span style="display:flex;"><span>    pg<span style="color:#f92672">.</span>draw<span style="color:#f92672">.</span>rect(screen, (<span style="color:#ae81ff">255</span>, <span style="color:#ae81ff">255</span>, <span style="color:#ae81ff">255</span>), rect)
</span></span><span style="display:flex;"><span>    pg<span style="color:#f92672">.</span>display<span style="color:#f92672">.</span>flip()
</span></span></code></pre></div><h3 id="rectangle">Rectangle<a hidden class="anchor" aria-hidden="true" href="#rectangle">#</a></h3>
<p><strong>Object for storing rectangular coordinates.</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Rect<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> pg<span style="color:#f92672">.</span>Rect(x, y, width, height)           <span style="color:#75715e"># Floats get truncated into ints.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>int<span style="color:#f92672">&gt;</span>  <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>Rect<span style="color:#f92672">&gt;.</span>x<span style="color:#f92672">/</span>y<span style="color:#f92672">/</span>centerx<span style="color:#f92672">/</span>centery<span style="color:#f92672">/</span><span style="color:#960050;background-color:#1e0010">‚Ä¶</span>           <span style="color:#75715e"># Top, right, bottom, left. Allows assignments.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>tup<span style="color:#f92672">.&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>Rect<span style="color:#f92672">&gt;.</span>topleft<span style="color:#f92672">/</span>center<span style="color:#f92672">/</span><span style="color:#960050;background-color:#1e0010">‚Ä¶</span>                <span style="color:#75715e"># Topright, bottomright, bottomleft. Same.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Rect<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>Rect<span style="color:#f92672">&gt;.</span>move((x, y))                    <span style="color:#75715e"># Use move_ip() to move in-place.</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>bool<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>Rect<span style="color:#f92672">&gt;.</span>collidepoint((x, y))            <span style="color:#75715e"># Checks if rectangle contains a point.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>bool<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>Rect<span style="color:#f92672">&gt;.</span>colliderect(<span style="color:#f92672">&lt;</span>Rect<span style="color:#f92672">&gt;</span>)             <span style="color:#75715e"># Checks if two rectangles overlap.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>int<span style="color:#f92672">&gt;</span>  <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>Rect<span style="color:#f92672">&gt;.</span>collidelist(<span style="color:#f92672">&lt;</span>list_of_Rect<span style="color:#f92672">&gt;</span>)     <span style="color:#75715e"># Returns index of first colliding Rect or -1.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>list<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>Rect<span style="color:#f92672">&gt;.</span>collidelistall(<span style="color:#f92672">&lt;</span>list_of_Rect<span style="color:#f92672">&gt;</span>)  <span style="color:#75715e"># Returns indexes of all colliding rectangles.</span>
</span></span></code></pre></div><h3 id="surface">Surface<a hidden class="anchor" aria-hidden="true" href="#surface">#</a></h3>
<p><strong>Object for representing images.</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Surf<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> pg<span style="color:#f92672">.</span>display<span style="color:#f92672">.</span>set_mode((width, height))   <span style="color:#75715e"># Returns display surface.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Surf<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> pg<span style="color:#f92672">.</span>Surface((width, height), flags<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>)   <span style="color:#75715e"># New RGB surface. RGBA if `flags=pg.SRCALPHA`.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Surf<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> pg<span style="color:#f92672">.</span>image<span style="color:#f92672">.</span>load(<span style="color:#e6db74">&#39;&lt;path&gt;&#39;</span>)                <span style="color:#75715e"># Loads the image. Format depends on source.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Surf<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>Surf<span style="color:#f92672">&gt;.</span>subsurface(<span style="color:#f92672">&lt;</span>Rect<span style="color:#f92672">&gt;</span>)              <span style="color:#75715e"># Returns a subsurface.</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Surf<span style="color:#f92672">&gt;.</span>fill(color)                              <span style="color:#75715e"># Tuple, Color(&#39;#rrggbb[aa]&#39;) or Color(&lt;name&gt;).</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Surf<span style="color:#f92672">&gt;.</span>set_at((x, y), color)                    <span style="color:#75715e"># Updates pixel.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Surf<span style="color:#f92672">&gt;.</span>blit(<span style="color:#f92672">&lt;</span>Surf<span style="color:#f92672">&gt;</span>, (x, y))                     <span style="color:#75715e"># Draws passed surface to the surface.</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> pygame.transform <span style="color:#f92672">import</span> scale, <span style="color:#f92672">...</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Surf<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> scale(<span style="color:#f92672">&lt;</span>Surf<span style="color:#f92672">&gt;</span>, (width, height))         <span style="color:#75715e"># Returns scaled surface.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Surf<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> rotate(<span style="color:#f92672">&lt;</span>Surf<span style="color:#f92672">&gt;</span>, degrees)                <span style="color:#75715e"># Returns rotated and scaled surface.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Surf<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> flip(<span style="color:#f92672">&lt;</span>Surf<span style="color:#f92672">&gt;</span>, x_bool, y_bool)           <span style="color:#75715e"># Returns flipped surface.</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> pygame.draw <span style="color:#f92672">import</span> line, <span style="color:#f92672">...</span>
</span></span><span style="display:flex;"><span>line(<span style="color:#f92672">&lt;</span>Surf<span style="color:#f92672">&gt;</span>, color, (x1, y1), (x2, y2), width)  <span style="color:#75715e"># Draws a line to the surface.</span>
</span></span><span style="display:flex;"><span>arc(<span style="color:#f92672">&lt;</span>Surf<span style="color:#f92672">&gt;</span>, color, <span style="color:#f92672">&lt;</span>Rect<span style="color:#f92672">&gt;</span>, from_rad, to_rad)    <span style="color:#75715e"># Also: ellipse(&lt;Surf&gt;, color, &lt;Rect&gt;)</span>
</span></span><span style="display:flex;"><span>rect(<span style="color:#f92672">&lt;</span>Surf<span style="color:#f92672">&gt;</span>, color, <span style="color:#f92672">&lt;</span>Rect<span style="color:#f92672">&gt;</span>)                     <span style="color:#75715e"># Also: polygon(&lt;Surf&gt;, color, points)</span>
</span></span></code></pre></div><h3 id="font">Font<a hidden class="anchor" aria-hidden="true" href="#font">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Font<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> pg<span style="color:#f92672">.</span>font<span style="color:#f92672">.</span>SysFont(<span style="color:#e6db74">&#39;&lt;name&gt;&#39;</span>, size)        <span style="color:#75715e"># Loads the system font or default if missing.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Font<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> pg<span style="color:#f92672">.</span>font<span style="color:#f92672">.</span>Font(<span style="color:#e6db74">&#39;&lt;path&gt;&#39;</span>, size)           <span style="color:#75715e"># Loads the TTF file. Pass None for default.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Surf<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>Font<span style="color:#f92672">&gt;.</span>render(text, antialias, color)  <span style="color:#75715e"># Background color can be specified at the end.</span>
</span></span></code></pre></div><h3 id="sound">Sound<a hidden class="anchor" aria-hidden="true" href="#sound">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Sound<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> pg<span style="color:#f92672">.</span>mixer<span style="color:#f92672">.</span>Sound(<span style="color:#e6db74">&#39;&lt;path&gt;&#39;</span>)              <span style="color:#75715e"># Loads the WAV file.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Sound<span style="color:#f92672">&gt;.</span>play()                                  <span style="color:#75715e"># Starts playing the sound.</span>
</span></span></code></pre></div><h3 id="basic-mario-brothers-example">Basic Mario Brothers Example<a hidden class="anchor" aria-hidden="true" href="#basic-mario-brothers-example">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> collections<span style="color:#f92672">,</span> dataclasses<span style="color:#f92672">,</span> enum<span style="color:#f92672">,</span> io<span style="color:#f92672">,</span> itertools <span style="color:#66d9ef">as</span> it<span style="color:#f92672">,</span> pygame <span style="color:#66d9ef">as</span> pg<span style="color:#f92672">,</span> urllib.request
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> random <span style="color:#f92672">import</span> randint
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>P <span style="color:#f92672">=</span> collections<span style="color:#f92672">.</span>namedtuple(<span style="color:#e6db74">&#39;P&#39;</span>, <span style="color:#e6db74">&#39;x y&#39;</span>)          <span style="color:#75715e"># Position</span>
</span></span><span style="display:flex;"><span>D <span style="color:#f92672">=</span> enum<span style="color:#f92672">.</span>Enum(<span style="color:#e6db74">&#39;D&#39;</span>, <span style="color:#e6db74">&#39;n e s w&#39;</span>)                   <span style="color:#75715e"># Direction</span>
</span></span><span style="display:flex;"><span>W, H, MAX_S <span style="color:#f92672">=</span> <span style="color:#ae81ff">50</span>, <span style="color:#ae81ff">50</span>, P(<span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">10</span>)                  <span style="color:#75715e"># Width, Height, Max speed</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">main</span>():
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">get_screen</span>():
</span></span><span style="display:flex;"><span>        pg<span style="color:#f92672">.</span>init()
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> pg<span style="color:#f92672">.</span>display<span style="color:#f92672">.</span>set_mode((W<span style="color:#f92672">*</span><span style="color:#ae81ff">16</span>, H<span style="color:#f92672">*</span><span style="color:#ae81ff">16</span>))
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">get_images</span>():
</span></span><span style="display:flex;"><span>        url <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;https://gto76.github.io/python-cheatsheet/web/mario_bros.png&#39;</span>
</span></span><span style="display:flex;"><span>        img <span style="color:#f92672">=</span> pg<span style="color:#f92672">.</span>image<span style="color:#f92672">.</span>load(io<span style="color:#f92672">.</span>BytesIO(urllib<span style="color:#f92672">.</span>request<span style="color:#f92672">.</span>urlopen(url)<span style="color:#f92672">.</span>read()))
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> [img<span style="color:#f92672">.</span>subsurface(get_rect(x, <span style="color:#ae81ff">0</span>)) <span style="color:#66d9ef">for</span> x <span style="color:#f92672">in</span> range(img<span style="color:#f92672">.</span>get_width() <span style="color:#f92672">//</span> <span style="color:#ae81ff">16</span>)]
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">get_mario</span>():
</span></span><span style="display:flex;"><span>        Mario <span style="color:#f92672">=</span> dataclasses<span style="color:#f92672">.</span>make_dataclass(<span style="color:#e6db74">&#39;Mario&#39;</span>, <span style="color:#e6db74">&#39;rect spd facing_left frame_cycle&#39;</span><span style="color:#f92672">.</span>split())
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> Mario(get_rect(<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">1</span>), P(<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>), <span style="color:#66d9ef">False</span>, it<span style="color:#f92672">.</span>cycle(range(<span style="color:#ae81ff">3</span>)))
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">get_tiles</span>():
</span></span><span style="display:flex;"><span>        border <span style="color:#f92672">=</span> [(x, y) <span style="color:#66d9ef">for</span> x <span style="color:#f92672">in</span> range(W) <span style="color:#66d9ef">for</span> y <span style="color:#f92672">in</span> range(H) <span style="color:#66d9ef">if</span> x <span style="color:#f92672">in</span> [<span style="color:#ae81ff">0</span>, W<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>] <span style="color:#f92672">or</span> y <span style="color:#f92672">in</span> [<span style="color:#ae81ff">0</span>, H<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>]]
</span></span><span style="display:flex;"><span>        platforms <span style="color:#f92672">=</span> [(randint(<span style="color:#ae81ff">1</span>, W<span style="color:#f92672">-</span><span style="color:#ae81ff">2</span>), randint(<span style="color:#ae81ff">2</span>, H<span style="color:#f92672">-</span><span style="color:#ae81ff">2</span>)) <span style="color:#66d9ef">for</span> _ <span style="color:#f92672">in</span> range(W<span style="color:#f92672">*</span>H <span style="color:#f92672">//</span> <span style="color:#ae81ff">10</span>)]
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> [get_rect(x, y) <span style="color:#66d9ef">for</span> x, y <span style="color:#f92672">in</span> border <span style="color:#f92672">+</span> platforms]
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">get_rect</span>(x, y):
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> pg<span style="color:#f92672">.</span>Rect(x<span style="color:#f92672">*</span><span style="color:#ae81ff">16</span>, y<span style="color:#f92672">*</span><span style="color:#ae81ff">16</span>, <span style="color:#ae81ff">16</span>, <span style="color:#ae81ff">16</span>)
</span></span><span style="display:flex;"><span>    run(get_screen(), get_images(), get_mario(), get_tiles())
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">run</span>(screen, images, mario, tiles):
</span></span><span style="display:flex;"><span>    clock <span style="color:#f92672">=</span> pg<span style="color:#f92672">.</span>time<span style="color:#f92672">.</span>Clock()
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span> all(event<span style="color:#f92672">.</span>type <span style="color:#f92672">!=</span> pg<span style="color:#f92672">.</span>QUIT <span style="color:#66d9ef">for</span> event <span style="color:#f92672">in</span> pg<span style="color:#f92672">.</span>event<span style="color:#f92672">.</span>get()):
</span></span><span style="display:flex;"><span>        keys <span style="color:#f92672">=</span> {pg<span style="color:#f92672">.</span>K_UP: D<span style="color:#f92672">.</span>n, pg<span style="color:#f92672">.</span>K_RIGHT: D<span style="color:#f92672">.</span>e, pg<span style="color:#f92672">.</span>K_DOWN: D<span style="color:#f92672">.</span>s, pg<span style="color:#f92672">.</span>K_LEFT: D<span style="color:#f92672">.</span>w}
</span></span><span style="display:flex;"><span>        pressed <span style="color:#f92672">=</span> {keys<span style="color:#f92672">.</span>get(ch) <span style="color:#66d9ef">for</span> ch, is_prsd <span style="color:#f92672">in</span> enumerate(pg<span style="color:#f92672">.</span>key<span style="color:#f92672">.</span>get_pressed()) <span style="color:#66d9ef">if</span> is_prsd}
</span></span><span style="display:flex;"><span>        update_speed(mario, tiles, pressed)
</span></span><span style="display:flex;"><span>        update_position(mario, tiles)
</span></span><span style="display:flex;"><span>        draw(screen, images, mario, tiles, pressed)
</span></span><span style="display:flex;"><span>        clock<span style="color:#f92672">.</span>tick(<span style="color:#ae81ff">28</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">update_speed</span>(mario, tiles, pressed):
</span></span><span style="display:flex;"><span>    x, y <span style="color:#f92672">=</span> mario<span style="color:#f92672">.</span>spd
</span></span><span style="display:flex;"><span>    x <span style="color:#f92672">+=</span> <span style="color:#ae81ff">2</span> <span style="color:#f92672">*</span> ((D<span style="color:#f92672">.</span>e <span style="color:#f92672">in</span> pressed) <span style="color:#f92672">-</span> (D<span style="color:#f92672">.</span>w <span style="color:#f92672">in</span> pressed))
</span></span><span style="display:flex;"><span>    x <span style="color:#f92672">-=</span> (x <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">0</span>) <span style="color:#f92672">-</span> (x <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>    y <span style="color:#f92672">+=</span> <span style="color:#ae81ff">1</span> <span style="color:#66d9ef">if</span> D<span style="color:#f92672">.</span>s <span style="color:#f92672">not</span> <span style="color:#f92672">in</span> get_boundaries(mario<span style="color:#f92672">.</span>rect, tiles) <span style="color:#66d9ef">else</span> (D<span style="color:#f92672">.</span>n <span style="color:#f92672">in</span> pressed) <span style="color:#f92672">*</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">10</span>
</span></span><span style="display:flex;"><span>    mario<span style="color:#f92672">.</span>spd <span style="color:#f92672">=</span> P(x<span style="color:#f92672">=</span>max(<span style="color:#f92672">-</span>MAX_S<span style="color:#f92672">.</span>x, min(MAX_S<span style="color:#f92672">.</span>x, x)), y<span style="color:#f92672">=</span>max(<span style="color:#f92672">-</span>MAX_S<span style="color:#f92672">.</span>y, min(MAX_S<span style="color:#f92672">.</span>y, y)))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">update_position</span>(mario, tiles):
</span></span><span style="display:flex;"><span>    x, y <span style="color:#f92672">=</span> mario<span style="color:#f92672">.</span>rect<span style="color:#f92672">.</span>topleft
</span></span><span style="display:flex;"><span>    n_steps <span style="color:#f92672">=</span> max(abs(s) <span style="color:#66d9ef">for</span> s <span style="color:#f92672">in</span> mario<span style="color:#f92672">.</span>spd)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> _ <span style="color:#f92672">in</span> range(n_steps):
</span></span><span style="display:flex;"><span>        mario<span style="color:#f92672">.</span>spd <span style="color:#f92672">=</span> stop_on_collision(mario<span style="color:#f92672">.</span>spd, get_boundaries(mario<span style="color:#f92672">.</span>rect, tiles))
</span></span><span style="display:flex;"><span>        x, y <span style="color:#f92672">=</span> x <span style="color:#f92672">+</span> mario<span style="color:#f92672">.</span>spd<span style="color:#f92672">.</span>x <span style="color:#f92672">/</span> n_steps, y <span style="color:#f92672">+</span> mario<span style="color:#f92672">.</span>spd<span style="color:#f92672">.</span>y <span style="color:#f92672">/</span> n_steps
</span></span><span style="display:flex;"><span>        mario<span style="color:#f92672">.</span>rect<span style="color:#f92672">.</span>topleft <span style="color:#f92672">=</span> x, y
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">get_boundaries</span>(rect, tiles):
</span></span><span style="display:flex;"><span>    deltas <span style="color:#f92672">=</span> {D<span style="color:#f92672">.</span>n: P(<span style="color:#ae81ff">0</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>), D<span style="color:#f92672">.</span>e: P(<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">0</span>), D<span style="color:#f92672">.</span>s: P(<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">1</span>), D<span style="color:#f92672">.</span>w: P(<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">0</span>)}
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> {d <span style="color:#66d9ef">for</span> d, delta <span style="color:#f92672">in</span> deltas<span style="color:#f92672">.</span>items() <span style="color:#66d9ef">if</span> rect<span style="color:#f92672">.</span>move(delta)<span style="color:#f92672">.</span>collidelist(tiles) <span style="color:#f92672">!=</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">stop_on_collision</span>(spd, bounds):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> P(x<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span> <span style="color:#66d9ef">if</span> (D<span style="color:#f92672">.</span>w <span style="color:#f92672">in</span> bounds <span style="color:#f92672">and</span> spd<span style="color:#f92672">.</span>x <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">0</span>) <span style="color:#f92672">or</span> (D<span style="color:#f92672">.</span>e <span style="color:#f92672">in</span> bounds <span style="color:#f92672">and</span> spd<span style="color:#f92672">.</span>x <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">0</span>) <span style="color:#66d9ef">else</span> spd<span style="color:#f92672">.</span>x,
</span></span><span style="display:flex;"><span>             y<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span> <span style="color:#66d9ef">if</span> (D<span style="color:#f92672">.</span>n <span style="color:#f92672">in</span> bounds <span style="color:#f92672">and</span> spd<span style="color:#f92672">.</span>y <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">0</span>) <span style="color:#f92672">or</span> (D<span style="color:#f92672">.</span>s <span style="color:#f92672">in</span> bounds <span style="color:#f92672">and</span> spd<span style="color:#f92672">.</span>y <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">0</span>) <span style="color:#66d9ef">else</span> spd<span style="color:#f92672">.</span>y)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">draw</span>(screen, images, mario, tiles, pressed):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">get_marios_image_index</span>():
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> D<span style="color:#f92672">.</span>s <span style="color:#f92672">not</span> <span style="color:#f92672">in</span> get_boundaries(mario<span style="color:#f92672">.</span>rect, tiles):
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">4</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> next(mario<span style="color:#f92672">.</span>frame_cycle) <span style="color:#66d9ef">if</span> {D<span style="color:#f92672">.</span>w, D<span style="color:#f92672">.</span>e} <span style="color:#f92672">&amp;</span> pressed <span style="color:#66d9ef">else</span> <span style="color:#ae81ff">6</span>
</span></span><span style="display:flex;"><span>    screen<span style="color:#f92672">.</span>fill((<span style="color:#ae81ff">85</span>, <span style="color:#ae81ff">168</span>, <span style="color:#ae81ff">255</span>))
</span></span><span style="display:flex;"><span>    mario<span style="color:#f92672">.</span>facing_left <span style="color:#f92672">=</span> (D<span style="color:#f92672">.</span>w <span style="color:#f92672">in</span> pressed) <span style="color:#66d9ef">if</span> {D<span style="color:#f92672">.</span>w, D<span style="color:#f92672">.</span>e} <span style="color:#f92672">&amp;</span> pressed <span style="color:#66d9ef">else</span> mario<span style="color:#f92672">.</span>facing_left
</span></span><span style="display:flex;"><span>    screen<span style="color:#f92672">.</span>blit(images[get_marios_image_index() <span style="color:#f92672">+</span> mario<span style="color:#f92672">.</span>facing_left <span style="color:#f92672">*</span> <span style="color:#ae81ff">9</span>], mario<span style="color:#f92672">.</span>rect)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> t <span style="color:#f92672">in</span> tiles:
</span></span><span style="display:flex;"><span>        screen<span style="color:#f92672">.</span>blit(images[<span style="color:#ae81ff">18</span> <span style="color:#66d9ef">if</span> t<span style="color:#f92672">.</span>x <span style="color:#f92672">in</span> [<span style="color:#ae81ff">0</span>, (W<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>)<span style="color:#f92672">*</span><span style="color:#ae81ff">16</span>] <span style="color:#f92672">or</span> t<span style="color:#f92672">.</span>y <span style="color:#f92672">in</span> [<span style="color:#ae81ff">0</span>, (H<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>)<span style="color:#f92672">*</span><span style="color:#ae81ff">16</span>] <span style="color:#66d9ef">else</span> <span style="color:#ae81ff">19</span>], t)
</span></span><span style="display:flex;"><span>    pg<span style="color:#f92672">.</span>display<span style="color:#f92672">.</span>flip()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> __name__ <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;__main__&#39;</span>:
</span></span><span style="display:flex;"><span>    main()
</span></span></code></pre></div><h2 id="pandas">Pandas<a hidden class="anchor" aria-hidden="true" href="#pandas">#</a></h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># $ pip3 install pandas</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> pandas <span style="color:#66d9ef">as</span> pd
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> pandas <span style="color:#f92672">import</span> Series, DataFrame
</span></span></code></pre></div><h3 id="series">Series<a hidden class="anchor" aria-hidden="true" href="#series">#</a></h3>
<p><strong>Ordered dictionary with a name.</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> Series([<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>], index<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;x&#39;</span>, <span style="color:#e6db74">&#39;y&#39;</span>], name<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;a&#39;</span>)
</span></span><span style="display:flex;"><span>x    <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>y    <span style="color:#ae81ff">2</span>
</span></span><span style="display:flex;"><span>Name: a, dtype: int64
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Sr<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> Series(<span style="color:#f92672">&lt;</span>list<span style="color:#f92672">&gt;</span>)                         <span style="color:#75715e"># Assigns RangeIndex starting at 0.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Sr<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> Series(<span style="color:#f92672">&lt;</span>dict<span style="color:#f92672">&gt;</span>)                         <span style="color:#75715e"># Takes dictionary&#39;s keys for index.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Sr<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> Series(<span style="color:#f92672">&lt;</span>dict<span style="color:#f92672">/</span>Series<span style="color:#f92672">&gt;</span>, index<span style="color:#f92672">=&lt;</span>list<span style="color:#f92672">&gt;</span>)    <span style="color:#75715e"># Only keeps items with keys specified in index.</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>el<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>Sr<span style="color:#f92672">&gt;.</span>loc[key]                          <span style="color:#75715e"># Or: &lt;Sr&gt;.iloc[index]</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Sr<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>Sr<span style="color:#f92672">&gt;.</span>loc[keys]                         <span style="color:#75715e"># Or: &lt;Sr&gt;.iloc[indexes]</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Sr<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>Sr<span style="color:#f92672">&gt;.</span>loc[from_key : to_key_inclusive]  <span style="color:#75715e"># Or: &lt;Sr&gt;.iloc[from_i : to_i_exclusive]</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>el<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>Sr<span style="color:#f92672">&gt;</span>[key<span style="color:#f92672">/</span>index]                        <span style="color:#75715e"># Or: &lt;Sr&gt;.key</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Sr<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>Sr<span style="color:#f92672">&gt;</span>[keys<span style="color:#f92672">/</span>indexes]                     <span style="color:#75715e"># Or: &lt;Sr&gt;[&lt;key_range/range&gt;]</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Sr<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>Sr<span style="color:#f92672">&gt;</span>[bools]                            <span style="color:#75715e"># Or: &lt;Sr&gt;.i/loc[bools]</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Sr<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>Sr<span style="color:#f92672">&gt;</span> <span style="color:#f92672">&gt;&lt;==</span> <span style="color:#f92672">&lt;</span>el<span style="color:#f92672">/</span>Sr<span style="color:#f92672">&gt;</span>                      <span style="color:#75715e"># Returns a Series of bools.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Sr<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>Sr<span style="color:#f92672">&gt;</span> <span style="color:#f92672">+-*/</span> <span style="color:#f92672">&lt;</span>el<span style="color:#f92672">/</span>Sr<span style="color:#f92672">&gt;</span>                      <span style="color:#75715e"># Items with non-matching keys get value NaN.</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Sr<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>Sr<span style="color:#f92672">&gt;.</span>append(<span style="color:#f92672">&lt;</span>Sr<span style="color:#f92672">&gt;</span>)                      <span style="color:#75715e"># Or: pd.concat(&lt;coll_of_Sr&gt;)</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Sr<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>Sr<span style="color:#f92672">&gt;.</span>combine_first(<span style="color:#f92672">&lt;</span>Sr<span style="color:#f92672">&gt;</span>)               <span style="color:#75715e"># Adds items that are not yet present.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Sr<span style="color:#f92672">&gt;.</span>update(<span style="color:#f92672">&lt;</span>Sr<span style="color:#f92672">&gt;</span>)                             <span style="color:#75715e"># Updates items that are already present.</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Sr<span style="color:#f92672">&gt;.</span>plot<span style="color:#f92672">.</span>line<span style="color:#f92672">/</span>area<span style="color:#f92672">/</span>bar<span style="color:#f92672">/</span>pie<span style="color:#f92672">/</span>hist()            <span style="color:#75715e"># Generates a Matplotlib plot.</span>
</span></span><span style="display:flex;"><span>matplotlib<span style="color:#f92672">.</span>pyplot<span style="color:#f92672">.</span>show()                      <span style="color:#75715e"># Displays the plot. Also savefig(&lt;path&gt;).</span>
</span></span></code></pre></div><h4 id="series--aggregate-transform-map">Series ‚Äî Aggregate, Transform, Map:<a hidden class="anchor" aria-hidden="true" href="#series--aggregate-transform-map">#</a></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>el<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>Sr<span style="color:#f92672">&gt;.</span>sum<span style="color:#f92672">/</span>max<span style="color:#f92672">/</span>mean<span style="color:#f92672">/</span>idxmax<span style="color:#f92672">/</span>all()         <span style="color:#75715e"># Or: &lt;Sr&gt;.agg(lambda &lt;Sr&gt;: &lt;el&gt;)</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Sr<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>Sr<span style="color:#f92672">&gt;.</span>rank<span style="color:#f92672">/</span>diff<span style="color:#f92672">/</span>cumsum<span style="color:#f92672">/</span>ffill<span style="color:#f92672">/</span>interpl()  <span style="color:#75715e"># Or: &lt;Sr&gt;.agg/transform(lambda &lt;Sr&gt;: &lt;Sr&gt;)</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Sr<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>Sr<span style="color:#f92672">&gt;.</span>fillna(<span style="color:#f92672">&lt;</span>el<span style="color:#f92672">&gt;</span>)                      <span style="color:#75715e"># Or: &lt;Sr&gt;.agg/transform/map(lambda &lt;el&gt;: &lt;el&gt;)</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> sr <span style="color:#f92672">=</span> Series([<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>], index<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;x&#39;</span>, <span style="color:#e6db74">&#39;y&#39;</span>])
</span></span><span style="display:flex;"><span>x    <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>y    <span style="color:#ae81ff">2</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>+-----------------+-------------+-------------+---------------+
</span></span><span style="display:flex;"><span>|                 |    &#39;sum&#39;    |   [&#39;sum&#39;]   | {&#39;s&#39;: &#39;sum&#39;}  |
</span></span><span style="display:flex;"><span>+-----------------+-------------+-------------+---------------+
</span></span><span style="display:flex;"><span>| sr.apply(‚Ä¶)     |      3      |    sum  3   |     s  3      |
</span></span><span style="display:flex;"><span>| sr.agg(‚Ä¶)       |             |             |               |
</span></span><span style="display:flex;"><span>+-----------------+-------------+-------------+---------------+
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>+-----------------+-------------+-------------+---------------+
</span></span><span style="display:flex;"><span>|                 |    &#39;rank&#39;   |   [&#39;rank&#39;]  | {&#39;r&#39;: &#39;rank&#39;} |
</span></span><span style="display:flex;"><span>+-----------------+-------------+-------------+---------------+
</span></span><span style="display:flex;"><span>| sr.apply(‚Ä¶)     |             |      rank   |               |
</span></span><span style="display:flex;"><span>| sr.agg(‚Ä¶)       |     x  1    |   x     1   |    r  x  1    |
</span></span><span style="display:flex;"><span>| sr.transform(‚Ä¶) |     y  2    |   y     2   |       y  2    |
</span></span><span style="display:flex;"><span>+-----------------+-------------+-------------+---------------+
</span></span></code></pre></div><ul>
<li><strong>Last result has a hierarchical index. Use <code>'&lt;Sr&gt;[key_1, key_2]'</code> to get its values.</strong></li>
</ul>
<h3 id="dataframe">DataFrame<a hidden class="anchor" aria-hidden="true" href="#dataframe">#</a></h3>
<p><strong>Table with labeled rows and columns.</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> DataFrame([[<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>], [<span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>]], index<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;a&#39;</span>, <span style="color:#e6db74">&#39;b&#39;</span>], columns<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;x&#39;</span>, <span style="color:#e6db74">&#39;y&#39;</span>])
</span></span><span style="display:flex;"><span>   x  y
</span></span><span style="display:flex;"><span>a  <span style="color:#ae81ff">1</span>  <span style="color:#ae81ff">2</span>
</span></span><span style="display:flex;"><span>b  <span style="color:#ae81ff">3</span>  <span style="color:#ae81ff">4</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>DF<span style="color:#f92672">&gt;</span>    <span style="color:#f92672">=</span> DataFrame(<span style="color:#f92672">&lt;</span>list_of_rows<span style="color:#f92672">&gt;</span>)           <span style="color:#75715e"># Rows can be either lists, dicts or series.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>DF<span style="color:#f92672">&gt;</span>    <span style="color:#f92672">=</span> DataFrame(<span style="color:#f92672">&lt;</span>dict_of_columns<span style="color:#f92672">&gt;</span>)        <span style="color:#75715e"># Columns can be either lists, dicts or series.</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>el<span style="color:#f92672">&gt;</span>    <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>DF<span style="color:#f92672">&gt;.</span>loc[row_key, column_key]       <span style="color:#75715e"># Or: &lt;DF&gt;.iloc[row_index, column_index]</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Sr<span style="color:#f92672">/</span>DF<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>DF<span style="color:#f92672">&gt;.</span>loc[row_key<span style="color:#f92672">/</span>s]                 <span style="color:#75715e"># Or: &lt;DF&gt;.iloc[row_index/es]</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Sr<span style="color:#f92672">/</span>DF<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>DF<span style="color:#f92672">&gt;.</span>loc[:, column_key<span style="color:#f92672">/</span>s]           <span style="color:#75715e"># Or: &lt;DF&gt;.iloc[:, column_index/es]</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>DF<span style="color:#f92672">&gt;</span>    <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>DF<span style="color:#f92672">&gt;.</span>loc[row_bools, column_bools]   <span style="color:#75715e"># Or: &lt;DF&gt;.iloc[row_bools, column_bools]</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Sr<span style="color:#f92672">/</span>DF<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>DF<span style="color:#f92672">&gt;</span>[column_key<span style="color:#f92672">/</span>s]                  <span style="color:#75715e"># Or: &lt;DF&gt;.column_key</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>DF<span style="color:#f92672">&gt;</span>    <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>DF<span style="color:#f92672">&gt;</span>[row_bools]                     <span style="color:#75715e"># Keeps rows as specified by bools.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>DF<span style="color:#f92672">&gt;</span>    <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>DF<span style="color:#f92672">&gt;</span>[<span style="color:#f92672">&lt;</span>DF_of_bools<span style="color:#f92672">&gt;</span>]                 <span style="color:#75715e"># Assigns NaN to False values.</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>DF<span style="color:#f92672">&gt;</span>    <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>DF<span style="color:#f92672">&gt;</span> <span style="color:#f92672">&gt;&lt;==</span> <span style="color:#f92672">&lt;</span>el<span style="color:#f92672">/</span>Sr<span style="color:#f92672">/</span>DF<span style="color:#f92672">&gt;</span>                <span style="color:#75715e"># Returns DF of bools. Sr is treated as a row.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>DF<span style="color:#f92672">&gt;</span>    <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>DF<span style="color:#f92672">&gt;</span> <span style="color:#f92672">+-*/</span> <span style="color:#f92672">&lt;</span>el<span style="color:#f92672">/</span>Sr<span style="color:#f92672">/</span>DF<span style="color:#f92672">&gt;</span>                <span style="color:#75715e"># Items with non-matching keys get value NaN.</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>DF<span style="color:#f92672">&gt;</span>    <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>DF<span style="color:#f92672">&gt;.</span>set_index(column_key)          <span style="color:#75715e"># Replaces row keys with values from a column.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>DF<span style="color:#f92672">&gt;</span>    <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>DF<span style="color:#f92672">&gt;.</span>reset_index()                  <span style="color:#75715e"># Moves row keys to a column named index.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>DF<span style="color:#f92672">&gt;</span>    <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>DF<span style="color:#f92672">&gt;.</span>sort_index(ascending<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>)     <span style="color:#75715e"># Sorts rows by row keys.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>DF<span style="color:#f92672">&gt;</span>    <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>DF<span style="color:#f92672">&gt;.</span>sort_values(column_key<span style="color:#f92672">/</span>s)      <span style="color:#75715e"># Sorts rows by the passed column/s.</span>
</span></span></code></pre></div><h4 id="dataframe--merge-join-concat">DataFrame ‚Äî Merge, Join, Concat:<a hidden class="anchor" aria-hidden="true" href="#dataframe--merge-join-concat">#</a></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> l <span style="color:#f92672">=</span> DataFrame([[<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>], [<span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>]], index<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;a&#39;</span>, <span style="color:#e6db74">&#39;b&#39;</span>], columns<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;x&#39;</span>, <span style="color:#e6db74">&#39;y&#39;</span>])
</span></span><span style="display:flex;"><span>   x  y
</span></span><span style="display:flex;"><span>a  <span style="color:#ae81ff">1</span>  <span style="color:#ae81ff">2</span>
</span></span><span style="display:flex;"><span>b  <span style="color:#ae81ff">3</span>  <span style="color:#ae81ff">4</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> r <span style="color:#f92672">=</span> DataFrame([[<span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">5</span>], [<span style="color:#ae81ff">6</span>, <span style="color:#ae81ff">7</span>]], index<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;b&#39;</span>, <span style="color:#e6db74">&#39;c&#39;</span>], columns<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;y&#39;</span>, <span style="color:#e6db74">&#39;z&#39;</span>])
</span></span><span style="display:flex;"><span>   y  z
</span></span><span style="display:flex;"><span>b  <span style="color:#ae81ff">4</span>  <span style="color:#ae81ff">5</span>
</span></span><span style="display:flex;"><span>c  <span style="color:#ae81ff">6</span>  <span style="color:#ae81ff">7</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>+------------------------+---------------+------------+------------+--------------------------+
</span></span><span style="display:flex;"><span>|                        |    &#39;outer&#39;    |   &#39;inner&#39;  |   &#39;left&#39;   |       Description        |
</span></span><span style="display:flex;"><span>+------------------------+---------------+------------+------------+--------------------------+
</span></span><span style="display:flex;"><span>| l.merge(r, on=&#39;y&#39;,     |    x   y   z  | x   y   z  | x   y   z  | Joins/merges on column.  |
</span></span><span style="display:flex;"><span>|            how=‚Ä¶)      | 0  1   2   .  | 3   4   5  | 1   2   .  | Also accepts left_on and |
</span></span><span style="display:flex;"><span>|                        | 1  3   4   5  |            | 3   4   5  | right_on parameters.     |
</span></span><span style="display:flex;"><span>|                        | 2  .   6   7  |            |            | Uses &#39;inner&#39; by default. |
</span></span><span style="display:flex;"><span>+------------------------+---------------+------------+------------+--------------------------+
</span></span><span style="display:flex;"><span>| l.join(r, lsuffix=&#39;l&#39;, |    x yl yr  z |            | x yl yr  z | Joins/merges on row keys.|
</span></span><span style="display:flex;"><span>|           rsuffix=&#39;r&#39;, | a  1  2  .  . | x yl yr  z | 1  2  .  . | Uses &#39;left&#39; by default.  |
</span></span><span style="display:flex;"><span>|           how=‚Ä¶)       | b  3  4  4  5 | 3  4  4  5 | 3  4  4  5 | If r is a series, it is  |
</span></span><span style="display:flex;"><span>|                        | c  .  .  6  7 |            |            | treated as a column.     |
</span></span><span style="display:flex;"><span>+------------------------+---------------+------------+------------+--------------------------+
</span></span><span style="display:flex;"><span>| pd.concat([l, r],      |    x   y   z  |     y      |            | Adds rows at the bottom. |
</span></span><span style="display:flex;"><span>|           axis=0,      | a  1   2   .  |     2      |            | Uses &#39;outer&#39; by default. |
</span></span><span style="display:flex;"><span>|           join=‚Ä¶)      | b  3   4   .  |     4      |            | A series is treated as a |
</span></span><span style="display:flex;"><span>|                        | b  .   4   5  |     4      |            | column. Use l.append(sr) |
</span></span><span style="display:flex;"><span>|                        | c  .   6   7  |     6      |            | to add a row instead.    |
</span></span><span style="display:flex;"><span>+------------------------+---------------+------------+------------+--------------------------+
</span></span><span style="display:flex;"><span>| pd.concat([l, r],      |    x  y  y  z |            |            | Adds columns at the      |
</span></span><span style="display:flex;"><span>|           axis=1,      | a  1  2  .  . | x  y  y  z |            | right end. Uses &#39;outer&#39;  |
</span></span><span style="display:flex;"><span>|           join=‚Ä¶)      | b  3  4  4  5 | 3  4  4  5 |            | by default. A series is  |
</span></span><span style="display:flex;"><span>|                        | c  .  .  6  7 |            |            | treated as a column.     |
</span></span><span style="display:flex;"><span>+------------------------+---------------+------------+------------+--------------------------+
</span></span><span style="display:flex;"><span>| l.combine_first(r)     |    x   y   z  |            |            | Adds missing rows and    |
</span></span><span style="display:flex;"><span>|                        | a  1   2   .  |            |            | columns. Also updates    |
</span></span><span style="display:flex;"><span>|                        | b  3   4   5  |            |            | items that contain NaN.  |
</span></span><span style="display:flex;"><span>|                        | c  .   6   7  |            |            | R must be a DataFrame.   |
</span></span><span style="display:flex;"><span>+------------------------+---------------+------------+------------+--------------------------+
</span></span></code></pre></div><h4 id="dataframe--aggregate-transform-map">DataFrame ‚Äî Aggregate, Transform, Map:<a hidden class="anchor" aria-hidden="true" href="#dataframe--aggregate-transform-map">#</a></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Sr<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>DF<span style="color:#f92672">&gt;.</span>sum<span style="color:#f92672">/</span>max<span style="color:#f92672">/</span>mean<span style="color:#f92672">/</span>idxmax<span style="color:#f92672">/</span>all()         <span style="color:#75715e"># Or: &lt;DF&gt;.apply/agg(lambda &lt;Sr&gt;: &lt;el&gt;)</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>DF<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>DF<span style="color:#f92672">&gt;.</span>rank<span style="color:#f92672">/</span>diff<span style="color:#f92672">/</span>cumsum<span style="color:#f92672">/</span>ffill<span style="color:#f92672">/</span>interpl()  <span style="color:#75715e"># Or: &lt;DF&gt;.apply/agg/transform(lambda &lt;Sr&gt;: &lt;Sr&gt;)</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>DF<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>DF<span style="color:#f92672">&gt;.</span>fillna(<span style="color:#f92672">&lt;</span>el<span style="color:#f92672">&gt;</span>)                      <span style="color:#75715e"># Or: &lt;DF&gt;.applymap(lambda &lt;el&gt;: &lt;el&gt;)</span>
</span></span></code></pre></div><ul>
<li><strong>All operations operate on columns by default. Pass <code>'axis=1'</code> to process the rows instead.</strong></li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> df <span style="color:#f92672">=</span> DataFrame([[<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>], [<span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>]], index<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;a&#39;</span>, <span style="color:#e6db74">&#39;b&#39;</span>], columns<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;x&#39;</span>, <span style="color:#e6db74">&#39;y&#39;</span>])
</span></span><span style="display:flex;"><span>   x  y
</span></span><span style="display:flex;"><span>a  <span style="color:#ae81ff">1</span>  <span style="color:#ae81ff">2</span>
</span></span><span style="display:flex;"><span>b  <span style="color:#ae81ff">3</span>  <span style="color:#ae81ff">4</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>+-----------------+-------------+-------------+---------------+
</span></span><span style="display:flex;"><span>|                 |    &#39;sum&#39;    |   [&#39;sum&#39;]   | {&#39;x&#39;: &#39;sum&#39;}  |
</span></span><span style="display:flex;"><span>+-----------------+-------------+-------------+---------------+
</span></span><span style="display:flex;"><span>| df.apply(‚Ä¶)     |             |       x  y  |               |
</span></span><span style="display:flex;"><span>| df.agg(‚Ä¶)       |     x  4    |  sum  4  6  |     x  4      |
</span></span><span style="display:flex;"><span>|                 |     y  6    |             |               |
</span></span><span style="display:flex;"><span>+-----------------+-------------+-------------+---------------+
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>+-----------------+-------------+-------------+---------------+
</span></span><span style="display:flex;"><span>|                 |    &#39;rank&#39;   |   [&#39;rank&#39;]  | {&#39;x&#39;: &#39;rank&#39;} |
</span></span><span style="display:flex;"><span>+-----------------+-------------+-------------+---------------+
</span></span><span style="display:flex;"><span>| df.apply(‚Ä¶)     |      x  y   |      x    y |        x      |
</span></span><span style="display:flex;"><span>| df.agg(‚Ä¶)       |   a  1  1   |   rank rank |     a  1      |
</span></span><span style="display:flex;"><span>| df.transform(‚Ä¶) |   b  2  2   | a    1    1 |     b  2      |
</span></span><span style="display:flex;"><span>|                 |             | b    2    2 |               |
</span></span><span style="display:flex;"><span>+-----------------+-------------+-------------+---------------+
</span></span></code></pre></div><ul>
<li><strong>Use <code>'&lt;DF&gt;[col_key_1, col_key_2][row_key]'</code> to get the fifth result&rsquo;s values.</strong></li>
</ul>
<h4 id="dataframe--plot-encode-decode">DataFrame ‚Äî Plot, Encode, Decode:<a hidden class="anchor" aria-hidden="true" href="#dataframe--plot-encode-decode">#</a></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> matplotlib.pyplot <span style="color:#66d9ef">as</span> plt
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>DF<span style="color:#f92672">&gt;.</span>plot<span style="color:#f92672">.</span>line<span style="color:#f92672">/</span>bar<span style="color:#f92672">/</span>hist<span style="color:#f92672">/</span>scatter([x<span style="color:#f92672">=</span>column_key, y<span style="color:#f92672">=</span>column_key<span style="color:#f92672">/</span>s]); plt<span style="color:#f92672">.</span>show()
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>DF<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>read_json<span style="color:#f92672">/</span>html(<span style="color:#e6db74">&#39;&lt;str/path/url&gt;&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>DF<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>read_csv<span style="color:#f92672">/</span>pickle<span style="color:#f92672">/</span>excel(<span style="color:#e6db74">&#39;&lt;path/url&gt;&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>DF<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>read_sql(<span style="color:#e6db74">&#39;&lt;table_name/query&gt;&#39;</span>, <span style="color:#f92672">&lt;</span>connection<span style="color:#f92672">&gt;</span>)
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>DF<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>read_clipboard()
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>dict<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>DF<span style="color:#f92672">&gt;.</span>to_dict([<span style="color:#e6db74">&#39;d/l/s/sp/r/i&#39;</span>])
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>str<span style="color:#f92672">&gt;</span>  <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>DF<span style="color:#f92672">&gt;.</span>to_json<span style="color:#f92672">/</span>html<span style="color:#f92672">/</span>csv<span style="color:#f92672">/</span>markdown<span style="color:#f92672">/</span>latex([<span style="color:#f92672">&lt;</span>path<span style="color:#f92672">&gt;</span>])
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>DF<span style="color:#f92672">&gt;.</span>to_pickle<span style="color:#f92672">/</span>excel(<span style="color:#f92672">&lt;</span>path<span style="color:#f92672">&gt;</span>)
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>DF<span style="color:#f92672">&gt;.</span>to_sql(<span style="color:#e6db74">&#39;&lt;table_name&gt;&#39;</span>, <span style="color:#f92672">&lt;</span>connection<span style="color:#f92672">&gt;</span>)
</span></span></code></pre></div><h3 id="groupby">GroupBy<a hidden class="anchor" aria-hidden="true" href="#groupby">#</a></h3>
<p><strong>Object that groups together rows of a dataframe based on the value of the passed column.</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> df <span style="color:#f92672">=</span> DataFrame([[<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>], [<span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">6</span>], [<span style="color:#ae81ff">7</span>, <span style="color:#ae81ff">8</span>, <span style="color:#ae81ff">6</span>]], index<span style="color:#f92672">=</span>list(<span style="color:#e6db74">&#39;abc&#39;</span>), columns<span style="color:#f92672">=</span>list(<span style="color:#e6db74">&#39;xyz&#39;</span>))
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> df<span style="color:#f92672">.</span>groupby(<span style="color:#e6db74">&#39;z&#39;</span>)<span style="color:#f92672">.</span>get_group(<span style="color:#ae81ff">6</span>)
</span></span><span style="display:flex;"><span>   x  y
</span></span><span style="display:flex;"><span>b  <span style="color:#ae81ff">4</span>  <span style="color:#ae81ff">5</span>
</span></span><span style="display:flex;"><span>c  <span style="color:#ae81ff">7</span>  <span style="color:#ae81ff">8</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>GB<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>DF<span style="color:#f92672">&gt;.</span>groupby(column_key<span style="color:#f92672">/</span>s)             <span style="color:#75715e"># DF is split into groups based on passed column.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>DF<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>GB<span style="color:#f92672">&gt;.</span>apply(<span style="color:#f92672">&lt;</span>func<span style="color:#f92672">&gt;</span>)                     <span style="color:#75715e"># Maps each group. Func can return DF, Sr or el.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>GB<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>GB<span style="color:#f92672">&gt;</span>[column_key]                       <span style="color:#75715e"># A single column GB. All operations return a Sr.</span>
</span></span></code></pre></div><h4 id="groupby--aggregate-transform-map">GroupBy ‚Äî Aggregate, Transform, Map:<a hidden class="anchor" aria-hidden="true" href="#groupby--aggregate-transform-map">#</a></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>DF<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>GB<span style="color:#f92672">&gt;.</span>sum<span style="color:#f92672">/</span>max<span style="color:#f92672">/</span>mean<span style="color:#f92672">/</span>idxmax<span style="color:#f92672">/</span>all()         <span style="color:#75715e"># Or: &lt;GB&gt;.agg(lambda &lt;Sr&gt;: &lt;el&gt;)</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>DF<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>GB<span style="color:#f92672">&gt;.</span>rank<span style="color:#f92672">/</span>diff<span style="color:#f92672">/</span>cumsum<span style="color:#f92672">/</span>ffill()          <span style="color:#75715e"># Or: &lt;GB&gt;.transform(lambda &lt;Sr&gt;: &lt;Sr&gt;)</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>DF<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>GB<span style="color:#f92672">&gt;.</span>fillna(<span style="color:#f92672">&lt;</span>el<span style="color:#f92672">&gt;</span>)                      <span style="color:#75715e"># Or: &lt;GB&gt;.transform(lambda &lt;Sr&gt;: &lt;Sr&gt;)</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> gb <span style="color:#f92672">=</span> df<span style="color:#f92672">.</span>groupby(<span style="color:#e6db74">&#39;z&#39;</span>)
</span></span><span style="display:flex;"><span>      x  y  z
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">3</span>: a  <span style="color:#ae81ff">1</span>  <span style="color:#ae81ff">2</span>  <span style="color:#ae81ff">3</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">6</span>: b  <span style="color:#ae81ff">4</span>  <span style="color:#ae81ff">5</span>  <span style="color:#ae81ff">6</span>
</span></span><span style="display:flex;"><span>   c  <span style="color:#ae81ff">7</span>  <span style="color:#ae81ff">8</span>  <span style="color:#ae81ff">6</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>+-----------------+-------------+-------------+-------------+---------------+
</span></span><span style="display:flex;"><span>|                 |    &#39;sum&#39;    |    &#39;rank&#39;   |   [&#39;rank&#39;]  | {&#39;x&#39;: &#39;rank&#39;} |
</span></span><span style="display:flex;"><span>+-----------------+-------------+-------------+-------------+---------------+
</span></span><span style="display:flex;"><span>| gb.agg(‚Ä¶)       |      x   y  |      x  y   |      x    y |        x      |
</span></span><span style="display:flex;"><span>|                 |  z          |   a  1  1   |   rank rank |     a  1      |
</span></span><span style="display:flex;"><span>|                 |  3   1   2  |   b  1  1   | a    1    1 |     b  1      |
</span></span><span style="display:flex;"><span>|                 |  6  11  13  |   c  2  2   | b    1    1 |     c  2      |
</span></span><span style="display:flex;"><span>|                 |             |             | c    2    2 |               |
</span></span><span style="display:flex;"><span>+-----------------+-------------+-------------+-------------+---------------+
</span></span><span style="display:flex;"><span>| gb.transform(‚Ä¶) |      x   y  |      x  y   |             |               |
</span></span><span style="display:flex;"><span>|                 |  a   1   2  |   a  1  1   |             |               |
</span></span><span style="display:flex;"><span>|                 |  b  11  13  |   b  1  1   |             |               |
</span></span><span style="display:flex;"><span>|                 |  c  11  13  |   c  2  2   |             |               |
</span></span><span style="display:flex;"><span>+-----------------+-------------+-------------+-------------+---------------+
</span></span></code></pre></div><h3 id="rolling">Rolling<a hidden class="anchor" aria-hidden="true" href="#rolling">#</a></h3>
<p><strong>Object for rolling window calculations.</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>R_Sr<span style="color:#f92672">/</span>R_DF<span style="color:#f92672">/</span>R_GB<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>Sr<span style="color:#f92672">/</span>DF<span style="color:#f92672">/</span>GB<span style="color:#f92672">&gt;.</span>rolling(window_size)  <span style="color:#75715e"># Also: `min_periods=None, center=False`.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>R_Sr<span style="color:#f92672">/</span>R_DF<span style="color:#f92672">&gt;</span>      <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>R_DF<span style="color:#f92672">/</span>R_GB<span style="color:#f92672">&gt;</span>[column_key<span style="color:#f92672">/</span>s]        <span style="color:#75715e"># Or: &lt;R&gt;.column_key</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Sr<span style="color:#f92672">/</span>DF<span style="color:#f92672">/</span>DF<span style="color:#f92672">&gt;</span>       <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>R_Sr<span style="color:#f92672">/</span>R_DF<span style="color:#f92672">/</span>R_GB<span style="color:#f92672">&gt;.</span>sum<span style="color:#f92672">/</span>max<span style="color:#f92672">/</span>mean()  <span style="color:#75715e"># Or: &lt;R&gt;.apply/agg(&lt;agg_func/str&gt;)</span>
</span></span></code></pre></div><h2 id="plotly">Plotly<a hidden class="anchor" aria-hidden="true" href="#plotly">#</a></h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># $ pip3 install plotly kaleido</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> plotly.express <span style="color:#f92672">import</span> line
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Figure<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> line(<span style="color:#f92672">&lt;</span>DF<span style="color:#f92672">&gt;</span>, x<span style="color:#f92672">=&lt;</span>col_name<span style="color:#f92672">&gt;</span>, y<span style="color:#f92672">=&lt;</span>col_name<span style="color:#f92672">&gt;</span>)        <span style="color:#75715e"># Or: line(x=&lt;list&gt;, y=&lt;list&gt;)</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Figure<span style="color:#f92672">&gt;.</span>update_layout(margin<span style="color:#f92672">=</span>dict(t<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>, r<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>, b<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>, l<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>))  <span style="color:#75715e"># Or: paper_bgcolor=&#39;rgba(0, 0, 0, 0)&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>Figure<span style="color:#f92672">&gt;.</span>write_html<span style="color:#f92672">/</span>json<span style="color:#f92672">/</span>image(<span style="color:#e6db74">&#39;&lt;path&gt;&#39;</span>)                 <span style="color:#75715e"># Also: &lt;Figure&gt;.show()</span>
</span></span></code></pre></div><h4 id="covid-deaths-by-continent">Covid deaths by continent:<a hidden class="anchor" aria-hidden="true" href="#covid-deaths-by-continent">#</a></h4>
<p><img loading="lazy" src="web/covid_deaths.png" alt="Covid Deaths"  />
</p>
<!-- raw HTML omitted -->
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>covid <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>read_csv(<span style="color:#e6db74">&#39;https://covid.ourworldindata.org/data/owid-covid-data.csv&#39;</span>,
</span></span><span style="display:flex;"><span>                    usecols<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;iso_code&#39;</span>, <span style="color:#e6db74">&#39;date&#39;</span>, <span style="color:#e6db74">&#39;total_deaths&#39;</span>, <span style="color:#e6db74">&#39;population&#39;</span>])
</span></span><span style="display:flex;"><span>continents <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>read_csv(<span style="color:#e6db74">&#39;https://gist.githubusercontent.com/stevewithington/20a69c0b6d2ff&#39;</span>
</span></span><span style="display:flex;"><span>                         <span style="color:#e6db74">&#39;846ea5d35e5fc47f26c/raw/country-and-continent-codes-list-csv.csv&#39;</span>,
</span></span><span style="display:flex;"><span>                         usecols<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;Three_Letter_Country_Code&#39;</span>, <span style="color:#e6db74">&#39;Continent_Name&#39;</span>])
</span></span><span style="display:flex;"><span>df <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>merge(covid, continents, left_on<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;iso_code&#39;</span>, right_on<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;Three_Letter_Country_Code&#39;</span>)
</span></span><span style="display:flex;"><span>df <span style="color:#f92672">=</span> df<span style="color:#f92672">.</span>groupby([<span style="color:#e6db74">&#39;Continent_Name&#39;</span>, <span style="color:#e6db74">&#39;date&#39;</span>])<span style="color:#f92672">.</span>sum()<span style="color:#f92672">.</span>reset_index()
</span></span><span style="display:flex;"><span>df[<span style="color:#e6db74">&#39;Total Deaths per Million&#39;</span>] <span style="color:#f92672">=</span> df<span style="color:#f92672">.</span>total_deaths <span style="color:#f92672">*</span> <span style="color:#ae81ff">1e6</span> <span style="color:#f92672">/</span> df<span style="color:#f92672">.</span>population
</span></span><span style="display:flex;"><span>df <span style="color:#f92672">=</span> df[df<span style="color:#f92672">.</span>date <span style="color:#f92672">&gt;</span> <span style="color:#e6db74">&#39;2020-03-14&#39;</span>]
</span></span><span style="display:flex;"><span>df <span style="color:#f92672">=</span> df<span style="color:#f92672">.</span>rename({<span style="color:#e6db74">&#39;date&#39;</span>: <span style="color:#e6db74">&#39;Date&#39;</span>, <span style="color:#e6db74">&#39;Continent_Name&#39;</span>: <span style="color:#e6db74">&#39;Continent&#39;</span>}, axis<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;columns&#39;</span>)
</span></span><span style="display:flex;"><span>line(df, x<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;Date&#39;</span>, y<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;Total Deaths per Million&#39;</span>, color<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;Continent&#39;</span>)<span style="color:#f92672">.</span>show()
</span></span></code></pre></div><h4 id="confirmed-covid-cases-dow-jones-gold-and-bitcoin-price">Confirmed covid cases, Dow Jones, Gold, and Bitcoin price:<a hidden class="anchor" aria-hidden="true" href="#confirmed-covid-cases-dow-jones-gold-and-bitcoin-price">#</a></h4>
<p><img loading="lazy" src="web/covid_cases.png" alt="Covid Cases"  />
</p>
<!-- raw HTML omitted -->
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> pandas <span style="color:#66d9ef">as</span> pd
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> plotly.graph_objects <span style="color:#66d9ef">as</span> go
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">main</span>():
</span></span><span style="display:flex;"><span>    display_data(wrangle_data(<span style="color:#f92672">*</span>scrape_data()))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">scrape_data</span>():
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">scrape_covid</span>():
</span></span><span style="display:flex;"><span>        url <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;https://covid.ourworldindata.org/data/owid-covid-data.csv&#39;</span>
</span></span><span style="display:flex;"><span>        df <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>read_csv(url, usecols<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;location&#39;</span>, <span style="color:#e6db74">&#39;date&#39;</span>, <span style="color:#e6db74">&#39;total_cases&#39;</span>])
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> df[df<span style="color:#f92672">.</span>location <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;World&#39;</span>]<span style="color:#f92672">.</span>set_index(<span style="color:#e6db74">&#39;date&#39;</span>)<span style="color:#f92672">.</span>total_cases
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">scrape_yahoo</span>(slug):
</span></span><span style="display:flex;"><span>        url <span style="color:#f92672">=</span> <span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;https://query1.finance.yahoo.com/v7/finance/download/</span><span style="color:#e6db74">{</span>slug<span style="color:#e6db74">}</span><span style="color:#e6db74">&#39;</span> <span style="color:#f92672">+</span> \
</span></span><span style="display:flex;"><span>              <span style="color:#e6db74">&#39;?period1=1579651200&amp;period2=9999999999&amp;interval=1d&amp;events=history&#39;</span>
</span></span><span style="display:flex;"><span>        df <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>read_csv(url, usecols<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;Date&#39;</span>, <span style="color:#e6db74">&#39;Close&#39;</span>])
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> df<span style="color:#f92672">.</span>set_index(<span style="color:#e6db74">&#39;Date&#39;</span>)<span style="color:#f92672">.</span>Close
</span></span><span style="display:flex;"><span>    out <span style="color:#f92672">=</span> scrape_covid(), scrape_yahoo(<span style="color:#e6db74">&#39;BTC-USD&#39;</span>), scrape_yahoo(<span style="color:#e6db74">&#39;GC=F&#39;</span>), scrape_yahoo(<span style="color:#e6db74">&#39;^DJI&#39;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> map(pd<span style="color:#f92672">.</span>Series<span style="color:#f92672">.</span>rename, out, [<span style="color:#e6db74">&#39;Total Cases&#39;</span>, <span style="color:#e6db74">&#39;Bitcoin&#39;</span>, <span style="color:#e6db74">&#39;Gold&#39;</span>, <span style="color:#e6db74">&#39;Dow Jones&#39;</span>])
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">wrangle_data</span>(covid, bitcoin, gold, dow):
</span></span><span style="display:flex;"><span>    df <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>concat([bitcoin, gold, dow], axis<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>)  <span style="color:#75715e"># Joins columns on dates.</span>
</span></span><span style="display:flex;"><span>    df <span style="color:#f92672">=</span> df<span style="color:#f92672">.</span>sort_index()<span style="color:#f92672">.</span>interpolate()            <span style="color:#75715e"># Sorts by date and interpolates NaN-s.</span>
</span></span><span style="display:flex;"><span>    df <span style="color:#f92672">=</span> df<span style="color:#f92672">.</span>loc[<span style="color:#e6db74">&#39;2020-02-23&#39;</span>:]                    <span style="color:#75715e"># Discards rows before &#39;2020-02-23&#39;.</span>
</span></span><span style="display:flex;"><span>    df <span style="color:#f92672">=</span> (df <span style="color:#f92672">/</span> df<span style="color:#f92672">.</span>iloc[<span style="color:#ae81ff">0</span>]) <span style="color:#f92672">*</span> <span style="color:#ae81ff">100</span>                  <span style="color:#75715e"># Calculates percentages relative to day 1.</span>
</span></span><span style="display:flex;"><span>    df <span style="color:#f92672">=</span> df<span style="color:#f92672">.</span>join(covid)                           <span style="color:#75715e"># Adds column with covid cases.</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> df<span style="color:#f92672">.</span>sort_values(df<span style="color:#f92672">.</span>index[<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>], axis<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>)   <span style="color:#75715e"># Sorts columns by last day&#39;s value.</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">display_data</span>(df):
</span></span><span style="display:flex;"><span>    figure <span style="color:#f92672">=</span> go<span style="color:#f92672">.</span>Figure()
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> col_name <span style="color:#f92672">in</span> reversed(df<span style="color:#f92672">.</span>columns):
</span></span><span style="display:flex;"><span>        yaxis <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;y1&#39;</span> <span style="color:#66d9ef">if</span> col_name <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;Total Cases&#39;</span> <span style="color:#66d9ef">else</span> <span style="color:#e6db74">&#39;y2&#39;</span>
</span></span><span style="display:flex;"><span>        trace <span style="color:#f92672">=</span> go<span style="color:#f92672">.</span>Scatter(x<span style="color:#f92672">=</span>df<span style="color:#f92672">.</span>index, y<span style="color:#f92672">=</span>df[col_name], name<span style="color:#f92672">=</span>col_name, yaxis<span style="color:#f92672">=</span>yaxis)
</span></span><span style="display:flex;"><span>        figure<span style="color:#f92672">.</span>add_trace(trace)
</span></span><span style="display:flex;"><span>    figure<span style="color:#f92672">.</span>update_layout(
</span></span><span style="display:flex;"><span>        yaxis1<span style="color:#f92672">=</span>dict(title<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;Total Cases&#39;</span>, rangemode<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;tozero&#39;</span>),
</span></span><span style="display:flex;"><span>        yaxis2<span style="color:#f92672">=</span>dict(title<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;%&#39;</span>, rangemode<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;tozero&#39;</span>, overlaying<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;y&#39;</span>, side<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;right&#39;</span>),
</span></span><span style="display:flex;"><span>        legend<span style="color:#f92672">=</span>dict(x<span style="color:#f92672">=</span><span style="color:#ae81ff">1.1</span>),
</span></span><span style="display:flex;"><span>        height<span style="color:#f92672">=</span><span style="color:#ae81ff">450</span>
</span></span><span style="display:flex;"><span>    )<span style="color:#f92672">.</span>show()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> __name__ <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;__main__&#39;</span>:
</span></span><span style="display:flex;"><span>    main()
</span></span></code></pre></div><h2 id="pysimplegui">PySimpleGUI<a hidden class="anchor" aria-hidden="true" href="#pysimplegui">#</a></h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># $ pip3 install PySimpleGUI</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> PySimpleGUI <span style="color:#66d9ef">as</span> sg
</span></span><span style="display:flex;"><span>layout <span style="color:#f92672">=</span> [[sg<span style="color:#f92672">.</span>Text(<span style="color:#e6db74">&#34;What&#39;s your name?&#34;</span>)], [sg<span style="color:#f92672">.</span>Input()], [sg<span style="color:#f92672">.</span>Button(<span style="color:#e6db74">&#39;Ok&#39;</span>)]]
</span></span><span style="display:flex;"><span>window <span style="color:#f92672">=</span> sg<span style="color:#f92672">.</span>Window(<span style="color:#e6db74">&#39;Window Title&#39;</span>, layout)
</span></span><span style="display:flex;"><span>event, values <span style="color:#f92672">=</span> window<span style="color:#f92672">.</span>read()
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;Hello </span><span style="color:#e6db74">{</span>values[<span style="color:#ae81ff">0</span>]<span style="color:#e6db74">}</span><span style="color:#e6db74">!&#39;</span> <span style="color:#66d9ef">if</span> event <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;Ok&#39;</span> <span style="color:#66d9ef">else</span> <span style="color:#e6db74">&#39;&#39;</span>)
</span></span></code></pre></div><h2 id="appendix">Appendix<a hidden class="anchor" aria-hidden="true" href="#appendix">#</a></h2>
<h3 id="cython">Cython<a hidden class="anchor" aria-hidden="true" href="#cython">#</a></h3>
<p><strong>Library that compiles Python code into C.</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># $ pip3 install cython</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> pyximport; pyximport<span style="color:#f92672">.</span>install()
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> <span style="color:#f92672">&lt;</span>cython_script<span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>cython_script<span style="color:#f92672">&gt;.</span>main()
</span></span></code></pre></div><h4 id="definitions">Definitions:<a hidden class="anchor" aria-hidden="true" href="#definitions">#</a></h4>
<ul>
<li><strong>All <code>'cdef'</code> definitions are optional, but they contribute to the speed-up.</strong></li>
<li><strong>Script needs to be saved with a <code>'pyx'</code> extension.</strong></li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>cdef <span style="color:#f92672">&lt;</span>ctype<span style="color:#f92672">&gt;</span> <span style="color:#f92672">&lt;</span>var_name<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>el<span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>cdef <span style="color:#f92672">&lt;</span>ctype<span style="color:#f92672">&gt;</span>[n_elements] <span style="color:#f92672">&lt;</span>var_name<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> [<span style="color:#f92672">&lt;</span>el_1<span style="color:#f92672">&gt;</span>, <span style="color:#f92672">&lt;</span>el_2<span style="color:#f92672">&gt;</span>, <span style="color:#f92672">...</span>]
</span></span><span style="display:flex;"><span>cdef <span style="color:#f92672">&lt;</span>ctype<span style="color:#f92672">/</span>void<span style="color:#f92672">&gt;</span> <span style="color:#f92672">&lt;</span>func_name<span style="color:#f92672">&gt;</span>(<span style="color:#f92672">&lt;</span>ctype<span style="color:#f92672">&gt;</span> <span style="color:#f92672">&lt;</span>arg_name_1<span style="color:#f92672">&gt;</span>, <span style="color:#f92672">...</span>): <span style="color:#960050;background-color:#1e0010">‚Ä¶</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>cdef <span style="color:#66d9ef">class</span> <span style="color:#960050;background-color:#1e0010">&lt;</span><span style="color:#a6e22e">class_name</span><span style="color:#f92672">&gt;</span>:
</span></span><span style="display:flex;"><span>    cdef public <span style="color:#f92672">&lt;</span>ctype<span style="color:#f92672">&gt;</span> <span style="color:#f92672">&lt;</span>attr_name<span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __init__(self, <span style="color:#f92672">&lt;</span>ctype<span style="color:#f92672">&gt;</span> <span style="color:#f92672">&lt;</span>arg_name<span style="color:#f92672">&gt;</span>):
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.&lt;</span>attr_name<span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#f92672">&lt;</span>arg_name<span style="color:#f92672">&gt;</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>cdef enum <span style="color:#f92672">&lt;</span>enum_name<span style="color:#f92672">&gt;</span>: <span style="color:#f92672">&lt;</span>member_name_1<span style="color:#f92672">&gt;</span>, <span style="color:#f92672">&lt;</span>member_name_2<span style="color:#f92672">&gt;</span>, <span style="color:#f92672">...</span>
</span></span></code></pre></div><h3 id="pyinstaller">PyInstaller<a hidden class="anchor" aria-hidden="true" href="#pyinstaller">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ pip3 install pyinstaller
</span></span><span style="display:flex;"><span>$ pyinstaller script.py                        <span style="color:#75715e"># Compiles into &#39;./dist/script&#39; directory.</span>
</span></span><span style="display:flex;"><span>$ pyinstaller script.py --onefile              <span style="color:#75715e"># Compiles into &#39;./dist/script&#39; console app.</span>
</span></span><span style="display:flex;"><span>$ pyinstaller script.py --windowed             <span style="color:#75715e"># Compiles into &#39;./dist/script&#39; windowed app.</span>
</span></span><span style="display:flex;"><span>$ pyinstaller script.py --add-data <span style="color:#e6db74">&#39;&lt;path&gt;:.&#39;</span>  <span style="color:#75715e"># Adds file to the root of the executable.</span>
</span></span></code></pre></div><ul>
<li><strong>File paths need to be updated to <code>'os.path.join(sys._MEIPASS, &lt;path&gt;)'</code>.</strong></li>
</ul>
<h3 id="basic-script-template">Basic Script Template<a hidden class="anchor" aria-hidden="true" href="#basic-script-template">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e">#!/usr/bin/env python3</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Usage: .py</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> sys <span style="color:#f92672">import</span> argv, exit
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> collections <span style="color:#f92672">import</span> defaultdict, namedtuple
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> dataclasses <span style="color:#f92672">import</span> make_dataclass
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> enum <span style="color:#f92672">import</span> Enum
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> functools <span style="color:#66d9ef">as</span> ft<span style="color:#f92672">,</span> itertools <span style="color:#66d9ef">as</span> it<span style="color:#f92672">,</span> operator <span style="color:#66d9ef">as</span> op<span style="color:#f92672">,</span> re
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">main</span>():
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">pass</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">###</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">##  UTIL</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">read_file</span>(filename):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">with</span> open(filename, encoding<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;utf-8&#39;</span>) <span style="color:#66d9ef">as</span> file:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> file<span style="color:#f92672">.</span>readlines()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> __name__ <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;__main__&#39;</span>:
</span></span><span style="display:flex;"><span>    main()
</span></span></code></pre></div><h2 id="index">Index<a hidden class="anchor" aria-hidden="true" href="#index">#</a></h2>
<ul>
<li><strong>Only available in the <a href="https://transactions.sendowl.com/products/78175486/4422834F/view">PDF</a>.</strong></li>
<li><strong>Ctrl+F / ‚åòF is usually sufficient.</strong></li>
<li><strong>Searching <code>'#&lt;title&gt;'</code> on the <a href="https://gto76.github.io/python-cheatsheet/">webpage</a> will limit the search to the titles.</strong></li>
</ul>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="http://janavmakkar.com/tags/python/">python</a></li>
      <li><a href="http://janavmakkar.com/tags/cheatsheet/">cheatsheet</a></li>
    </ul>
<nav class="paginav">
  <a class="prev" href="http://janavmakkar.com/tutorial/docker-commands/">
    <span class="title">¬´ Prev</span>
    <br>
    <span>Docker Commands üê≥</span>
  </a>
</nav>

  </footer>
</article>
    </main>
    
<footer class="footer">
    <span>&copy; 2023 <a href="http://janavmakkar.com/">IT is fun</a></span>
    <span>
        Powered by Masala-Chai
        
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
